var w6=Object.defineProperty;var $E=e=>{throw TypeError(e)};var E6=(e,t,n)=>t in e?w6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var H=(e,t,n)=>E6(e,typeof t!="symbol"?t+"":t,n),Oy=(e,t,n)=>t.has(e)||$E("Cannot "+n);var x=(e,t,n)=>(Oy(e,t,"read from private field"),n?n.call(e):t.get(e)),V=(e,t,n)=>t.has(e)?$E("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ut=(e,t,n,i)=>(Oy(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),xt=(e,t,n)=>(Oy(e,t,"access private method"),n);var zy=(e,t,n,i)=>({set _(r){ut(e,t,r,n)},get _(){return x(e,t,i)}});function T6(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in e)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function YA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dy={exports:{}},Th={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function M6(){if(HE)return Th;HE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,r,a){var l=null;if(a!==void 0&&(l=""+a),r.key!==void 0&&(l=""+r.key),"key"in r){a={};for(var u in r)u!=="key"&&(a[u]=r[u])}else a=r;return r=a.ref,{$$typeof:e,type:i,key:l,ref:r!==void 0?r:null,props:a}}return Th.Fragment=t,Th.jsx=n,Th.jsxs=n,Th}var IE;function S6(){return IE||(IE=1,Dy.exports=M6()),Dy.exports}var B=S6(),Ly={exports:{}},Pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function A6(){if(qE)return Pt;qE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function y(F){return F===null||typeof F!="object"?null:(F=p&&F[p]||F["@@iterator"],typeof F=="function"?F:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function E(F,ot,vt){this.props=F,this.context=ot,this.refs=w,this.updater=vt||_}E.prototype.isReactComponent={},E.prototype.setState=function(F,ot){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ot,"setState")},E.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function M(){}M.prototype=E.prototype;function R(F,ot,vt){this.props=F,this.context=ot,this.refs=w,this.updater=vt||_}var z=R.prototype=new M;z.constructor=R,v(z,E.prototype),z.isPureReactComponent=!0;var D=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function k(F,ot,vt,wt,Mt,It){return vt=It.ref,{$$typeof:e,type:F,key:ot,ref:vt!==void 0?vt:null,props:It}}function $(F,ot){return k(F.type,ot,void 0,void 0,void 0,F.props)}function q(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function X(F){var ot={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(vt){return ot[vt]})}var tt=/\/+/g;function at(F,ot){return typeof F=="object"&&F!==null&&F.key!=null?X(""+F.key):ot.toString(36)}function J(){}function et(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(J,J):(F.status="pending",F.then(function(ot){F.status==="pending"&&(F.status="fulfilled",F.value=ot)},function(ot){F.status==="pending"&&(F.status="rejected",F.reason=ot)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function bt(F,ot,vt,wt,Mt){var It=typeof F;(It==="undefined"||It==="boolean")&&(F=null);var Rt=!1;if(F===null)Rt=!0;else switch(It){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(F.$$typeof){case e:case t:Rt=!0;break;case d:return Rt=F._init,bt(Rt(F._payload),ot,vt,wt,Mt)}}if(Rt)return Mt=Mt(F),Rt=wt===""?"."+at(F,0):wt,D(Mt)?(vt="",Rt!=null&&(vt=Rt.replace(tt,"$&/")+"/"),bt(Mt,ot,vt,"",function(Bn){return Bn})):Mt!=null&&(q(Mt)&&(Mt=$(Mt,vt+(Mt.key==null||F&&F.key===Mt.key?"":(""+Mt.key).replace(tt,"$&/")+"/")+Rt)),ot.push(Mt)),1;Rt=0;var Ye=wt===""?".":wt+":";if(D(F))for(var Xt=0;Xt<F.length;Xt++)wt=F[Xt],It=Ye+at(wt,Xt),Rt+=bt(wt,ot,vt,It,Mt);else if(Xt=y(F),typeof Xt=="function")for(F=Xt.call(F),Xt=0;!(wt=F.next()).done;)wt=wt.value,It=Ye+at(wt,Xt++),Rt+=bt(wt,ot,vt,It,Mt);else if(It==="object"){if(typeof F.then=="function")return bt(et(F),ot,vt,wt,Mt);throw ot=String(F),Error("Objects are not valid as a React child (found: "+(ot==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ot)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function G(F,ot,vt){if(F==null)return F;var wt=[],Mt=0;return bt(F,wt,"","",function(It){return ot.call(vt,It,Mt++)}),wt}function nt(F){if(F._status===-1){var ot=F._result;ot=ot(),ot.then(function(vt){(F._status===0||F._status===-1)&&(F._status=1,F._result=vt)},function(vt){(F._status===0||F._status===-1)&&(F._status=2,F._result=vt)}),F._status===-1&&(F._status=0,F._result=ot)}if(F._status===1)return F._result.default;throw F._result}var ft=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ot=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ot))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function ht(){}return Pt.Children={map:G,forEach:function(F,ot,vt){G(F,function(){ot.apply(this,arguments)},vt)},count:function(F){var ot=0;return G(F,function(){ot++}),ot},toArray:function(F){return G(F,function(ot){return ot})||[]},only:function(F){if(!q(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Pt.Component=E,Pt.Fragment=n,Pt.Profiler=r,Pt.PureComponent=R,Pt.StrictMode=i,Pt.Suspense=h,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Pt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return C.H.useMemoCache(F)}},Pt.cache=function(F){return function(){return F.apply(null,arguments)}},Pt.cloneElement=function(F,ot,vt){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var wt=v({},F.props),Mt=F.key,It=void 0;if(ot!=null)for(Rt in ot.ref!==void 0&&(It=void 0),ot.key!==void 0&&(Mt=""+ot.key),ot)!N.call(ot,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&ot.ref===void 0||(wt[Rt]=ot[Rt]);var Rt=arguments.length-2;if(Rt===1)wt.children=vt;else if(1<Rt){for(var Ye=Array(Rt),Xt=0;Xt<Rt;Xt++)Ye[Xt]=arguments[Xt+2];wt.children=Ye}return k(F.type,Mt,void 0,void 0,It,wt)},Pt.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:a,_context:F},F},Pt.createElement=function(F,ot,vt){var wt,Mt={},It=null;if(ot!=null)for(wt in ot.key!==void 0&&(It=""+ot.key),ot)N.call(ot,wt)&&wt!=="key"&&wt!=="__self"&&wt!=="__source"&&(Mt[wt]=ot[wt]);var Rt=arguments.length-2;if(Rt===1)Mt.children=vt;else if(1<Rt){for(var Ye=Array(Rt),Xt=0;Xt<Rt;Xt++)Ye[Xt]=arguments[Xt+2];Mt.children=Ye}if(F&&F.defaultProps)for(wt in Rt=F.defaultProps,Rt)Mt[wt]===void 0&&(Mt[wt]=Rt[wt]);return k(F,It,void 0,void 0,null,Mt)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(F){return{$$typeof:u,render:F}},Pt.isValidElement=q,Pt.lazy=function(F){return{$$typeof:d,_payload:{_status:-1,_result:F},_init:nt}},Pt.memo=function(F,ot){return{$$typeof:f,type:F,compare:ot===void 0?null:ot}},Pt.startTransition=function(F){var ot=C.T,vt={};C.T=vt;try{var wt=F(),Mt=C.S;Mt!==null&&Mt(vt,wt),typeof wt=="object"&&wt!==null&&typeof wt.then=="function"&&wt.then(ht,ft)}catch(It){ft(It)}finally{C.T=ot}},Pt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Pt.use=function(F){return C.H.use(F)},Pt.useActionState=function(F,ot,vt){return C.H.useActionState(F,ot,vt)},Pt.useCallback=function(F,ot){return C.H.useCallback(F,ot)},Pt.useContext=function(F){return C.H.useContext(F)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(F,ot){return C.H.useDeferredValue(F,ot)},Pt.useEffect=function(F,ot,vt){var wt=C.H;if(typeof vt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return wt.useEffect(F,ot)},Pt.useId=function(){return C.H.useId()},Pt.useImperativeHandle=function(F,ot,vt){return C.H.useImperativeHandle(F,ot,vt)},Pt.useInsertionEffect=function(F,ot){return C.H.useInsertionEffect(F,ot)},Pt.useLayoutEffect=function(F,ot){return C.H.useLayoutEffect(F,ot)},Pt.useMemo=function(F,ot){return C.H.useMemo(F,ot)},Pt.useOptimistic=function(F,ot){return C.H.useOptimistic(F,ot)},Pt.useReducer=function(F,ot,vt){return C.H.useReducer(F,ot,vt)},Pt.useRef=function(F){return C.H.useRef(F)},Pt.useState=function(F){return C.H.useState(F)},Pt.useSyncExternalStore=function(F,ot,vt){return C.H.useSyncExternalStore(F,ot,vt)},Pt.useTransition=function(){return C.H.useTransition()},Pt.version="19.1.1",Pt}var GE;function sp(){return GE||(GE=1,Ly.exports=A6()),Ly.exports}var O=sp();const At=YA(O),XA=T6({__proto__:null,default:At},[O]);var Uy={exports:{}},Mh={},Ny={exports:{}},ky={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE;function C6(){return YE||(YE=1,function(e){function t(G,nt){var ft=G.length;G.push(nt);t:for(;0<ft;){var ht=ft-1>>>1,F=G[ht];if(0<r(F,nt))G[ht]=nt,G[ft]=F,ft=ht;else break t}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var nt=G[0],ft=G.pop();if(ft!==nt){G[0]=ft;t:for(var ht=0,F=G.length,ot=F>>>1;ht<ot;){var vt=2*(ht+1)-1,wt=G[vt],Mt=vt+1,It=G[Mt];if(0>r(wt,ft))Mt<F&&0>r(It,wt)?(G[ht]=It,G[Mt]=ft,ht=Mt):(G[ht]=wt,G[vt]=ft,ht=vt);else if(Mt<F&&0>r(It,ft))G[ht]=It,G[Mt]=ft,ht=Mt;else break t}}return nt}function r(G,nt){var ft=G.sortIndex-nt.sortIndex;return ft!==0?ft:G.id-nt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var h=[],f=[],d=1,p=null,y=3,_=!1,v=!1,w=!1,E=!1,M=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function D(G){for(var nt=n(f);nt!==null;){if(nt.callback===null)i(f);else if(nt.startTime<=G)i(f),nt.sortIndex=nt.expirationTime,t(h,nt);else break;nt=n(f)}}function C(G){if(w=!1,D(G),!v)if(n(h)!==null)v=!0,N||(N=!0,at());else{var nt=n(f);nt!==null&&bt(C,nt.startTime-G)}}var N=!1,k=-1,$=5,q=-1;function X(){return E?!0:!(e.unstable_now()-q<$)}function tt(){if(E=!1,N){var G=e.unstable_now();q=G;var nt=!0;try{t:{v=!1,w&&(w=!1,R(k),k=-1),_=!0;var ft=y;try{e:{for(D(G),p=n(h);p!==null&&!(p.expirationTime>G&&X());){var ht=p.callback;if(typeof ht=="function"){p.callback=null,y=p.priorityLevel;var F=ht(p.expirationTime<=G);if(G=e.unstable_now(),typeof F=="function"){p.callback=F,D(G),nt=!0;break e}p===n(h)&&i(h),D(G)}else i(h);p=n(h)}if(p!==null)nt=!0;else{var ot=n(f);ot!==null&&bt(C,ot.startTime-G),nt=!1}}break t}finally{p=null,y=ft,_=!1}nt=void 0}}finally{nt?at():N=!1}}}var at;if(typeof z=="function")at=function(){z(tt)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,et=J.port2;J.port1.onmessage=tt,at=function(){et.postMessage(null)}}else at=function(){M(tt,0)};function bt(G,nt){k=M(function(){G(e.unstable_now())},nt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(G){switch(y){case 1:case 2:case 3:var nt=3;break;default:nt=y}var ft=y;y=nt;try{return G()}finally{y=ft}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ft=y;y=G;try{return nt()}finally{y=ft}},e.unstable_scheduleCallback=function(G,nt,ft){var ht=e.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?ht+ft:ht):ft=ht,G){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ft+F,G={id:d++,callback:nt,priorityLevel:G,startTime:ft,expirationTime:F,sortIndex:-1},ft>ht?(G.sortIndex=ft,t(f,G),n(h)===null&&G===n(f)&&(w?(R(k),k=-1):w=!0,bt(C,ft-ht))):(G.sortIndex=F,t(h,G),v||_||(v=!0,N||(N=!0,at()))),G},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(G){var nt=y;return function(){var ft=y;y=nt;try{return G.apply(this,arguments)}finally{y=ft}}}}(ky)),ky}var XE;function R6(){return XE||(XE=1,Ny.exports=C6()),Ny.exports}var Py={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZE;function O6(){if(ZE)return gn;ZE=1;var e=sp();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(h,f,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:h,containerInfo:f,implementation:d}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gn.createPortal=function(h,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(h,f,null,d)},gn.flushSync=function(h){var f=l.T,d=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=f,i.p=d,i.d.f()}},gn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},gn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},gn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var d=f.as,p=u(d,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:_}):d==="script"&&i.d.X(h,{crossOrigin:p,integrity:y,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},gn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=u(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},gn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,p=u(d,f.crossOrigin);i.d.L(h,d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},gn.preloadModule=function(h,f){if(typeof h=="string")if(f){var d=u(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},gn.requestFormReset=function(h){i.d.r(h)},gn.unstable_batchedUpdates=function(h,f){return h(f)},gn.useFormState=function(h,f,d){return l.H.useFormState(h,f,d)},gn.useFormStatus=function(){return l.H.useHostTransitionStatus()},gn.version="19.1.1",gn}var KE;function ZA(){if(KE)return Py.exports;KE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Py.exports=O6(),Py.exports}var QE;function z6(){if(QE)return Mh;QE=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=R6(),t=sp(),n=ZA();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(i(188))}function h(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(i(188));return o!==s?null:s}for(var c=s,m=o;;){var g=c.return;if(g===null)break;var b=g.alternate;if(b===null){if(m=g.return,m!==null){c=m;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===c)return u(g),s;if(b===m)return u(g),o;b=b.sibling}throw Error(i(188))}if(c.return!==m.return)c=g,m=b;else{for(var A=!1,U=g.child;U;){if(U===c){A=!0,c=g,m=b;break}if(U===m){A=!0,m=g,c=b;break}U=U.sibling}if(!A){for(U=b.child;U;){if(U===c){A=!0,c=b,m=g;break}if(U===m){A=!0,m=b,c=g;break}U=U.sibling}if(!A)throw Error(i(189))}}if(c.alternate!==m)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:o}function f(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=f(s),o!==null)return o;s=s.sibling}return null}var d=Object.assign,p=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),z=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),tt=Symbol.iterator;function at(s){return s===null||typeof s!="object"?null:(s=tt&&s[tt]||s["@@iterator"],typeof s=="function"?s:null)}var J=Symbol.for("react.client.reference");function et(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===J?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case v:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case C:return"Suspense";case N:return"SuspenseList";case q:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case _:return"Portal";case z:return(s.displayName||"Context")+".Provider";case R:return(s._context.displayName||"Context")+".Consumer";case D:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case k:return o=s.displayName||null,o!==null?o:et(s.type)||"Memo";case $:o=s._payload,s=s._init;try{return et(s(o))}catch{}}return null}var bt=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},ht=[],F=-1;function ot(s){return{current:s}}function vt(s){0>F||(s.current=ht[F],ht[F]=null,F--)}function wt(s,o){F++,ht[F]=s.current,s.current=o}var Mt=ot(null),It=ot(null),Rt=ot(null),Ye=ot(null);function Xt(s,o){switch(wt(Rt,o),wt(It,s),wt(Mt,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?_E(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=_E(o),s=yE(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}vt(Mt),wt(Mt,s)}function Bn(){vt(Mt),vt(It),vt(Rt)}function Ds(s){s.memoizedState!==null&&wt(Ye,s);var o=Mt.current,c=yE(o,s.type);o!==c&&(wt(It,s),wt(Mt,c))}function Vr(s){It.current===s&&(vt(Mt),vt(It)),Ye.current===s&&(vt(Ye),vh._currentValue=ft)}var $r=Object.prototype.hasOwnProperty,bi=e.unstable_scheduleCallback,qi=e.unstable_cancelCallback,Sc=e.unstable_shouldYield,Ac=e.unstable_requestPaint,pn=e.unstable_now,Cc=e.unstable_getCurrentPriorityLevel,$o=e.unstable_ImmediatePriority,ei=e.unstable_UserBlockingPriority,An=e.unstable_NormalPriority,Fn=e.unstable_LowPriority,Ls=e.unstable_IdlePriority,Ho=e.log,Cn=e.unstable_setDisableYieldValue,Hr=null,L=null;function T(s){if(typeof Ho=="function"&&Cn(s),L&&typeof L.setStrictMode=="function")try{L.setStrictMode(Hr,s)}catch{}}var S=Math.clz32?Math.clz32:lt,P=Math.log,Y=Math.LN2;function lt(s){return s>>>=0,s===0?32:31-(P(s)/Y|0)|0}var mt=256,Nt=4194304;function Qt(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ee(s,o,c){var m=s.pendingLanes;if(m===0)return 0;var g=0,b=s.suspendedLanes,A=s.pingedLanes;s=s.warmLanes;var U=m&134217727;return U!==0?(m=U&~b,m!==0?g=Qt(m):(A&=U,A!==0?g=Qt(A):c||(c=U&~s,c!==0&&(g=Qt(c))))):(U=m&~b,U!==0?g=Qt(U):A!==0?g=Qt(A):c||(c=m&~s,c!==0&&(g=Qt(c)))),g===0?0:o!==0&&o!==g&&(o&b)===0&&(b=g&-g,c=o&-o,b>=c||b===32&&(c&4194048)!==0)?o:g}function ne(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Zt(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function md(){var s=mt;return mt<<=1,(mt&4194048)===0&&(mt=256),s}function Io(){var s=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),s}function Rc(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function _n(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ir(s,o,c,m,g,b){var A=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var U=s.entanglements,j=s.expirationTimes,W=s.hiddenUpdates;for(c=A&~c;0<c;){var dt=31-S(c),yt=1<<dt;U[dt]=0,j[dt]=-1;var it=W[dt];if(it!==null)for(W[dt]=null,dt=0;dt<it.length;dt++){var st=it[dt];st!==null&&(st.lane&=-536870913)}c&=~yt}m!==0&&Oc(s,m,0),b!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=b&~(A&~o))}function Oc(s,o,c){s.pendingLanes|=o,s.suspendedLanes&=~o;var m=31-S(o);s.entangledLanes|=o,s.entanglements[m]=s.entanglements[m]|1073741824|c&4194090}function qo(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var m=31-S(c),g=1<<m;g&o|s[m]&o&&(s[m]|=o),c&=~g}}function zc(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function _t(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function gt(){var s=nt.p;return s!==0?s:(s=window.event,s===void 0?32:kE(s.type))}function jt(s,o){var c=nt.p;try{return nt.p=s,o()}finally{nt.p=c}}var St=Math.random().toString(36).slice(2),qt="__reactFiber$"+St,Wt="__reactProps$"+St,ye="__reactContainer$"+St,Je="__reactEvents$"+St,ni="__reactListeners$"+St,ii="__reactHandles$"+St,jn="__reactResources$"+St,Gi="__reactMarker$"+St;function ae(s){delete s[qt],delete s[Wt],delete s[Je],delete s[ni],delete s[ii]}function he(s){var o=s[qt];if(o)return o;for(var c=s.parentNode;c;){if(o=c[ye]||c[qt]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=bE(s);s!==null;){if(c=s[qt])return c;s=bE(s)}return o}s=c,c=s.parentNode}return null}function wi(s){if(s=s[qt]||s[ye]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function tn(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function Rn(s){var o=s[jn];return o||(o=s[jn]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function we(s){s[Gi]=!0}var ri=new Set,Us={};function Ba(s,o){Go(s,o),Go(s+"Capture",o)}function Go(s,o){for(Us[s]=o,s=0;s<o.length;s++)ri.add(o[s])}var mz=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ox={},lx={};function pz(s){return $r.call(lx,s)?!0:$r.call(ox,s)?!1:mz.test(s)?lx[s]=!0:(ox[s]=!0,!1)}function pd(s,o,c){if(pz(o))if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+c)}}function _d(s,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+c)}}function qr(s,o,c,m){if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(o,c,""+m)}}var Tp,ux;function Yo(s){if(Tp===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Tp=o&&o[1]||"",ux=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tp+s+ux}var Mp=!1;function Sp(s,o){if(!s||Mp)return"";Mp=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var yt=function(){throw Error()};if(Object.defineProperty(yt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(yt,[])}catch(st){var it=st}Reflect.construct(s,[],yt)}else{try{yt.call()}catch(st){it=st}s.call(yt.prototype)}}else{try{throw Error()}catch(st){it=st}(yt=s())&&typeof yt.catch=="function"&&yt.catch(function(){})}}catch(st){if(st&&it&&typeof st.stack=="string")return[st.stack,it.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),A=b[0],U=b[1];if(A&&U){var j=A.split(`
`),W=U.split(`
`);for(g=m=0;m<j.length&&!j[m].includes("DetermineComponentFrameRoot");)m++;for(;g<W.length&&!W[g].includes("DetermineComponentFrameRoot");)g++;if(m===j.length||g===W.length)for(m=j.length-1,g=W.length-1;1<=m&&0<=g&&j[m]!==W[g];)g--;for(;1<=m&&0<=g;m--,g--)if(j[m]!==W[g]){if(m!==1||g!==1)do if(m--,g--,0>g||j[m]!==W[g]){var dt=`
`+j[m].replace(" at new "," at ");return s.displayName&&dt.includes("<anonymous>")&&(dt=dt.replace("<anonymous>",s.displayName)),dt}while(1<=m&&0<=g);break}}}finally{Mp=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Yo(c):""}function _z(s){switch(s.tag){case 26:case 27:case 5:return Yo(s.type);case 16:return Yo("Lazy");case 13:return Yo("Suspense");case 19:return Yo("SuspenseList");case 0:case 15:return Sp(s.type,!1);case 11:return Sp(s.type.render,!1);case 1:return Sp(s.type,!0);case 31:return Yo("Activity");default:return""}}function cx(s){try{var o="";do o+=_z(s),s=s.return;while(s);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Ei(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function hx(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function yz(s){var o=hx(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),m=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,b=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(A){m=""+A,b.call(this,A)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(A){m=""+A},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function yd(s){s._valueTracker||(s._valueTracker=yz(s))}function fx(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),m="";return s&&(m=hx(s)?s.checked?"true":"false":s.value),s=m,s!==c?(o.setValue(s),!0):!1}function gd(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var gz=/[\n"\\]/g;function Ti(s){return s.replace(gz,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ap(s,o,c,m,g,b,A,U){s.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.type=A:s.removeAttribute("type"),o!=null?A==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Ei(o)):s.value!==""+Ei(o)&&(s.value=""+Ei(o)):A!=="submit"&&A!=="reset"||s.removeAttribute("value"),o!=null?Cp(s,A,Ei(o)):c!=null?Cp(s,A,Ei(c)):m!=null&&s.removeAttribute("value"),g==null&&b!=null&&(s.defaultChecked=!!b),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?s.name=""+Ei(U):s.removeAttribute("name")}function dx(s,o,c,m,g,b,A,U){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),o!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;c=c!=null?""+Ei(c):"",o=o!=null?""+Ei(o):c,U||o===s.value||(s.value=o),s.defaultValue=o}m=m??g,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=U?s.checked:!!m,s.defaultChecked=!!m,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.name=A)}function Cp(s,o,c){o==="number"&&gd(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Xo(s,o,c,m){if(s=s.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=o.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&m&&(s[c].defaultSelected=!0)}else{for(c=""+Ei(c),o=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,m&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function mx(s,o,c){if(o!=null&&(o=""+Ei(o),o!==s.value&&(s.value=o),c==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=c!=null?""+Ei(c):""}function px(s,o,c,m){if(o==null){if(m!=null){if(c!=null)throw Error(i(92));if(bt(m)){if(1<m.length)throw Error(i(93));m=m[0]}c=m}c==null&&(c=""),o=c}c=Ei(o),s.defaultValue=c,m=s.textContent,m===c&&m!==""&&m!==null&&(s.value=m)}function Zo(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var vz=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _x(s,o,c){var m=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":m?s.setProperty(o,c):typeof c!="number"||c===0||vz.has(o)?o==="float"?s.cssFloat=c:s[o]=(""+c).trim():s[o]=c+"px"}function yx(s,o,c){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var g in o)m=o[g],o.hasOwnProperty(g)&&c[g]!==m&&_x(s,g,m)}else for(var b in o)o.hasOwnProperty(b)&&_x(s,b,o[b])}function Rp(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xz=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bz=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vd(s){return bz.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Op=null;function zp(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ko=null,Qo=null;function gx(s){var o=wi(s);if(o&&(s=o.stateNode)){var c=s[Wt]||null;t:switch(s=o.stateNode,o.type){case"input":if(Ap(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Ti(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var m=c[o];if(m!==s&&m.form===s.form){var g=m[Wt]||null;if(!g)throw Error(i(90));Ap(m,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<c.length;o++)m=c[o],m.form===s.form&&fx(m)}break t;case"textarea":mx(s,c.value,c.defaultValue);break t;case"select":o=c.value,o!=null&&Xo(s,!!c.multiple,o,!1)}}}var Dp=!1;function vx(s,o,c){if(Dp)return s(o,c);Dp=!0;try{var m=s(o);return m}finally{if(Dp=!1,(Ko!==null||Qo!==null)&&(rm(),Ko&&(o=Ko,s=Qo,Qo=Ko=null,gx(o),s)))for(o=0;o<s.length;o++)gx(s[o])}}function Dc(s,o){var c=s.stateNode;if(c===null)return null;var m=c[Wt]||null;if(m===null)return null;c=m[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break t;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,o,typeof c));return c}var Gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lp=!1;if(Gr)try{var Lc={};Object.defineProperty(Lc,"passive",{get:function(){Lp=!0}}),window.addEventListener("test",Lc,Lc),window.removeEventListener("test",Lc,Lc)}catch{Lp=!1}var Ns=null,Up=null,xd=null;function xx(){if(xd)return xd;var s,o=Up,c=o.length,m,g="value"in Ns?Ns.value:Ns.textContent,b=g.length;for(s=0;s<c&&o[s]===g[s];s++);var A=c-s;for(m=1;m<=A&&o[c-m]===g[b-m];m++);return xd=g.slice(s,1<m?1-m:void 0)}function bd(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function wd(){return!0}function bx(){return!1}function Vn(s){function o(c,m,g,b,A){this._reactName=c,this._targetInst=g,this.type=m,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var U in s)s.hasOwnProperty(U)&&(c=s[U],this[U]=c?c(b):b[U]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?wd:bx,this.isPropagationStopped=bx,this}return d(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=wd)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=wd)},persist:function(){},isPersistent:wd}),o}var Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ed=Vn(Fa),Uc=d({},Fa,{view:0,detail:0}),wz=Vn(Uc),Np,kp,Nc,Td=d({},Uc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bp,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Nc&&(Nc&&s.type==="mousemove"?(Np=s.screenX-Nc.screenX,kp=s.screenY-Nc.screenY):kp=Np=0,Nc=s),Np)},movementY:function(s){return"movementY"in s?s.movementY:kp}}),wx=Vn(Td),Ez=d({},Td,{dataTransfer:0}),Tz=Vn(Ez),Mz=d({},Uc,{relatedTarget:0}),Pp=Vn(Mz),Sz=d({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0}),Az=Vn(Sz),Cz=d({},Fa,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Rz=Vn(Cz),Oz=d({},Fa,{data:0}),Ex=Vn(Oz),zz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uz(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Lz[s])?!!o[s]:!1}function Bp(){return Uz}var Nz=d({},Uc,{key:function(s){if(s.key){var o=zz[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=bd(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Dz[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bp,charCode:function(s){return s.type==="keypress"?bd(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?bd(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),kz=Vn(Nz),Pz=d({},Td,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tx=Vn(Pz),Bz=d({},Uc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bp}),Fz=Vn(Bz),jz=d({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vz=Vn(jz),$z=d({},Td,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Hz=Vn($z),Iz=d({},Fa,{newState:0,oldState:0}),qz=Vn(Iz),Gz=[9,13,27,32],Fp=Gr&&"CompositionEvent"in window,kc=null;Gr&&"documentMode"in document&&(kc=document.documentMode);var Yz=Gr&&"TextEvent"in window&&!kc,Mx=Gr&&(!Fp||kc&&8<kc&&11>=kc),Sx=" ",Ax=!1;function Cx(s,o){switch(s){case"keyup":return Gz.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rx(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Wo=!1;function Xz(s,o){switch(s){case"compositionend":return Rx(o);case"keypress":return o.which!==32?null:(Ax=!0,Sx);case"textInput":return s=o.data,s===Sx&&Ax?null:s;default:return null}}function Zz(s,o){if(Wo)return s==="compositionend"||!Fp&&Cx(s,o)?(s=xx(),xd=Up=Ns=null,Wo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Mx&&o.locale!=="ko"?null:o.data;default:return null}}var Kz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ox(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Kz[s.type]:o==="textarea"}function zx(s,o,c,m){Ko?Qo?Qo.push(m):Qo=[m]:Ko=m,o=cm(o,"onChange"),0<o.length&&(c=new Ed("onChange","change",null,c,m),s.push({event:c,listeners:o}))}var Pc=null,Bc=null;function Qz(s){hE(s,0)}function Md(s){var o=tn(s);if(fx(o))return s}function Dx(s,o){if(s==="change")return o}var Lx=!1;if(Gr){var jp;if(Gr){var Vp="oninput"in document;if(!Vp){var Ux=document.createElement("div");Ux.setAttribute("oninput","return;"),Vp=typeof Ux.oninput=="function"}jp=Vp}else jp=!1;Lx=jp&&(!document.documentMode||9<document.documentMode)}function Nx(){Pc&&(Pc.detachEvent("onpropertychange",kx),Bc=Pc=null)}function kx(s){if(s.propertyName==="value"&&Md(Bc)){var o=[];zx(o,Bc,s,zp(s)),vx(Qz,o)}}function Wz(s,o,c){s==="focusin"?(Nx(),Pc=o,Bc=c,Pc.attachEvent("onpropertychange",kx)):s==="focusout"&&Nx()}function Jz(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Md(Bc)}function t3(s,o){if(s==="click")return Md(o)}function e3(s,o){if(s==="input"||s==="change")return Md(o)}function n3(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var si=typeof Object.is=="function"?Object.is:n3;function Fc(s,o){if(si(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),m=Object.keys(o);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var g=c[m];if(!$r.call(o,g)||!si(s[g],o[g]))return!1}return!0}function Px(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Bx(s,o){var c=Px(s);s=0;for(var m;c;){if(c.nodeType===3){if(m=s+c.textContent.length,s<=o&&m>=o)return{node:c,offset:o-s};s=m}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=Px(c)}}function Fx(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Fx(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function jx(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=gd(s.document);o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=gd(s.document)}return o}function $p(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var i3=Gr&&"documentMode"in document&&11>=document.documentMode,Jo=null,Hp=null,jc=null,Ip=!1;function Vx(s,o,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ip||Jo==null||Jo!==gd(m)||(m=Jo,"selectionStart"in m&&$p(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),jc&&Fc(jc,m)||(jc=m,m=cm(Hp,"onSelect"),0<m.length&&(o=new Ed("onSelect","select",null,o,c),s.push({event:o,listeners:m}),o.target=Jo)))}function ja(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var tl={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionrun:ja("Transition","TransitionRun"),transitionstart:ja("Transition","TransitionStart"),transitioncancel:ja("Transition","TransitionCancel"),transitionend:ja("Transition","TransitionEnd")},qp={},$x={};Gr&&($x=document.createElement("div").style,"AnimationEvent"in window||(delete tl.animationend.animation,delete tl.animationiteration.animation,delete tl.animationstart.animation),"TransitionEvent"in window||delete tl.transitionend.transition);function Va(s){if(qp[s])return qp[s];if(!tl[s])return s;var o=tl[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in $x)return qp[s]=o[c];return s}var Hx=Va("animationend"),Ix=Va("animationiteration"),qx=Va("animationstart"),r3=Va("transitionrun"),s3=Va("transitionstart"),a3=Va("transitioncancel"),Gx=Va("transitionend"),Yx=new Map,Gp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gp.push("scrollEnd");function Yi(s,o){Yx.set(s,o),Ba(o,[s])}var Xx=new WeakMap;function Mi(s,o){if(typeof s=="object"&&s!==null){var c=Xx.get(s);return c!==void 0?c:(o={value:s,source:o,stack:cx(o)},Xx.set(s,o),o)}return{value:s,source:o,stack:cx(o)}}var Si=[],el=0,Yp=0;function Sd(){for(var s=el,o=Yp=el=0;o<s;){var c=Si[o];Si[o++]=null;var m=Si[o];Si[o++]=null;var g=Si[o];Si[o++]=null;var b=Si[o];if(Si[o++]=null,m!==null&&g!==null){var A=m.pending;A===null?g.next=g:(g.next=A.next,A.next=g),m.pending=g}b!==0&&Zx(c,g,b)}}function Ad(s,o,c,m){Si[el++]=s,Si[el++]=o,Si[el++]=c,Si[el++]=m,Yp|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function Xp(s,o,c,m){return Ad(s,o,c,m),Cd(s)}function nl(s,o){return Ad(s,null,null,o),Cd(s)}function Zx(s,o,c){s.lanes|=c;var m=s.alternate;m!==null&&(m.lanes|=c);for(var g=!1,b=s.return;b!==null;)b.childLanes|=c,m=b.alternate,m!==null&&(m.childLanes|=c),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(g=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,g&&o!==null&&(g=31-S(c),s=b.hiddenUpdates,m=s[g],m===null?s[g]=[o]:m.push(o),o.lane=c|536870912),b):null}function Cd(s){if(50<hh)throw hh=0,ty=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var il={};function o3(s,o,c,m){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(s,o,c,m){return new o3(s,o,c,m)}function Zp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Yr(s,o){var c=s.alternate;return c===null?(c=ai(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function Kx(s,o){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,o=c.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Rd(s,o,c,m,g,b){var A=0;if(m=s,typeof s=="function")Zp(s)&&(A=1);else if(typeof s=="string")A=u6(s,c,Mt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case q:return s=ai(31,c,o,g),s.elementType=q,s.lanes=b,s;case v:return $a(c.children,g,b,o);case w:A=8,g|=24;break;case E:return s=ai(12,c,o,g|2),s.elementType=E,s.lanes=b,s;case C:return s=ai(13,c,o,g),s.elementType=C,s.lanes=b,s;case N:return s=ai(19,c,o,g),s.elementType=N,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:case z:A=10;break t;case R:A=9;break t;case D:A=11;break t;case k:A=14;break t;case $:A=16,m=null;break t}A=29,c=Error(i(130,s===null?"null":typeof s,"")),m=null}return o=ai(A,c,o,g),o.elementType=s,o.type=m,o.lanes=b,o}function $a(s,o,c,m){return s=ai(7,s,m,o),s.lanes=c,s}function Kp(s,o,c){return s=ai(6,s,null,o),s.lanes=c,s}function Qp(s,o,c){return o=ai(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var rl=[],sl=0,Od=null,zd=0,Ai=[],Ci=0,Ha=null,Xr=1,Zr="";function Ia(s,o){rl[sl++]=zd,rl[sl++]=Od,Od=s,zd=o}function Qx(s,o,c){Ai[Ci++]=Xr,Ai[Ci++]=Zr,Ai[Ci++]=Ha,Ha=s;var m=Xr;s=Zr;var g=32-S(m)-1;m&=~(1<<g),c+=1;var b=32-S(o)+g;if(30<b){var A=g-g%5;b=(m&(1<<A)-1).toString(32),m>>=A,g-=A,Xr=1<<32-S(o)+g|c<<g|m,Zr=b+s}else Xr=1<<b|c<<g|m,Zr=s}function Wp(s){s.return!==null&&(Ia(s,1),Qx(s,1,0))}function Jp(s){for(;s===Od;)Od=rl[--sl],rl[sl]=null,zd=rl[--sl],rl[sl]=null;for(;s===Ha;)Ha=Ai[--Ci],Ai[Ci]=null,Zr=Ai[--Ci],Ai[Ci]=null,Xr=Ai[--Ci],Ai[Ci]=null}var On=null,Ce=null,ie=!1,qa=null,fr=!1,t_=Error(i(519));function Ga(s){var o=Error(i(418,""));throw Hc(Mi(o,s)),t_}function Wx(s){var o=s.stateNode,c=s.type,m=s.memoizedProps;switch(o[qt]=s,o[Wt]=m,c){case"dialog":Yt("cancel",o),Yt("close",o);break;case"iframe":case"object":case"embed":Yt("load",o);break;case"video":case"audio":for(c=0;c<dh.length;c++)Yt(dh[c],o);break;case"source":Yt("error",o);break;case"img":case"image":case"link":Yt("error",o),Yt("load",o);break;case"details":Yt("toggle",o);break;case"input":Yt("invalid",o),dx(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),yd(o);break;case"select":Yt("invalid",o);break;case"textarea":Yt("invalid",o),px(o,m.value,m.defaultValue,m.children),yd(o)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||m.suppressHydrationWarning===!0||pE(o.textContent,c)?(m.popover!=null&&(Yt("beforetoggle",o),Yt("toggle",o)),m.onScroll!=null&&Yt("scroll",o),m.onScrollEnd!=null&&Yt("scrollend",o),m.onClick!=null&&(o.onclick=hm),o=!0):o=!1,o||Ga(s)}function Jx(s){for(On=s.return;On;)switch(On.tag){case 5:case 13:fr=!1;return;case 27:case 3:fr=!0;return;default:On=On.return}}function Vc(s){if(s!==On)return!1;if(!ie)return Jx(s),ie=!0,!1;var o=s.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||_y(s.type,s.memoizedProps)),c=!c),c&&Ce&&Ga(s),Jx(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(c=s.data,c==="/$"){if(o===0){Ce=Zi(s.nextSibling);break t}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;s=s.nextSibling}Ce=null}}else o===27?(o=Ce,Qs(s.type)?(s=xy,xy=null,Ce=s):Ce=o):Ce=On?Zi(s.stateNode.nextSibling):null;return!0}function $c(){Ce=On=null,ie=!1}function tb(){var s=qa;return s!==null&&(In===null?In=s:In.push.apply(In,s),qa=null),s}function Hc(s){qa===null?qa=[s]:qa.push(s)}var e_=ot(null),Ya=null,Kr=null;function ks(s,o,c){wt(e_,o._currentValue),o._currentValue=c}function Qr(s){s._currentValue=e_.current,vt(e_)}function n_(s,o,c){for(;s!==null;){var m=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),s===c)break;s=s.return}}function i_(s,o,c,m){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var b=g.dependencies;if(b!==null){var A=g.child;b=b.firstContext;t:for(;b!==null;){var U=b;b=g;for(var j=0;j<o.length;j++)if(U.context===o[j]){b.lanes|=c,U=b.alternate,U!==null&&(U.lanes|=c),n_(b.return,c,s),m||(A=null);break t}b=U.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(i(341));A.lanes|=c,b=A.alternate,b!==null&&(b.lanes|=c),n_(A,c,s),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===s){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function Ic(s,o,c,m){s=null;for(var g=o,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var U=g.type;si(g.pendingProps.value,A.value)||(s!==null?s.push(U):s=[U])}}else if(g===Ye.current){if(A=g.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(vh):s=[vh])}g=g.return}s!==null&&i_(o,s,c,m),o.flags|=262144}function Dd(s){for(s=s.firstContext;s!==null;){if(!si(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Xa(s){Ya=s,Kr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function yn(s){return eb(Ya,s)}function Ld(s,o){return Ya===null&&Xa(s),eb(s,o)}function eb(s,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Kr===null){if(s===null)throw Error(i(308));Kr=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Kr=Kr.next=o;return c}var l3=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(c,m){s.push(m)}};this.abort=function(){o.aborted=!0,s.forEach(function(c){return c()})}},u3=e.unstable_scheduleCallback,c3=e.unstable_NormalPriority,Xe={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function r_(){return{controller:new l3,data:new Map,refCount:0}}function qc(s){s.refCount--,s.refCount===0&&u3(c3,function(){s.controller.abort()})}var Gc=null,s_=0,al=0,ol=null;function h3(s,o){if(Gc===null){var c=Gc=[];s_=0,al=oy(),ol={status:"pending",value:void 0,then:function(m){c.push(m)}}}return s_++,o.then(nb,nb),o}function nb(){if(--s_===0&&Gc!==null){ol!==null&&(ol.status="fulfilled");var s=Gc;Gc=null,al=0,ol=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function f3(s,o){var c=[],m={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return s.then(function(){m.status="fulfilled",m.value=o;for(var g=0;g<c.length;g++)(0,c[g])(o)},function(g){for(m.status="rejected",m.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),m}var ib=G.S;G.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&h3(s,o),ib!==null&&ib(s,o)};var Za=ot(null);function a_(){var s=Za.current;return s!==null?s:ge.pooledCache}function Ud(s,o){o===null?wt(Za,Za.current):wt(Za,o.pool)}function rb(){var s=a_();return s===null?null:{parent:Xe._currentValue,pool:s}}var Yc=Error(i(460)),sb=Error(i(474)),Nd=Error(i(542)),o_={then:function(){}};function ab(s){return s=s.status,s==="fulfilled"||s==="rejected"}function kd(){}function ob(s,o,c){switch(c=s[c],c===void 0?s.push(o):c!==o&&(o.then(kd,kd),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,ub(s),s;default:if(typeof o.status=="string")o.then(kd,kd);else{if(s=ge,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(m){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=m}},function(m){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,ub(s),s}throw Xc=o,Yc}}var Xc=null;function lb(){if(Xc===null)throw Error(i(459));var s=Xc;return Xc=null,s}function ub(s){if(s===Yc||s===Nd)throw Error(i(483))}var Ps=!1;function l_(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function u_(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Bs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Fs(s,o,c){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(oe&2)!==0){var g=m.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),m.pending=o,o=Cd(s),Zx(s,null,c),o}return Ad(s,m,o,c),Cd(s)}function Zc(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var m=o.lanes;m&=s.pendingLanes,c|=m,o.lanes=c,qo(s,c)}}function c_(s,o){var c=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var g=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var A={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?g=b=A:b=b.next=A,c=c.next}while(c!==null);b===null?g=b=o:b=b.next=o}else g=b=o;c={baseState:m.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}var h_=!1;function Kc(){if(h_){var s=ol;if(s!==null)throw s}}function Qc(s,o,c,m){h_=!1;var g=s.updateQueue;Ps=!1;var b=g.firstBaseUpdate,A=g.lastBaseUpdate,U=g.shared.pending;if(U!==null){g.shared.pending=null;var j=U,W=j.next;j.next=null,A===null?b=W:A.next=W,A=j;var dt=s.alternate;dt!==null&&(dt=dt.updateQueue,U=dt.lastBaseUpdate,U!==A&&(U===null?dt.firstBaseUpdate=W:U.next=W,dt.lastBaseUpdate=j))}if(b!==null){var yt=g.baseState;A=0,dt=W=j=null,U=b;do{var it=U.lane&-536870913,st=it!==U.lane;if(st?(Kt&it)===it:(m&it)===it){it!==0&&it===al&&(h_=!0),dt!==null&&(dt=dt.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});t:{var Lt=s,Ot=U;it=o;var me=c;switch(Ot.tag){case 1:if(Lt=Ot.payload,typeof Lt=="function"){yt=Lt.call(me,yt,it);break t}yt=Lt;break t;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=Ot.payload,it=typeof Lt=="function"?Lt.call(me,yt,it):Lt,it==null)break t;yt=d({},yt,it);break t;case 2:Ps=!0}}it=U.callback,it!==null&&(s.flags|=64,st&&(s.flags|=8192),st=g.callbacks,st===null?g.callbacks=[it]:st.push(it))}else st={lane:it,tag:U.tag,payload:U.payload,callback:U.callback,next:null},dt===null?(W=dt=st,j=yt):dt=dt.next=st,A|=it;if(U=U.next,U===null){if(U=g.shared.pending,U===null)break;st=U,U=st.next,st.next=null,g.lastBaseUpdate=st,g.shared.pending=null}}while(!0);dt===null&&(j=yt),g.baseState=j,g.firstBaseUpdate=W,g.lastBaseUpdate=dt,b===null&&(g.shared.lanes=0),Ys|=A,s.lanes=A,s.memoizedState=yt}}function cb(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function hb(s,o){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)cb(c[s],o)}var ll=ot(null),Pd=ot(0);function fb(s,o){s=rs,wt(Pd,s),wt(ll,o),rs=s|o.baseLanes}function f_(){wt(Pd,rs),wt(ll,ll.current)}function d_(){rs=Pd.current,vt(ll),vt(Pd)}var js=0,Ft=null,fe=null,Ve=null,Bd=!1,ul=!1,Ka=!1,Fd=0,Wc=0,cl=null,d3=0;function Ue(){throw Error(i(321))}function m_(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!si(s[c],o[c]))return!1;return!0}function p_(s,o,c,m,g,b){return js=b,Ft=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,G.H=s===null||s.memoizedState===null?Zb:Kb,Ka=!1,b=c(m,g),Ka=!1,ul&&(b=mb(o,c,m,g)),db(s),b}function db(s){G.H=qd;var o=fe!==null&&fe.next!==null;if(js=0,Ve=fe=Ft=null,Bd=!1,Wc=0,cl=null,o)throw Error(i(300));s===null||en||(s=s.dependencies,s!==null&&Dd(s)&&(en=!0))}function mb(s,o,c,m){Ft=s;var g=0;do{if(ul&&(cl=null),Wc=0,ul=!1,25<=g)throw Error(i(301));if(g+=1,Ve=fe=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}G.H=x3,b=o(c,m)}while(ul);return b}function m3(){var s=G.H,o=s.useState()[0];return o=typeof o.then=="function"?Jc(o):o,s=s.useState()[0],(fe!==null?fe.memoizedState:null)!==s&&(Ft.flags|=1024),o}function __(){var s=Fd!==0;return Fd=0,s}function y_(s,o,c){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~c}function g_(s){if(Bd){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Bd=!1}js=0,Ve=fe=Ft=null,ul=!1,Wc=Fd=0,cl=null}function $n(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Ft.memoizedState=Ve=s:Ve=Ve.next=s,Ve}function $e(){if(fe===null){var s=Ft.alternate;s=s!==null?s.memoizedState:null}else s=fe.next;var o=Ve===null?Ft.memoizedState:Ve.next;if(o!==null)Ve=o,fe=s;else{if(s===null)throw Ft.alternate===null?Error(i(467)):Error(i(310));fe=s,s={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},Ve===null?Ft.memoizedState=Ve=s:Ve=Ve.next=s}return Ve}function v_(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jc(s){var o=Wc;return Wc+=1,cl===null&&(cl=[]),s=ob(cl,s,o),o=Ft,(Ve===null?o.memoizedState:Ve.next)===null&&(o=o.alternate,G.H=o===null||o.memoizedState===null?Zb:Kb),s}function jd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Jc(s);if(s.$$typeof===z)return yn(s)}throw Error(i(438,String(s)))}function x_(s){var o=null,c=Ft.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var m=Ft.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=v_(),Ft.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(s),m=0;m<s;m++)c[m]=X;return o.index++,c}function Wr(s,o){return typeof o=="function"?o(s):o}function Vd(s){var o=$e();return b_(o,fe,s)}function b_(s,o,c){var m=s.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=c;var g=s.baseQueue,b=m.pending;if(b!==null){if(g!==null){var A=g.next;g.next=b.next,b.next=A}o.baseQueue=g=b,m.pending=null}if(b=s.baseState,g===null)s.memoizedState=b;else{o=g.next;var U=A=null,j=null,W=o,dt=!1;do{var yt=W.lane&-536870913;if(yt!==W.lane?(Kt&yt)===yt:(js&yt)===yt){var it=W.revertLane;if(it===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),yt===al&&(dt=!0);else if((js&it)===it){W=W.next,it===al&&(dt=!0);continue}else yt={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},j===null?(U=j=yt,A=b):j=j.next=yt,Ft.lanes|=it,Ys|=it;yt=W.action,Ka&&c(b,yt),b=W.hasEagerState?W.eagerState:c(b,yt)}else it={lane:yt,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},j===null?(U=j=it,A=b):j=j.next=it,Ft.lanes|=yt,Ys|=yt;W=W.next}while(W!==null&&W!==o);if(j===null?A=b:j.next=U,!si(b,s.memoizedState)&&(en=!0,dt&&(c=ol,c!==null)))throw c;s.memoizedState=b,s.baseState=A,s.baseQueue=j,m.lastRenderedState=b}return g===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function w_(s){var o=$e(),c=o.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var m=c.dispatch,g=c.pending,b=o.memoizedState;if(g!==null){c.pending=null;var A=g=g.next;do b=s(b,A.action),A=A.next;while(A!==g);si(b,o.memoizedState)||(en=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),c.lastRenderedState=b}return[b,m]}function pb(s,o,c){var m=Ft,g=$e(),b=ie;if(b){if(c===void 0)throw Error(i(407));c=c()}else c=o();var A=!si((fe||g).memoizedState,c);A&&(g.memoizedState=c,en=!0),g=g.queue;var U=gb.bind(null,m,g,s);if(th(2048,8,U,[s]),g.getSnapshot!==o||A||Ve!==null&&Ve.memoizedState.tag&1){if(m.flags|=2048,hl(9,$d(),yb.bind(null,m,g,c,o),null),ge===null)throw Error(i(349));b||(js&124)!==0||_b(m,o,c)}return c}function _b(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Ft.updateQueue,o===null?(o=v_(),Ft.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function yb(s,o,c,m){o.value=c,o.getSnapshot=m,vb(o)&&xb(s)}function gb(s,o,c){return c(function(){vb(o)&&xb(s)})}function vb(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!si(s,c)}catch{return!0}}function xb(s){var o=nl(s,2);o!==null&&hi(o,s,2)}function E_(s){var o=$n();if(typeof s=="function"){var c=s;if(s=c(),Ka){T(!0);try{c()}finally{T(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:s},o}function bb(s,o,c,m){return s.baseState=c,b_(s,fe,typeof m=="function"?m:Wr)}function p3(s,o,c,m,g){if(Id(s))throw Error(i(485));if(s=o.action,s!==null){var b={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};G.T!==null?c(!0):b.isTransition=!1,m(b),c=o.pending,c===null?(b.next=o.pending=b,wb(o,b)):(b.next=c.next,o.pending=c.next=b)}}function wb(s,o){var c=o.action,m=o.payload,g=s.state;if(o.isTransition){var b=G.T,A={};G.T=A;try{var U=c(g,m),j=G.S;j!==null&&j(A,U),Eb(s,o,U)}catch(W){T_(s,o,W)}finally{G.T=b}}else try{b=c(g,m),Eb(s,o,b)}catch(W){T_(s,o,W)}}function Eb(s,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){Tb(s,o,m)},function(m){return T_(s,o,m)}):Tb(s,o,c)}function Tb(s,o,c){o.status="fulfilled",o.value=c,Mb(o),s.state=c,o=s.pending,o!==null&&(c=o.next,c===o?s.pending=null:(c=c.next,o.next=c,wb(s,c)))}function T_(s,o,c){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=c,Mb(o),o=o.next;while(o!==m)}s.action=null}function Mb(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function Sb(s,o){return o}function Ab(s,o){if(ie){var c=ge.formState;if(c!==null){t:{var m=Ft;if(ie){if(Ce){e:{for(var g=Ce,b=fr;g.nodeType!==8;){if(!b){g=null;break e}if(g=Zi(g.nextSibling),g===null){g=null;break e}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){Ce=Zi(g.nextSibling),m=g.data==="F!";break t}}Ga(m)}m=!1}m&&(o=c[0])}}return c=$n(),c.memoizedState=c.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sb,lastRenderedState:o},c.queue=m,c=Gb.bind(null,Ft,m),m.dispatch=c,m=E_(!1),b=R_.bind(null,Ft,!1,m.queue),m=$n(),g={state:o,dispatch:null,action:s,pending:null},m.queue=g,c=p3.bind(null,Ft,g,b,c),g.dispatch=c,m.memoizedState=s,[o,c,!1]}function Cb(s){var o=$e();return Rb(o,fe,s)}function Rb(s,o,c){if(o=b_(s,o,Sb)[0],s=Vd(Wr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Jc(o)}catch(A){throw A===Yc?Nd:A}else m=o;o=$e();var g=o.queue,b=g.dispatch;return c!==o.memoizedState&&(Ft.flags|=2048,hl(9,$d(),_3.bind(null,g,c),null)),[m,b,s]}function _3(s,o){s.action=o}function Ob(s){var o=$e(),c=fe;if(c!==null)return Rb(o,c,s);$e(),o=o.memoizedState,c=$e();var m=c.queue.dispatch;return c.memoizedState=s,[o,m,!1]}function hl(s,o,c,m){return s={tag:s,create:c,deps:m,inst:o,next:null},o=Ft.updateQueue,o===null&&(o=v_(),Ft.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=s.next=s:(m=c.next,c.next=s,s.next=m,o.lastEffect=s),s}function $d(){return{destroy:void 0,resource:void 0}}function zb(){return $e().memoizedState}function Hd(s,o,c,m){var g=$n();m=m===void 0?null:m,Ft.flags|=s,g.memoizedState=hl(1|o,$d(),c,m)}function th(s,o,c,m){var g=$e();m=m===void 0?null:m;var b=g.memoizedState.inst;fe!==null&&m!==null&&m_(m,fe.memoizedState.deps)?g.memoizedState=hl(o,b,c,m):(Ft.flags|=s,g.memoizedState=hl(1|o,b,c,m))}function Db(s,o){Hd(8390656,8,s,o)}function Lb(s,o){th(2048,8,s,o)}function Ub(s,o){return th(4,2,s,o)}function Nb(s,o){return th(4,4,s,o)}function kb(s,o){if(typeof o=="function"){s=s();var c=o(s);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Pb(s,o,c){c=c!=null?c.concat([s]):null,th(4,4,kb.bind(null,o,s),c)}function M_(){}function Bb(s,o){var c=$e();o=o===void 0?null:o;var m=c.memoizedState;return o!==null&&m_(o,m[1])?m[0]:(c.memoizedState=[s,o],s)}function Fb(s,o){var c=$e();o=o===void 0?null:o;var m=c.memoizedState;if(o!==null&&m_(o,m[1]))return m[0];if(m=s(),Ka){T(!0);try{s()}finally{T(!1)}}return c.memoizedState=[m,o],m}function S_(s,o,c){return c===void 0||(js&1073741824)!==0?s.memoizedState=o:(s.memoizedState=c,s=$w(),Ft.lanes|=s,Ys|=s,c)}function jb(s,o,c,m){return si(c,o)?c:ll.current!==null?(s=S_(s,c,m),si(s,o)||(en=!0),s):(js&42)===0?(en=!0,s.memoizedState=c):(s=$w(),Ft.lanes|=s,Ys|=s,o)}function Vb(s,o,c,m,g){var b=nt.p;nt.p=b!==0&&8>b?b:8;var A=G.T,U={};G.T=U,R_(s,!1,o,c);try{var j=g(),W=G.S;if(W!==null&&W(U,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var dt=f3(j,m);eh(s,o,dt,ci(s))}else eh(s,o,m,ci(s))}catch(yt){eh(s,o,{then:function(){},status:"rejected",reason:yt},ci())}finally{nt.p=b,G.T=A}}function y3(){}function A_(s,o,c,m){if(s.tag!==5)throw Error(i(476));var g=$b(s).queue;Vb(s,g,o,ft,c===null?y3:function(){return Hb(s),c(m)})}function $b(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:ft},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:c},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function Hb(s){var o=$b(s).next.queue;eh(s,o,{},ci())}function C_(){return yn(vh)}function Ib(){return $e().memoizedState}function qb(){return $e().memoizedState}function g3(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var c=ci();s=Bs(c);var m=Fs(o,s,c);m!==null&&(hi(m,o,c),Zc(m,o,c)),o={cache:r_()},s.payload=o;return}o=o.return}}function v3(s,o,c){var m=ci();c={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Id(s)?Yb(o,c):(c=Xp(s,o,c,m),c!==null&&(hi(c,s,m),Xb(c,o,m)))}function Gb(s,o,c){var m=ci();eh(s,o,c,m)}function eh(s,o,c,m){var g={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Id(s))Yb(o,g);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var A=o.lastRenderedState,U=b(A,c);if(g.hasEagerState=!0,g.eagerState=U,si(U,A))return Ad(s,o,g,0),ge===null&&Sd(),!1}catch{}finally{}if(c=Xp(s,o,g,m),c!==null)return hi(c,s,m),Xb(c,o,m),!0}return!1}function R_(s,o,c,m){if(m={lane:2,revertLane:oy(),action:m,hasEagerState:!1,eagerState:null,next:null},Id(s)){if(o)throw Error(i(479))}else o=Xp(s,c,m,2),o!==null&&hi(o,s,2)}function Id(s){var o=s.alternate;return s===Ft||o!==null&&o===Ft}function Yb(s,o){ul=Bd=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function Xb(s,o,c){if((c&4194048)!==0){var m=o.lanes;m&=s.pendingLanes,c|=m,o.lanes=c,qo(s,c)}}var qd={readContext:yn,use:jd,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue},Zb={readContext:yn,use:jd,useCallback:function(s,o){return $n().memoizedState=[s,o===void 0?null:o],s},useContext:yn,useEffect:Db,useImperativeHandle:function(s,o,c){c=c!=null?c.concat([s]):null,Hd(4194308,4,kb.bind(null,o,s),c)},useLayoutEffect:function(s,o){return Hd(4194308,4,s,o)},useInsertionEffect:function(s,o){Hd(4,2,s,o)},useMemo:function(s,o){var c=$n();o=o===void 0?null:o;var m=s();if(Ka){T(!0);try{s()}finally{T(!1)}}return c.memoizedState=[m,o],m},useReducer:function(s,o,c){var m=$n();if(c!==void 0){var g=c(o);if(Ka){T(!0);try{c(o)}finally{T(!1)}}}else g=o;return m.memoizedState=m.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},m.queue=s,s=s.dispatch=v3.bind(null,Ft,s),[m.memoizedState,s]},useRef:function(s){var o=$n();return s={current:s},o.memoizedState=s},useState:function(s){s=E_(s);var o=s.queue,c=Gb.bind(null,Ft,o);return o.dispatch=c,[s.memoizedState,c]},useDebugValue:M_,useDeferredValue:function(s,o){var c=$n();return S_(c,s,o)},useTransition:function(){var s=E_(!1);return s=Vb.bind(null,Ft,s.queue,!0,!1),$n().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,c){var m=Ft,g=$n();if(ie){if(c===void 0)throw Error(i(407));c=c()}else{if(c=o(),ge===null)throw Error(i(349));(Kt&124)!==0||_b(m,o,c)}g.memoizedState=c;var b={value:c,getSnapshot:o};return g.queue=b,Db(gb.bind(null,m,b,s),[s]),m.flags|=2048,hl(9,$d(),yb.bind(null,m,b,c,o),null),c},useId:function(){var s=$n(),o=ge.identifierPrefix;if(ie){var c=Zr,m=Xr;c=(m&~(1<<32-S(m)-1)).toString(32)+c,o="«"+o+"R"+c,c=Fd++,0<c&&(o+="H"+c.toString(32)),o+="»"}else c=d3++,o="«"+o+"r"+c.toString(32)+"»";return s.memoizedState=o},useHostTransitionStatus:C_,useFormState:Ab,useActionState:Ab,useOptimistic:function(s){var o=$n();o.memoizedState=o.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=R_.bind(null,Ft,!0,c),c.dispatch=o,[s,o]},useMemoCache:x_,useCacheRefresh:function(){return $n().memoizedState=g3.bind(null,Ft)}},Kb={readContext:yn,use:jd,useCallback:Bb,useContext:yn,useEffect:Lb,useImperativeHandle:Pb,useInsertionEffect:Ub,useLayoutEffect:Nb,useMemo:Fb,useReducer:Vd,useRef:zb,useState:function(){return Vd(Wr)},useDebugValue:M_,useDeferredValue:function(s,o){var c=$e();return jb(c,fe.memoizedState,s,o)},useTransition:function(){var s=Vd(Wr)[0],o=$e().memoizedState;return[typeof s=="boolean"?s:Jc(s),o]},useSyncExternalStore:pb,useId:Ib,useHostTransitionStatus:C_,useFormState:Cb,useActionState:Cb,useOptimistic:function(s,o){var c=$e();return bb(c,fe,s,o)},useMemoCache:x_,useCacheRefresh:qb},x3={readContext:yn,use:jd,useCallback:Bb,useContext:yn,useEffect:Lb,useImperativeHandle:Pb,useInsertionEffect:Ub,useLayoutEffect:Nb,useMemo:Fb,useReducer:w_,useRef:zb,useState:function(){return w_(Wr)},useDebugValue:M_,useDeferredValue:function(s,o){var c=$e();return fe===null?S_(c,s,o):jb(c,fe.memoizedState,s,o)},useTransition:function(){var s=w_(Wr)[0],o=$e().memoizedState;return[typeof s=="boolean"?s:Jc(s),o]},useSyncExternalStore:pb,useId:Ib,useHostTransitionStatus:C_,useFormState:Ob,useActionState:Ob,useOptimistic:function(s,o){var c=$e();return fe!==null?bb(c,fe,s,o):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:x_,useCacheRefresh:qb},fl=null,nh=0;function Gd(s){var o=nh;return nh+=1,fl===null&&(fl=[]),ob(fl,s,o)}function ih(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Yd(s,o){throw o.$$typeof===p?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function Qb(s){var o=s._init;return o(s._payload)}function Wb(s){function o(Z,I){if(s){var Q=Z.deletions;Q===null?(Z.deletions=[I],Z.flags|=16):Q.push(I)}}function c(Z,I){if(!s)return null;for(;I!==null;)o(Z,I),I=I.sibling;return null}function m(Z){for(var I=new Map;Z!==null;)Z.key!==null?I.set(Z.key,Z):I.set(Z.index,Z),Z=Z.sibling;return I}function g(Z,I){return Z=Yr(Z,I),Z.index=0,Z.sibling=null,Z}function b(Z,I,Q){return Z.index=Q,s?(Q=Z.alternate,Q!==null?(Q=Q.index,Q<I?(Z.flags|=67108866,I):Q):(Z.flags|=67108866,I)):(Z.flags|=1048576,I)}function A(Z){return s&&Z.alternate===null&&(Z.flags|=67108866),Z}function U(Z,I,Q,pt){return I===null||I.tag!==6?(I=Kp(Q,Z.mode,pt),I.return=Z,I):(I=g(I,Q),I.return=Z,I)}function j(Z,I,Q,pt){var Et=Q.type;return Et===v?dt(Z,I,Q.props.children,pt,Q.key):I!==null&&(I.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===$&&Qb(Et)===I.type)?(I=g(I,Q.props),ih(I,Q),I.return=Z,I):(I=Rd(Q.type,Q.key,Q.props,null,Z.mode,pt),ih(I,Q),I.return=Z,I)}function W(Z,I,Q,pt){return I===null||I.tag!==4||I.stateNode.containerInfo!==Q.containerInfo||I.stateNode.implementation!==Q.implementation?(I=Qp(Q,Z.mode,pt),I.return=Z,I):(I=g(I,Q.children||[]),I.return=Z,I)}function dt(Z,I,Q,pt,Et){return I===null||I.tag!==7?(I=$a(Q,Z.mode,pt,Et),I.return=Z,I):(I=g(I,Q),I.return=Z,I)}function yt(Z,I,Q){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Kp(""+I,Z.mode,Q),I.return=Z,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case y:return Q=Rd(I.type,I.key,I.props,null,Z.mode,Q),ih(Q,I),Q.return=Z,Q;case _:return I=Qp(I,Z.mode,Q),I.return=Z,I;case $:var pt=I._init;return I=pt(I._payload),yt(Z,I,Q)}if(bt(I)||at(I))return I=$a(I,Z.mode,Q,null),I.return=Z,I;if(typeof I.then=="function")return yt(Z,Gd(I),Q);if(I.$$typeof===z)return yt(Z,Ld(Z,I),Q);Yd(Z,I)}return null}function it(Z,I,Q,pt){var Et=I!==null?I.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Et!==null?null:U(Z,I,""+Q,pt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case y:return Q.key===Et?j(Z,I,Q,pt):null;case _:return Q.key===Et?W(Z,I,Q,pt):null;case $:return Et=Q._init,Q=Et(Q._payload),it(Z,I,Q,pt)}if(bt(Q)||at(Q))return Et!==null?null:dt(Z,I,Q,pt,null);if(typeof Q.then=="function")return it(Z,I,Gd(Q),pt);if(Q.$$typeof===z)return it(Z,I,Ld(Z,Q),pt);Yd(Z,Q)}return null}function st(Z,I,Q,pt,Et){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return Z=Z.get(Q)||null,U(I,Z,""+pt,Et);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case y:return Z=Z.get(pt.key===null?Q:pt.key)||null,j(I,Z,pt,Et);case _:return Z=Z.get(pt.key===null?Q:pt.key)||null,W(I,Z,pt,Et);case $:var Vt=pt._init;return pt=Vt(pt._payload),st(Z,I,Q,pt,Et)}if(bt(pt)||at(pt))return Z=Z.get(Q)||null,dt(I,Z,pt,Et,null);if(typeof pt.then=="function")return st(Z,I,Q,Gd(pt),Et);if(pt.$$typeof===z)return st(Z,I,Q,Ld(I,pt),Et);Yd(I,pt)}return null}function Lt(Z,I,Q,pt){for(var Et=null,Vt=null,Ct=I,zt=I=0,rn=null;Ct!==null&&zt<Q.length;zt++){Ct.index>zt?(rn=Ct,Ct=null):rn=Ct.sibling;var Jt=it(Z,Ct,Q[zt],pt);if(Jt===null){Ct===null&&(Ct=rn);break}s&&Ct&&Jt.alternate===null&&o(Z,Ct),I=b(Jt,I,zt),Vt===null?Et=Jt:Vt.sibling=Jt,Vt=Jt,Ct=rn}if(zt===Q.length)return c(Z,Ct),ie&&Ia(Z,zt),Et;if(Ct===null){for(;zt<Q.length;zt++)Ct=yt(Z,Q[zt],pt),Ct!==null&&(I=b(Ct,I,zt),Vt===null?Et=Ct:Vt.sibling=Ct,Vt=Ct);return ie&&Ia(Z,zt),Et}for(Ct=m(Ct);zt<Q.length;zt++)rn=st(Ct,Z,zt,Q[zt],pt),rn!==null&&(s&&rn.alternate!==null&&Ct.delete(rn.key===null?zt:rn.key),I=b(rn,I,zt),Vt===null?Et=rn:Vt.sibling=rn,Vt=rn);return s&&Ct.forEach(function(na){return o(Z,na)}),ie&&Ia(Z,zt),Et}function Ot(Z,I,Q,pt){if(Q==null)throw Error(i(151));for(var Et=null,Vt=null,Ct=I,zt=I=0,rn=null,Jt=Q.next();Ct!==null&&!Jt.done;zt++,Jt=Q.next()){Ct.index>zt?(rn=Ct,Ct=null):rn=Ct.sibling;var na=it(Z,Ct,Jt.value,pt);if(na===null){Ct===null&&(Ct=rn);break}s&&Ct&&na.alternate===null&&o(Z,Ct),I=b(na,I,zt),Vt===null?Et=na:Vt.sibling=na,Vt=na,Ct=rn}if(Jt.done)return c(Z,Ct),ie&&Ia(Z,zt),Et;if(Ct===null){for(;!Jt.done;zt++,Jt=Q.next())Jt=yt(Z,Jt.value,pt),Jt!==null&&(I=b(Jt,I,zt),Vt===null?Et=Jt:Vt.sibling=Jt,Vt=Jt);return ie&&Ia(Z,zt),Et}for(Ct=m(Ct);!Jt.done;zt++,Jt=Q.next())Jt=st(Ct,Z,zt,Jt.value,pt),Jt!==null&&(s&&Jt.alternate!==null&&Ct.delete(Jt.key===null?zt:Jt.key),I=b(Jt,I,zt),Vt===null?Et=Jt:Vt.sibling=Jt,Vt=Jt);return s&&Ct.forEach(function(b6){return o(Z,b6)}),ie&&Ia(Z,zt),Et}function me(Z,I,Q,pt){if(typeof Q=="object"&&Q!==null&&Q.type===v&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case y:t:{for(var Et=Q.key;I!==null;){if(I.key===Et){if(Et=Q.type,Et===v){if(I.tag===7){c(Z,I.sibling),pt=g(I,Q.props.children),pt.return=Z,Z=pt;break t}}else if(I.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===$&&Qb(Et)===I.type){c(Z,I.sibling),pt=g(I,Q.props),ih(pt,Q),pt.return=Z,Z=pt;break t}c(Z,I);break}else o(Z,I);I=I.sibling}Q.type===v?(pt=$a(Q.props.children,Z.mode,pt,Q.key),pt.return=Z,Z=pt):(pt=Rd(Q.type,Q.key,Q.props,null,Z.mode,pt),ih(pt,Q),pt.return=Z,Z=pt)}return A(Z);case _:t:{for(Et=Q.key;I!==null;){if(I.key===Et)if(I.tag===4&&I.stateNode.containerInfo===Q.containerInfo&&I.stateNode.implementation===Q.implementation){c(Z,I.sibling),pt=g(I,Q.children||[]),pt.return=Z,Z=pt;break t}else{c(Z,I);break}else o(Z,I);I=I.sibling}pt=Qp(Q,Z.mode,pt),pt.return=Z,Z=pt}return A(Z);case $:return Et=Q._init,Q=Et(Q._payload),me(Z,I,Q,pt)}if(bt(Q))return Lt(Z,I,Q,pt);if(at(Q)){if(Et=at(Q),typeof Et!="function")throw Error(i(150));return Q=Et.call(Q),Ot(Z,I,Q,pt)}if(typeof Q.then=="function")return me(Z,I,Gd(Q),pt);if(Q.$$typeof===z)return me(Z,I,Ld(Z,Q),pt);Yd(Z,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,I!==null&&I.tag===6?(c(Z,I.sibling),pt=g(I,Q),pt.return=Z,Z=pt):(c(Z,I),pt=Kp(Q,Z.mode,pt),pt.return=Z,Z=pt),A(Z)):c(Z,I)}return function(Z,I,Q,pt){try{nh=0;var Et=me(Z,I,Q,pt);return fl=null,Et}catch(Ct){if(Ct===Yc||Ct===Nd)throw Ct;var Vt=ai(29,Ct,null,Z.mode);return Vt.lanes=pt,Vt.return=Z,Vt}finally{}}}var dl=Wb(!0),Jb=Wb(!1),Ri=ot(null),dr=null;function Vs(s){var o=s.alternate;wt(Ze,Ze.current&1),wt(Ri,s),dr===null&&(o===null||ll.current!==null||o.memoizedState!==null)&&(dr=s)}function tw(s){if(s.tag===22){if(wt(Ze,Ze.current),wt(Ri,s),dr===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(dr=s)}}else $s()}function $s(){wt(Ze,Ze.current),wt(Ri,Ri.current)}function Jr(s){vt(Ri),dr===s&&(dr=null),vt(Ze)}var Ze=ot(0);function Xd(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||vy(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function O_(s,o,c,m){o=s.memoizedState,c=c(m,o),c=c==null?o:d({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var z_={enqueueSetState:function(s,o,c){s=s._reactInternals;var m=ci(),g=Bs(m);g.payload=o,c!=null&&(g.callback=c),o=Fs(s,g,m),o!==null&&(hi(o,s,m),Zc(o,s,m))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var m=ci(),g=Bs(m);g.tag=1,g.payload=o,c!=null&&(g.callback=c),o=Fs(s,g,m),o!==null&&(hi(o,s,m),Zc(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=ci(),m=Bs(c);m.tag=2,o!=null&&(m.callback=o),o=Fs(s,m,c),o!==null&&(hi(o,s,c),Zc(o,s,c))}};function ew(s,o,c,m,g,b,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,b,A):o.prototype&&o.prototype.isPureReactComponent?!Fc(c,m)||!Fc(g,b):!0}function nw(s,o,c,m){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,m),o.state!==s&&z_.enqueueReplaceState(o,o.state,null)}function Qa(s,o){var c=o;if("ref"in o){c={};for(var m in o)m!=="ref"&&(c[m]=o[m])}if(s=s.defaultProps){c===o&&(c=d({},c));for(var g in s)c[g]===void 0&&(c[g]=s[g])}return c}var Zd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function iw(s){Zd(s)}function rw(s){console.error(s)}function sw(s){Zd(s)}function Kd(s,o){try{var c=s.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function aw(s,o,c){try{var m=s.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function D_(s,o,c){return c=Bs(c),c.tag=3,c.payload={element:null},c.callback=function(){Kd(s,o)},c}function ow(s){return s=Bs(s),s.tag=3,s}function lw(s,o,c,m){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var b=m.value;s.payload=function(){return g(b)},s.callback=function(){aw(o,c,m)}}var A=c.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(s.callback=function(){aw(o,c,m),typeof g!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var U=m.stack;this.componentDidCatch(m.value,{componentStack:U!==null?U:""})})}function b3(s,o,c,m,g){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=c.alternate,o!==null&&Ic(o,c,g,!0),c=Ri.current,c!==null){switch(c.tag){case 13:return dr===null?ny():c.alternate===null&&Re===0&&(Re=3),c.flags&=-257,c.flags|=65536,c.lanes=g,m===o_?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([m]):o.add(m),ry(s,m,g)),!1;case 22:return c.flags|=65536,m===o_?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([m]):c.add(m)),ry(s,m,g)),!1}throw Error(i(435,c.tag))}return ry(s,m,g),ny(),!1}if(ie)return o=Ri.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,m!==t_&&(s=Error(i(422),{cause:m}),Hc(Mi(s,c)))):(m!==t_&&(o=Error(i(423),{cause:m}),Hc(Mi(o,c))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,m=Mi(m,c),g=D_(s.stateNode,m,g),c_(s,g),Re!==4&&(Re=2)),!1;var b=Error(i(520),{cause:m});if(b=Mi(b,c),ch===null?ch=[b]:ch.push(b),Re!==4&&(Re=2),o===null)return!0;m=Mi(m,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,s=g&-g,c.lanes|=s,s=D_(c.stateNode,m,s),c_(c,s),!1;case 1:if(o=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Xs===null||!Xs.has(b))))return c.flags|=65536,g&=-g,c.lanes|=g,g=ow(g),lw(g,s,c,m),c_(c,g),!1}c=c.return}while(c!==null);return!1}var uw=Error(i(461)),en=!1;function an(s,o,c,m){o.child=s===null?Jb(o,null,c,m):dl(o,s.child,c,m)}function cw(s,o,c,m,g){c=c.render;var b=o.ref;if("ref"in m){var A={};for(var U in m)U!=="ref"&&(A[U]=m[U])}else A=m;return Xa(o),m=p_(s,o,c,A,b,g),U=__(),s!==null&&!en?(y_(s,o,g),ts(s,o,g)):(ie&&U&&Wp(o),o.flags|=1,an(s,o,m,g),o.child)}function hw(s,o,c,m,g){if(s===null){var b=c.type;return typeof b=="function"&&!Zp(b)&&b.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=b,fw(s,o,b,m,g)):(s=Rd(c.type,null,m,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(b=s.child,!j_(s,g)){var A=b.memoizedProps;if(c=c.compare,c=c!==null?c:Fc,c(A,m)&&s.ref===o.ref)return ts(s,o,g)}return o.flags|=1,s=Yr(b,m),s.ref=o.ref,s.return=o,o.child=s}function fw(s,o,c,m,g){if(s!==null){var b=s.memoizedProps;if(Fc(b,m)&&s.ref===o.ref)if(en=!1,o.pendingProps=m=b,j_(s,g))(s.flags&131072)!==0&&(en=!0);else return o.lanes=s.lanes,ts(s,o,g)}return L_(s,o,c,m,g)}function dw(s,o,c){var m=o.pendingProps,g=m.children,b=s!==null?s.memoizedState:null;if(m.mode==="hidden"){if((o.flags&128)!==0){if(m=b!==null?b.baseLanes|c:c,s!==null){for(g=o.child=s.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;o.childLanes=b&~m}else o.childLanes=0,o.child=null;return mw(s,o,m,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Ud(o,b!==null?b.cachePool:null),b!==null?fb(o,b):f_(),tw(o);else return o.lanes=o.childLanes=536870912,mw(s,o,b!==null?b.baseLanes|c:c,c)}else b!==null?(Ud(o,b.cachePool),fb(o,b),$s(),o.memoizedState=null):(s!==null&&Ud(o,null),f_(),$s());return an(s,o,g,c),o.child}function mw(s,o,c,m){var g=a_();return g=g===null?null:{parent:Xe._currentValue,pool:g},o.memoizedState={baseLanes:c,cachePool:g},s!==null&&Ud(o,null),f_(),tw(o),s!==null&&Ic(s,o,m,!0),null}function Qd(s,o){var c=o.ref;if(c===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(o.flags|=4194816)}}function L_(s,o,c,m,g){return Xa(o),c=p_(s,o,c,m,void 0,g),m=__(),s!==null&&!en?(y_(s,o,g),ts(s,o,g)):(ie&&m&&Wp(o),o.flags|=1,an(s,o,c,g),o.child)}function pw(s,o,c,m,g,b){return Xa(o),o.updateQueue=null,c=mb(o,m,c,g),db(s),m=__(),s!==null&&!en?(y_(s,o,b),ts(s,o,b)):(ie&&m&&Wp(o),o.flags|=1,an(s,o,c,b),o.child)}function _w(s,o,c,m,g){if(Xa(o),o.stateNode===null){var b=il,A=c.contextType;typeof A=="object"&&A!==null&&(b=yn(A)),b=new c(m,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=z_,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=m,b.state=o.memoizedState,b.refs={},l_(o),A=c.contextType,b.context=typeof A=="object"&&A!==null?yn(A):il,b.state=o.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(O_(o,c,A,m),b.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&z_.enqueueReplaceState(b,b.state,null),Qc(o,m,b,g),Kc(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(s===null){b=o.stateNode;var U=o.memoizedProps,j=Qa(c,U);b.props=j;var W=b.context,dt=c.contextType;A=il,typeof dt=="object"&&dt!==null&&(A=yn(dt));var yt=c.getDerivedStateFromProps;dt=typeof yt=="function"||typeof b.getSnapshotBeforeUpdate=="function",U=o.pendingProps!==U,dt||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(U||W!==A)&&nw(o,b,m,A),Ps=!1;var it=o.memoizedState;b.state=it,Qc(o,m,b,g),Kc(),W=o.memoizedState,U||it!==W||Ps?(typeof yt=="function"&&(O_(o,c,yt,m),W=o.memoizedState),(j=Ps||ew(o,c,j,m,it,W,A))?(dt||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=W),b.props=m,b.state=W,b.context=A,m=j):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{b=o.stateNode,u_(s,o),A=o.memoizedProps,dt=Qa(c,A),b.props=dt,yt=o.pendingProps,it=b.context,W=c.contextType,j=il,typeof W=="object"&&W!==null&&(j=yn(W)),U=c.getDerivedStateFromProps,(W=typeof U=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==yt||it!==j)&&nw(o,b,m,j),Ps=!1,it=o.memoizedState,b.state=it,Qc(o,m,b,g),Kc();var st=o.memoizedState;A!==yt||it!==st||Ps||s!==null&&s.dependencies!==null&&Dd(s.dependencies)?(typeof U=="function"&&(O_(o,c,U,m),st=o.memoizedState),(dt=Ps||ew(o,c,dt,m,it,st,j)||s!==null&&s.dependencies!==null&&Dd(s.dependencies))?(W||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,st,j),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,st,j)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===s.memoizedProps&&it===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&it===s.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=st),b.props=m,b.state=st,b.context=j,m=dt):(typeof b.componentDidUpdate!="function"||A===s.memoizedProps&&it===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&it===s.memoizedState||(o.flags|=1024),m=!1)}return b=m,Qd(s,o),m=(o.flags&128)!==0,b||m?(b=o.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,s!==null&&m?(o.child=dl(o,s.child,null,g),o.child=dl(o,null,c,g)):an(s,o,c,g),o.memoizedState=b.state,s=o.child):s=ts(s,o,g),s}function yw(s,o,c,m){return $c(),o.flags|=256,an(s,o,c,m),o.child}var U_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function N_(s){return{baseLanes:s,cachePool:rb()}}function k_(s,o,c){return s=s!==null?s.childLanes&~c:0,o&&(s|=Oi),s}function gw(s,o,c){var m=o.pendingProps,g=!1,b=(o.flags&128)!==0,A;if((A=b)||(A=s!==null&&s.memoizedState===null?!1:(Ze.current&2)!==0),A&&(g=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,s===null){if(ie){if(g?Vs(o):$s(),ie){var U=Ce,j;if(j=U){t:{for(j=U,U=fr;j.nodeType!==8;){if(!U){U=null;break t}if(j=Zi(j.nextSibling),j===null){U=null;break t}}U=j}U!==null?(o.memoizedState={dehydrated:U,treeContext:Ha!==null?{id:Xr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},j=ai(18,null,null,0),j.stateNode=U,j.return=o,o.child=j,On=o,Ce=null,j=!0):j=!1}j||Ga(o)}if(U=o.memoizedState,U!==null&&(U=U.dehydrated,U!==null))return vy(U)?o.lanes=32:o.lanes=536870912,null;Jr(o)}return U=m.children,m=m.fallback,g?($s(),g=o.mode,U=Wd({mode:"hidden",children:U},g),m=$a(m,g,c,null),U.return=o,m.return=o,U.sibling=m,o.child=U,g=o.child,g.memoizedState=N_(c),g.childLanes=k_(s,A,c),o.memoizedState=U_,m):(Vs(o),P_(o,U))}if(j=s.memoizedState,j!==null&&(U=j.dehydrated,U!==null)){if(b)o.flags&256?(Vs(o),o.flags&=-257,o=B_(s,o,c)):o.memoizedState!==null?($s(),o.child=s.child,o.flags|=128,o=null):($s(),g=m.fallback,U=o.mode,m=Wd({mode:"visible",children:m.children},U),g=$a(g,U,c,null),g.flags|=2,m.return=o,g.return=o,m.sibling=g,o.child=m,dl(o,s.child,null,c),m=o.child,m.memoizedState=N_(c),m.childLanes=k_(s,A,c),o.memoizedState=U_,o=g);else if(Vs(o),vy(U)){if(A=U.nextSibling&&U.nextSibling.dataset,A)var W=A.dgst;A=W,m=Error(i(419)),m.stack="",m.digest=A,Hc({value:m,source:null,stack:null}),o=B_(s,o,c)}else if(en||Ic(s,o,c,!1),A=(c&s.childLanes)!==0,en||A){if(A=ge,A!==null&&(m=c&-c,m=(m&42)!==0?1:zc(m),m=(m&(A.suspendedLanes|c))!==0?0:m,m!==0&&m!==j.retryLane))throw j.retryLane=m,nl(s,m),hi(A,s,m),uw;U.data==="$?"||ny(),o=B_(s,o,c)}else U.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=j.treeContext,Ce=Zi(U.nextSibling),On=o,ie=!0,qa=null,fr=!1,s!==null&&(Ai[Ci++]=Xr,Ai[Ci++]=Zr,Ai[Ci++]=Ha,Xr=s.id,Zr=s.overflow,Ha=o),o=P_(o,m.children),o.flags|=4096);return o}return g?($s(),g=m.fallback,U=o.mode,j=s.child,W=j.sibling,m=Yr(j,{mode:"hidden",children:m.children}),m.subtreeFlags=j.subtreeFlags&65011712,W!==null?g=Yr(W,g):(g=$a(g,U,c,null),g.flags|=2),g.return=o,m.return=o,m.sibling=g,o.child=m,m=g,g=o.child,U=s.child.memoizedState,U===null?U=N_(c):(j=U.cachePool,j!==null?(W=Xe._currentValue,j=j.parent!==W?{parent:W,pool:W}:j):j=rb(),U={baseLanes:U.baseLanes|c,cachePool:j}),g.memoizedState=U,g.childLanes=k_(s,A,c),o.memoizedState=U_,m):(Vs(o),c=s.child,s=c.sibling,c=Yr(c,{mode:"visible",children:m.children}),c.return=o,c.sibling=null,s!==null&&(A=o.deletions,A===null?(o.deletions=[s],o.flags|=16):A.push(s)),o.child=c,o.memoizedState=null,c)}function P_(s,o){return o=Wd({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Wd(s,o){return s=ai(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function B_(s,o,c){return dl(o,s.child,null,c),s=P_(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function vw(s,o,c){s.lanes|=o;var m=s.alternate;m!==null&&(m.lanes|=o),n_(s.return,o,c)}function F_(s,o,c,m,g){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:g}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=m,b.tail=c,b.tailMode=g)}function xw(s,o,c){var m=o.pendingProps,g=m.revealOrder,b=m.tail;if(an(s,o,m.children,c),m=Ze.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&vw(s,c,o);else if(s.tag===19)vw(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break t;for(;s.sibling===null;){if(s.return===null||s.return===o)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}switch(wt(Ze,m),g){case"forwards":for(c=o.child,g=null;c!==null;)s=c.alternate,s!==null&&Xd(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),F_(o,!1,g,c,b);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&Xd(s)===null){o.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}F_(o,!0,c,null,b);break;case"together":F_(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ts(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Ys|=o.lanes,(c&o.childLanes)===0)if(s!==null){if(Ic(s,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,c=Yr(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=Yr(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function j_(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Dd(s)))}function w3(s,o,c){switch(o.tag){case 3:Xt(o,o.stateNode.containerInfo),ks(o,Xe,s.memoizedState.cache),$c();break;case 27:case 5:Ds(o);break;case 4:Xt(o,o.stateNode.containerInfo);break;case 10:ks(o,o.type,o.memoizedProps.value);break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(Vs(o),o.flags|=128,null):(c&o.child.childLanes)!==0?gw(s,o,c):(Vs(o),s=ts(s,o,c),s!==null?s.sibling:null);Vs(o);break;case 19:var g=(s.flags&128)!==0;if(m=(c&o.childLanes)!==0,m||(Ic(s,o,c,!1),m=(c&o.childLanes)!==0),g){if(m)return xw(s,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),wt(Ze,Ze.current),m)break;return null;case 22:case 23:return o.lanes=0,dw(s,o,c);case 24:ks(o,Xe,s.memoizedState.cache)}return ts(s,o,c)}function bw(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps)en=!0;else{if(!j_(s,c)&&(o.flags&128)===0)return en=!1,w3(s,o,c);en=(s.flags&131072)!==0}else en=!1,ie&&(o.flags&1048576)!==0&&Qx(o,zd,o.index);switch(o.lanes=0,o.tag){case 16:t:{s=o.pendingProps;var m=o.elementType,g=m._init;if(m=g(m._payload),o.type=m,typeof m=="function")Zp(m)?(s=Qa(m,s),o.tag=1,o=_w(null,o,m,s,c)):(o.tag=0,o=L_(null,o,m,s,c));else{if(m!=null){if(g=m.$$typeof,g===D){o.tag=11,o=cw(null,o,m,s,c);break t}else if(g===k){o.tag=14,o=hw(null,o,m,s,c);break t}}throw o=et(m)||m,Error(i(306,o,""))}}return o;case 0:return L_(s,o,o.type,o.pendingProps,c);case 1:return m=o.type,g=Qa(m,o.pendingProps),_w(s,o,m,g,c);case 3:t:{if(Xt(o,o.stateNode.containerInfo),s===null)throw Error(i(387));m=o.pendingProps;var b=o.memoizedState;g=b.element,u_(s,o),Qc(o,m,null,c);var A=o.memoizedState;if(m=A.cache,ks(o,Xe,m),m!==b.cache&&i_(o,[Xe],c,!0),Kc(),m=A.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=yw(s,o,m,c);break t}else if(m!==g){g=Mi(Error(i(424)),o),Hc(g),o=yw(s,o,m,c);break t}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ce=Zi(s.firstChild),On=o,ie=!0,qa=null,fr=!0,c=Jb(o,null,m,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if($c(),m===g){o=ts(s,o,c);break t}an(s,o,m,c)}o=o.child}return o;case 26:return Qd(s,o),s===null?(c=ME(o.type,null,o.pendingProps,null))?o.memoizedState=c:ie||(c=o.type,s=o.pendingProps,m=fm(Rt.current).createElement(c),m[qt]=o,m[Wt]=s,ln(m,c,s),we(m),o.stateNode=m):o.memoizedState=ME(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Ds(o),s===null&&ie&&(m=o.stateNode=wE(o.type,o.pendingProps,Rt.current),On=o,fr=!0,g=Ce,Qs(o.type)?(xy=g,Ce=Zi(m.firstChild)):Ce=g),an(s,o,o.pendingProps.children,c),Qd(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&ie&&((g=m=Ce)&&(m=K3(m,o.type,o.pendingProps,fr),m!==null?(o.stateNode=m,On=o,Ce=Zi(m.firstChild),fr=!1,g=!0):g=!1),g||Ga(o)),Ds(o),g=o.type,b=o.pendingProps,A=s!==null?s.memoizedProps:null,m=b.children,_y(g,b)?m=null:A!==null&&_y(g,A)&&(o.flags|=32),o.memoizedState!==null&&(g=p_(s,o,m3,null,null,c),vh._currentValue=g),Qd(s,o),an(s,o,m,c),o.child;case 6:return s===null&&ie&&((s=c=Ce)&&(c=Q3(c,o.pendingProps,fr),c!==null?(o.stateNode=c,On=o,Ce=null,s=!0):s=!1),s||Ga(o)),null;case 13:return gw(s,o,c);case 4:return Xt(o,o.stateNode.containerInfo),m=o.pendingProps,s===null?o.child=dl(o,null,m,c):an(s,o,m,c),o.child;case 11:return cw(s,o,o.type,o.pendingProps,c);case 7:return an(s,o,o.pendingProps,c),o.child;case 8:return an(s,o,o.pendingProps.children,c),o.child;case 12:return an(s,o,o.pendingProps.children,c),o.child;case 10:return m=o.pendingProps,ks(o,o.type,m.value),an(s,o,m.children,c),o.child;case 9:return g=o.type._context,m=o.pendingProps.children,Xa(o),g=yn(g),m=m(g),o.flags|=1,an(s,o,m,c),o.child;case 14:return hw(s,o,o.type,o.pendingProps,c);case 15:return fw(s,o,o.type,o.pendingProps,c);case 19:return xw(s,o,c);case 31:return m=o.pendingProps,c=o.mode,m={mode:m.mode,children:m.children},s===null?(c=Wd(m,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=Yr(s.child,m),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return dw(s,o,c);case 24:return Xa(o),m=yn(Xe),s===null?(g=a_(),g===null&&(g=ge,b=r_(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=c),g=b),o.memoizedState={parent:m,cache:g},l_(o),ks(o,Xe,g)):((s.lanes&c)!==0&&(u_(s,o),Qc(o,null,null,c),Kc()),g=s.memoizedState,b=o.memoizedState,g.parent!==m?(g={parent:m,cache:m},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),ks(o,Xe,m)):(m=b.cache,ks(o,Xe,m),m!==g.cache&&i_(o,[Xe],c,!0))),an(s,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function es(s){s.flags|=4}function ww(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!OE(o)){if(o=Ri.current,o!==null&&((Kt&4194048)===Kt?dr!==null:(Kt&62914560)!==Kt&&(Kt&536870912)===0||o!==dr))throw Xc=o_,sb;s.flags|=8192}}function Jd(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Io():536870912,s.lanes|=o,yl|=o)}function rh(s,o){if(!ie)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function Me(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,m=0;if(o)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,m|=g.subtreeFlags&65011712,m|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,m|=g.subtreeFlags,m|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=m,s.childLanes=c,o}function E3(s,o,c){var m=o.pendingProps;switch(Jp(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(o),null;case 1:return Me(o),null;case 3:return c=o.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Qr(Xe),Bn(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Vc(o)?es(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,tb())),Me(o),null;case 26:return c=o.memoizedState,s===null?(es(o),c!==null?(Me(o),ww(o,c)):(Me(o),o.flags&=-16777217)):c?c!==s.memoizedState?(es(o),Me(o),ww(o,c)):(Me(o),o.flags&=-16777217):(s.memoizedProps!==m&&es(o),Me(o),o.flags&=-16777217),null;case 27:Vr(o),c=Rt.current;var g=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==m&&es(o);else{if(!m){if(o.stateNode===null)throw Error(i(166));return Me(o),null}s=Mt.current,Vc(o)?Wx(o):(s=wE(g,m,c),o.stateNode=s,es(o))}return Me(o),null;case 5:if(Vr(o),c=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==m&&es(o);else{if(!m){if(o.stateNode===null)throw Error(i(166));return Me(o),null}if(s=Mt.current,Vc(o))Wx(o);else{switch(g=fm(Rt.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof m.is=="string"?g.createElement("select",{is:m.is}):g.createElement("select"),m.multiple?s.multiple=!0:m.size&&(s.size=m.size);break;default:s=typeof m.is=="string"?g.createElement(c,{is:m.is}):g.createElement(c)}}s[qt]=o,s[Wt]=m;t:for(g=o.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break t;for(;g.sibling===null;){if(g.return===null||g.return===o)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}o.stateNode=s;t:switch(ln(s,c,m),c){case"button":case"input":case"select":case"textarea":s=!!m.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&es(o)}}return Me(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==m&&es(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(i(166));if(s=Rt.current,Vc(o)){if(s=o.stateNode,c=o.memoizedProps,m=null,g=On,g!==null)switch(g.tag){case 27:case 5:m=g.memoizedProps}s[qt]=o,s=!!(s.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||pE(s.nodeValue,c)),s||Ga(o)}else s=fm(s).createTextNode(m),s[qt]=o,o.stateNode=s}return Me(o),null;case 13:if(m=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Vc(o),m!==null&&m.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[qt]=o}else $c(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Me(o),g=!1}else g=tb(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(Jr(o),o):(Jr(o),null)}if(Jr(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=m!==null,s=s!==null&&s.memoizedState!==null,c){m=o.child,g=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(g=m.alternate.memoizedState.cachePool.pool);var b=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==g&&(m.flags|=2048)}return c!==s&&c&&(o.child.flags|=8192),Jd(o,o.updateQueue),Me(o),null;case 4:return Bn(),s===null&&hy(o.stateNode.containerInfo),Me(o),null;case 10:return Qr(o.type),Me(o),null;case 19:if(vt(Ze),g=o.memoizedState,g===null)return Me(o),null;if(m=(o.flags&128)!==0,b=g.rendering,b===null)if(m)rh(g,!1);else{if(Re!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(b=Xd(s),b!==null){for(o.flags|=128,rh(g,!1),s=b.updateQueue,o.updateQueue=s,Jd(o,s),o.subtreeFlags=0,s=c,c=o.child;c!==null;)Kx(c,s),c=c.sibling;return wt(Ze,Ze.current&1|2),o.child}s=s.sibling}g.tail!==null&&pn()>nm&&(o.flags|=128,m=!0,rh(g,!1),o.lanes=4194304)}else{if(!m)if(s=Xd(b),s!==null){if(o.flags|=128,m=!0,s=s.updateQueue,o.updateQueue=s,Jd(o,s),rh(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!ie)return Me(o),null}else 2*pn()-g.renderingStartTime>nm&&c!==536870912&&(o.flags|=128,m=!0,rh(g,!1),o.lanes=4194304);g.isBackwards?(b.sibling=o.child,o.child=b):(s=g.last,s!==null?s.sibling=b:o.child=b,g.last=b)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=pn(),o.sibling=null,s=Ze.current,wt(Ze,m?s&1|2:s&1),o):(Me(o),null);case 22:case 23:return Jr(o),d_(),m=o.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(c&536870912)!==0&&(o.flags&128)===0&&(Me(o),o.subtreeFlags&6&&(o.flags|=8192)):Me(o),c=o.updateQueue,c!==null&&Jd(o,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==c&&(o.flags|=2048),s!==null&&vt(Za),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Qr(Xe),Me(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function T3(s,o){switch(Jp(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Qr(Xe),Bn(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Vr(o),null;case 13:if(Jr(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));$c()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return vt(Ze),null;case 4:return Bn(),null;case 10:return Qr(o.type),null;case 22:case 23:return Jr(o),d_(),s!==null&&vt(Za),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Qr(Xe),null;case 25:return null;default:return null}}function Ew(s,o){switch(Jp(o),o.tag){case 3:Qr(Xe),Bn();break;case 26:case 27:case 5:Vr(o);break;case 4:Bn();break;case 13:Jr(o);break;case 19:vt(Ze);break;case 10:Qr(o.type);break;case 22:case 23:Jr(o),d_(),s!==null&&vt(Za);break;case 24:Qr(Xe)}}function sh(s,o){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&s)===s){m=void 0;var b=c.create,A=c.inst;m=b(),A.destroy=m}c=c.next}while(c!==g)}}catch(U){pe(o,o.return,U)}}function Hs(s,o,c){try{var m=o.updateQueue,g=m!==null?m.lastEffect:null;if(g!==null){var b=g.next;m=b;do{if((m.tag&s)===s){var A=m.inst,U=A.destroy;if(U!==void 0){A.destroy=void 0,g=o;var j=c,W=U;try{W()}catch(dt){pe(g,j,dt)}}}m=m.next}while(m!==b)}}catch(dt){pe(o,o.return,dt)}}function Tw(s){var o=s.updateQueue;if(o!==null){var c=s.stateNode;try{hb(o,c)}catch(m){pe(s,s.return,m)}}}function Mw(s,o,c){c.props=Qa(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(m){pe(s,o,m)}}function ah(s,o){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof c=="function"?s.refCleanup=c(m):c.current=m}}catch(g){pe(s,o,g)}}function mr(s,o){var c=s.ref,m=s.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(g){pe(s,o,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){pe(s,o,g)}else c.current=null}function Sw(s){var o=s.type,c=s.memoizedProps,m=s.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break t;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(g){pe(s,s.return,g)}}function V_(s,o,c){try{var m=s.stateNode;q3(m,s.type,c,o),m[Wt]=o}catch(g){pe(s,s.return,g)}}function Aw(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Qs(s.type)||s.tag===4}function $_(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Aw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Qs(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function H_(s,o,c){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(s),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=hm));else if(m!==4&&(m===27&&Qs(s.type)&&(c=s.stateNode,o=null),s=s.child,s!==null))for(H_(s,o,c),s=s.sibling;s!==null;)H_(s,o,c),s=s.sibling}function tm(s,o,c){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(m!==4&&(m===27&&Qs(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(tm(s,o,c),s=s.sibling;s!==null;)tm(s,o,c),s=s.sibling}function Cw(s){var o=s.stateNode,c=s.memoizedProps;try{for(var m=s.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);ln(o,m,c),o[qt]=s,o[Wt]=c}catch(b){pe(s,s.return,b)}}var ns=!1,Ne=!1,I_=!1,Rw=typeof WeakSet=="function"?WeakSet:Set,nn=null;function M3(s,o){if(s=s.containerInfo,my=gm,s=jx(s),$p(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else t:{c=(c=s.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var g=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break t}var A=0,U=-1,j=-1,W=0,dt=0,yt=s,it=null;e:for(;;){for(var st;yt!==c||g!==0&&yt.nodeType!==3||(U=A+g),yt!==b||m!==0&&yt.nodeType!==3||(j=A+m),yt.nodeType===3&&(A+=yt.nodeValue.length),(st=yt.firstChild)!==null;)it=yt,yt=st;for(;;){if(yt===s)break e;if(it===c&&++W===g&&(U=A),it===b&&++dt===m&&(j=A),(st=yt.nextSibling)!==null)break;yt=it,it=yt.parentNode}yt=st}c=U===-1||j===-1?null:{start:U,end:j}}else c=null}c=c||{start:0,end:0}}else c=null;for(py={focusedElem:s,selectionRange:c},gm=!1,nn=o;nn!==null;)if(o=nn,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,nn=s;else for(;nn!==null;){switch(o=nn,b=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,c=o,g=b.memoizedProps,b=b.memoizedState,m=c.stateNode;try{var Lt=Qa(c.type,g,c.elementType===c.type);s=m.getSnapshotBeforeUpdate(Lt,b),m.__reactInternalSnapshotBeforeUpdate=s}catch(Ot){pe(c,c.return,Ot)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,c=s.nodeType,c===9)gy(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":gy(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,nn=s;break}nn=o.return}}function Ow(s,o,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:Is(s,c),m&4&&sh(5,c);break;case 1:if(Is(s,c),m&4)if(s=c.stateNode,o===null)try{s.componentDidMount()}catch(A){pe(c,c.return,A)}else{var g=Qa(c.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(g,o,s.__reactInternalSnapshotBeforeUpdate)}catch(A){pe(c,c.return,A)}}m&64&&Tw(c),m&512&&ah(c,c.return);break;case 3:if(Is(s,c),m&64&&(s=c.updateQueue,s!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{hb(s,o)}catch(A){pe(c,c.return,A)}}break;case 27:o===null&&m&4&&Cw(c);case 26:case 5:Is(s,c),o===null&&m&4&&Sw(c),m&512&&ah(c,c.return);break;case 12:Is(s,c);break;case 13:Is(s,c),m&4&&Lw(s,c),m&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=U3.bind(null,c),W3(s,c))));break;case 22:if(m=c.memoizedState!==null||ns,!m){o=o!==null&&o.memoizedState!==null||Ne,g=ns;var b=Ne;ns=m,(Ne=o)&&!b?qs(s,c,(c.subtreeFlags&8772)!==0):Is(s,c),ns=g,Ne=b}break;case 30:break;default:Is(s,c)}}function zw(s){var o=s.alternate;o!==null&&(s.alternate=null,zw(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&ae(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ee=null,Hn=!1;function is(s,o,c){for(c=c.child;c!==null;)Dw(s,o,c),c=c.sibling}function Dw(s,o,c){if(L&&typeof L.onCommitFiberUnmount=="function")try{L.onCommitFiberUnmount(Hr,c)}catch{}switch(c.tag){case 26:Ne||mr(c,o),is(s,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Ne||mr(c,o);var m=Ee,g=Hn;Qs(c.type)&&(Ee=c.stateNode,Hn=!1),is(s,o,c),ph(c.stateNode),Ee=m,Hn=g;break;case 5:Ne||mr(c,o);case 6:if(m=Ee,g=Hn,Ee=null,is(s,o,c),Ee=m,Hn=g,Ee!==null)if(Hn)try{(Ee.nodeType===9?Ee.body:Ee.nodeName==="HTML"?Ee.ownerDocument.body:Ee).removeChild(c.stateNode)}catch(b){pe(c,o,b)}else try{Ee.removeChild(c.stateNode)}catch(b){pe(c,o,b)}break;case 18:Ee!==null&&(Hn?(s=Ee,xE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),Eh(s)):xE(Ee,c.stateNode));break;case 4:m=Ee,g=Hn,Ee=c.stateNode.containerInfo,Hn=!0,is(s,o,c),Ee=m,Hn=g;break;case 0:case 11:case 14:case 15:Ne||Hs(2,c,o),Ne||Hs(4,c,o),is(s,o,c);break;case 1:Ne||(mr(c,o),m=c.stateNode,typeof m.componentWillUnmount=="function"&&Mw(c,o,m)),is(s,o,c);break;case 21:is(s,o,c);break;case 22:Ne=(m=Ne)||c.memoizedState!==null,is(s,o,c),Ne=m;break;default:is(s,o,c)}}function Lw(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Eh(s)}catch(c){pe(o,o.return,c)}}function S3(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new Rw),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new Rw),o;default:throw Error(i(435,s.tag))}}function q_(s,o){var c=S3(s);o.forEach(function(m){var g=N3.bind(null,s,m);c.has(m)||(c.add(m),m.then(g,g))})}function oi(s,o){var c=o.deletions;if(c!==null)for(var m=0;m<c.length;m++){var g=c[m],b=s,A=o,U=A;t:for(;U!==null;){switch(U.tag){case 27:if(Qs(U.type)){Ee=U.stateNode,Hn=!1;break t}break;case 5:Ee=U.stateNode,Hn=!1;break t;case 3:case 4:Ee=U.stateNode.containerInfo,Hn=!0;break t}U=U.return}if(Ee===null)throw Error(i(160));Dw(b,A,g),Ee=null,Hn=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Uw(o,s),o=o.sibling}var Xi=null;function Uw(s,o){var c=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:oi(o,s),li(s),m&4&&(Hs(3,s,s.return),sh(3,s),Hs(5,s,s.return));break;case 1:oi(o,s),li(s),m&512&&(Ne||c===null||mr(c,c.return)),m&64&&ns&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var g=Xi;if(oi(o,s),li(s),m&512&&(Ne||c===null||mr(c,c.return)),m&4){var b=c!==null?c.memoizedState:null;if(m=s.memoizedState,c===null)if(m===null)if(s.stateNode===null){t:{m=s.type,c=s.memoizedProps,g=g.ownerDocument||g;e:switch(m){case"title":b=g.getElementsByTagName("title")[0],(!b||b[Gi]||b[qt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(m),g.head.insertBefore(b,g.querySelector("head > title"))),ln(b,m,c),b[qt]=s,we(b),m=b;break t;case"link":var A=CE("link","href",g).get(m+(c.href||""));if(A){for(var U=0;U<A.length;U++)if(b=A[U],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){A.splice(U,1);break e}}b=g.createElement(m),ln(b,m,c),g.head.appendChild(b);break;case"meta":if(A=CE("meta","content",g).get(m+(c.content||""))){for(U=0;U<A.length;U++)if(b=A[U],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){A.splice(U,1);break e}}b=g.createElement(m),ln(b,m,c),g.head.appendChild(b);break;default:throw Error(i(468,m))}b[qt]=s,we(b),m=b}s.stateNode=m}else RE(g,s.type,s.stateNode);else s.stateNode=AE(g,m,s.memoizedProps);else b!==m?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,m===null?RE(g,s.type,s.stateNode):AE(g,m,s.memoizedProps)):m===null&&s.stateNode!==null&&V_(s,s.memoizedProps,c.memoizedProps)}break;case 27:oi(o,s),li(s),m&512&&(Ne||c===null||mr(c,c.return)),c!==null&&m&4&&V_(s,s.memoizedProps,c.memoizedProps);break;case 5:if(oi(o,s),li(s),m&512&&(Ne||c===null||mr(c,c.return)),s.flags&32){g=s.stateNode;try{Zo(g,"")}catch(st){pe(s,s.return,st)}}m&4&&s.stateNode!=null&&(g=s.memoizedProps,V_(s,g,c!==null?c.memoizedProps:g)),m&1024&&(I_=!0);break;case 6:if(oi(o,s),li(s),m&4){if(s.stateNode===null)throw Error(i(162));m=s.memoizedProps,c=s.stateNode;try{c.nodeValue=m}catch(st){pe(s,s.return,st)}}break;case 3:if(pm=null,g=Xi,Xi=dm(o.containerInfo),oi(o,s),Xi=g,li(s),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Eh(o.containerInfo)}catch(st){pe(s,s.return,st)}I_&&(I_=!1,Nw(s));break;case 4:m=Xi,Xi=dm(s.stateNode.containerInfo),oi(o,s),li(s),Xi=m;break;case 12:oi(o,s),li(s);break;case 13:oi(o,s),li(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Q_=pn()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,q_(s,m)));break;case 22:g=s.memoizedState!==null;var j=c!==null&&c.memoizedState!==null,W=ns,dt=Ne;if(ns=W||g,Ne=dt||j,oi(o,s),Ne=dt,ns=W,li(s),m&8192)t:for(o=s.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(c===null||j||ns||Ne||Wa(s)),c=null,o=s;;){if(o.tag===5||o.tag===26){if(c===null){j=c=o;try{if(b=j.stateNode,g)A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{U=j.stateNode;var yt=j.memoizedProps.style,it=yt!=null&&yt.hasOwnProperty("display")?yt.display:null;U.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(st){pe(j,j.return,st)}}}else if(o.tag===6){if(c===null){j=o;try{j.stateNode.nodeValue=g?"":j.memoizedProps}catch(st){pe(j,j.return,st)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break t;for(;o.sibling===null;){if(o.return===null||o.return===s)break t;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=s.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,q_(s,c))));break;case 19:oi(o,s),li(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,q_(s,m)));break;case 30:break;case 21:break;default:oi(o,s),li(s)}}function li(s){var o=s.flags;if(o&2){try{for(var c,m=s.return;m!==null;){if(Aw(m)){c=m;break}m=m.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var g=c.stateNode,b=$_(s);tm(s,b,g);break;case 5:var A=c.stateNode;c.flags&32&&(Zo(A,""),c.flags&=-33);var U=$_(s);tm(s,U,A);break;case 3:case 4:var j=c.stateNode.containerInfo,W=$_(s);H_(s,W,j);break;default:throw Error(i(161))}}catch(dt){pe(s,s.return,dt)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Nw(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;Nw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Is(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Ow(s,o.alternate,o),o=o.sibling}function Wa(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Hs(4,o,o.return),Wa(o);break;case 1:mr(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&Mw(o,o.return,c),Wa(o);break;case 27:ph(o.stateNode);case 26:case 5:mr(o,o.return),Wa(o);break;case 22:o.memoizedState===null&&Wa(o);break;case 30:Wa(o);break;default:Wa(o)}s=s.sibling}}function qs(s,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,g=s,b=o,A=b.flags;switch(b.tag){case 0:case 11:case 15:qs(g,b,c),sh(4,b);break;case 1:if(qs(g,b,c),m=b,g=m.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(W){pe(m,m.return,W)}if(m=b,g=m.updateQueue,g!==null){var U=m.stateNode;try{var j=g.shared.hiddenCallbacks;if(j!==null)for(g.shared.hiddenCallbacks=null,g=0;g<j.length;g++)cb(j[g],U)}catch(W){pe(m,m.return,W)}}c&&A&64&&Tw(b),ah(b,b.return);break;case 27:Cw(b);case 26:case 5:qs(g,b,c),c&&m===null&&A&4&&Sw(b),ah(b,b.return);break;case 12:qs(g,b,c);break;case 13:qs(g,b,c),c&&A&4&&Lw(g,b);break;case 22:b.memoizedState===null&&qs(g,b,c),ah(b,b.return);break;case 30:break;default:qs(g,b,c)}o=o.sibling}}function G_(s,o){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&qc(c))}function Y_(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&qc(s))}function pr(s,o,c,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)kw(s,o,c,m),o=o.sibling}function kw(s,o,c,m){var g=o.flags;switch(o.tag){case 0:case 11:case 15:pr(s,o,c,m),g&2048&&sh(9,o);break;case 1:pr(s,o,c,m);break;case 3:pr(s,o,c,m),g&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&qc(s)));break;case 12:if(g&2048){pr(s,o,c,m),s=o.stateNode;try{var b=o.memoizedProps,A=b.id,U=b.onPostCommit;typeof U=="function"&&U(A,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(j){pe(o,o.return,j)}}else pr(s,o,c,m);break;case 13:pr(s,o,c,m);break;case 23:break;case 22:b=o.stateNode,A=o.alternate,o.memoizedState!==null?b._visibility&2?pr(s,o,c,m):oh(s,o):b._visibility&2?pr(s,o,c,m):(b._visibility|=2,ml(s,o,c,m,(o.subtreeFlags&10256)!==0)),g&2048&&G_(A,o);break;case 24:pr(s,o,c,m),g&2048&&Y_(o.alternate,o);break;default:pr(s,o,c,m)}}function ml(s,o,c,m,g){for(g=g&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=s,A=o,U=c,j=m,W=A.flags;switch(A.tag){case 0:case 11:case 15:ml(b,A,U,j,g),sh(8,A);break;case 23:break;case 22:var dt=A.stateNode;A.memoizedState!==null?dt._visibility&2?ml(b,A,U,j,g):oh(b,A):(dt._visibility|=2,ml(b,A,U,j,g)),g&&W&2048&&G_(A.alternate,A);break;case 24:ml(b,A,U,j,g),g&&W&2048&&Y_(A.alternate,A);break;default:ml(b,A,U,j,g)}o=o.sibling}}function oh(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=s,m=o,g=m.flags;switch(m.tag){case 22:oh(c,m),g&2048&&G_(m.alternate,m);break;case 24:oh(c,m),g&2048&&Y_(m.alternate,m);break;default:oh(c,m)}o=o.sibling}}var lh=8192;function pl(s){if(s.subtreeFlags&lh)for(s=s.child;s!==null;)Pw(s),s=s.sibling}function Pw(s){switch(s.tag){case 26:pl(s),s.flags&lh&&s.memoizedState!==null&&h6(Xi,s.memoizedState,s.memoizedProps);break;case 5:pl(s);break;case 3:case 4:var o=Xi;Xi=dm(s.stateNode.containerInfo),pl(s),Xi=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=lh,lh=16777216,pl(s),lh=o):pl(s));break;default:pl(s)}}function Bw(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function uh(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];nn=m,jw(m,s)}Bw(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Fw(s),s=s.sibling}function Fw(s){switch(s.tag){case 0:case 11:case 15:uh(s),s.flags&2048&&Hs(9,s,s.return);break;case 3:uh(s);break;case 12:uh(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,em(s)):uh(s);break;default:uh(s)}}function em(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];nn=m,jw(m,s)}Bw(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Hs(8,o,o.return),em(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,em(o));break;default:em(o)}s=s.sibling}}function jw(s,o){for(;nn!==null;){var c=nn;switch(c.tag){case 0:case 11:case 15:Hs(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:qc(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,nn=m;else t:for(c=s;nn!==null;){m=nn;var g=m.sibling,b=m.return;if(zw(m),m===c){nn=null;break t}if(g!==null){g.return=b,nn=g;break t}nn=b}}}var A3={getCacheForType:function(s){var o=yn(Xe),c=o.data.get(s);return c===void 0&&(c=s(),o.data.set(s,c)),c}},C3=typeof WeakMap=="function"?WeakMap:Map,oe=0,ge=null,Gt=null,Kt=0,le=0,ui=null,Gs=!1,_l=!1,X_=!1,rs=0,Re=0,Ys=0,Ja=0,Z_=0,Oi=0,yl=0,ch=null,In=null,K_=!1,Q_=0,nm=1/0,im=null,Xs=null,on=0,Zs=null,gl=null,vl=0,W_=0,J_=null,Vw=null,hh=0,ty=null;function ci(){if((oe&2)!==0&&Kt!==0)return Kt&-Kt;if(G.T!==null){var s=al;return s!==0?s:oy()}return gt()}function $w(){Oi===0&&(Oi=(Kt&536870912)===0||ie?md():536870912);var s=Ri.current;return s!==null&&(s.flags|=32),Oi}function hi(s,o,c){(s===ge&&(le===2||le===9)||s.cancelPendingCommit!==null)&&(xl(s,0),Ks(s,Kt,Oi,!1)),_n(s,c),((oe&2)===0||s!==ge)&&(s===ge&&((oe&2)===0&&(Ja|=c),Re===4&&Ks(s,Kt,Oi,!1)),_r(s))}function Hw(s,o,c){if((oe&6)!==0)throw Error(i(327));var m=!c&&(o&124)===0&&(o&s.expiredLanes)===0||ne(s,o),g=m?z3(s,o):iy(s,o,!0),b=m;do{if(g===0){_l&&!m&&Ks(s,o,0,!1);break}else{if(c=s.current.alternate,b&&!R3(c)){g=iy(s,o,!1),b=!1;continue}if(g===2){if(b=o,s.errorRecoveryDisabledLanes&b)var A=0;else A=s.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;t:{var U=s;g=ch;var j=U.current.memoizedState.isDehydrated;if(j&&(xl(U,A).flags|=256),A=iy(U,A,!1),A!==2){if(X_&&!j){U.errorRecoveryDisabledLanes|=b,Ja|=b,g=4;break t}b=In,In=g,b!==null&&(In===null?In=b:In.push.apply(In,b))}g=A}if(b=!1,g!==2)continue}}if(g===1){xl(s,0),Ks(s,o,0,!0);break}t:{switch(m=s,b=g,b){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Ks(m,o,Oi,!Gs);break t;case 2:In=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(g=Q_+300-pn(),10<g)){if(Ks(m,o,Oi,!Gs),ee(m,0,!0)!==0)break t;m.timeoutHandle=gE(Iw.bind(null,m,c,In,im,K_,o,Oi,Ja,yl,Gs,b,2,-0,0),g);break t}Iw(m,c,In,im,K_,o,Oi,Ja,yl,Gs,b,0,-0,0)}}break}while(!0);_r(s)}function Iw(s,o,c,m,g,b,A,U,j,W,dt,yt,it,st){if(s.timeoutHandle=-1,yt=o.subtreeFlags,(yt&8192||(yt&16785408)===16785408)&&(gh={stylesheets:null,count:0,unsuspend:c6},Pw(o),yt=f6(),yt!==null)){s.cancelPendingCommit=yt(Qw.bind(null,s,o,b,c,m,g,A,U,j,dt,1,it,st)),Ks(s,b,A,!W);return}Qw(s,o,b,c,m,g,A,U,j)}function R3(s){for(var o=s;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var g=c[m],b=g.getSnapshot;g=g.value;try{if(!si(b(),g))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ks(s,o,c,m){o&=~Z_,o&=~Ja,s.suspendedLanes|=o,s.pingedLanes&=~o,m&&(s.warmLanes|=o),m=s.expirationTimes;for(var g=o;0<g;){var b=31-S(g),A=1<<b;m[b]=-1,g&=~A}c!==0&&Oc(s,c,o)}function rm(){return(oe&6)===0?(fh(0),!1):!0}function ey(){if(Gt!==null){if(le===0)var s=Gt.return;else s=Gt,Kr=Ya=null,g_(s),fl=null,nh=0,s=Gt;for(;s!==null;)Ew(s.alternate,s),s=s.return;Gt=null}}function xl(s,o){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,Y3(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),ey(),ge=s,Gt=c=Yr(s.current,null),Kt=o,le=0,ui=null,Gs=!1,_l=ne(s,o),X_=!1,yl=Oi=Z_=Ja=Ys=Re=0,In=ch=null,K_=!1,(o&8)!==0&&(o|=o&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=o;0<m;){var g=31-S(m),b=1<<g;o|=s[g],m&=~b}return rs=o,Sd(),c}function qw(s,o){Ft=null,G.H=qd,o===Yc||o===Nd?(o=lb(),le=3):o===sb?(o=lb(),le=4):le=o===uw?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ui=o,Gt===null&&(Re=1,Kd(s,Mi(o,s.current)))}function Gw(){var s=G.H;return G.H=qd,s===null?qd:s}function Yw(){var s=G.A;return G.A=A3,s}function ny(){Re=4,Gs||(Kt&4194048)!==Kt&&Ri.current!==null||(_l=!0),(Ys&134217727)===0&&(Ja&134217727)===0||ge===null||Ks(ge,Kt,Oi,!1)}function iy(s,o,c){var m=oe;oe|=2;var g=Gw(),b=Yw();(ge!==s||Kt!==o)&&(im=null,xl(s,o)),o=!1;var A=Re;t:do try{if(le!==0&&Gt!==null){var U=Gt,j=ui;switch(le){case 8:ey(),A=6;break t;case 3:case 2:case 9:case 6:Ri.current===null&&(o=!0);var W=le;if(le=0,ui=null,bl(s,U,j,W),c&&_l){A=0;break t}break;default:W=le,le=0,ui=null,bl(s,U,j,W)}}O3(),A=Re;break}catch(dt){qw(s,dt)}while(!0);return o&&s.shellSuspendCounter++,Kr=Ya=null,oe=m,G.H=g,G.A=b,Gt===null&&(ge=null,Kt=0,Sd()),A}function O3(){for(;Gt!==null;)Xw(Gt)}function z3(s,o){var c=oe;oe|=2;var m=Gw(),g=Yw();ge!==s||Kt!==o?(im=null,nm=pn()+500,xl(s,o)):_l=ne(s,o);t:do try{if(le!==0&&Gt!==null){o=Gt;var b=ui;e:switch(le){case 1:le=0,ui=null,bl(s,o,b,1);break;case 2:case 9:if(ab(b)){le=0,ui=null,Zw(o);break}o=function(){le!==2&&le!==9||ge!==s||(le=7),_r(s)},b.then(o,o);break t;case 3:le=7;break t;case 4:le=5;break t;case 7:ab(b)?(le=0,ui=null,Zw(o)):(le=0,ui=null,bl(s,o,b,7));break;case 5:var A=null;switch(Gt.tag){case 26:A=Gt.memoizedState;case 5:case 27:var U=Gt;if(!A||OE(A)){le=0,ui=null;var j=U.sibling;if(j!==null)Gt=j;else{var W=U.return;W!==null?(Gt=W,sm(W)):Gt=null}break e}}le=0,ui=null,bl(s,o,b,5);break;case 6:le=0,ui=null,bl(s,o,b,6);break;case 8:ey(),Re=6;break t;default:throw Error(i(462))}}D3();break}catch(dt){qw(s,dt)}while(!0);return Kr=Ya=null,G.H=m,G.A=g,oe=c,Gt!==null?0:(ge=null,Kt=0,Sd(),Re)}function D3(){for(;Gt!==null&&!Sc();)Xw(Gt)}function Xw(s){var o=bw(s.alternate,s,rs);s.memoizedProps=s.pendingProps,o===null?sm(s):Gt=o}function Zw(s){var o=s,c=o.alternate;switch(o.tag){case 15:case 0:o=pw(c,o,o.pendingProps,o.type,void 0,Kt);break;case 11:o=pw(c,o,o.pendingProps,o.type.render,o.ref,Kt);break;case 5:g_(o);default:Ew(c,o),o=Gt=Kx(o,rs),o=bw(c,o,rs)}s.memoizedProps=s.pendingProps,o===null?sm(s):Gt=o}function bl(s,o,c,m){Kr=Ya=null,g_(o),fl=null,nh=0;var g=o.return;try{if(b3(s,g,o,c,Kt)){Re=1,Kd(s,Mi(c,s.current)),Gt=null;return}}catch(b){if(g!==null)throw Gt=g,b;Re=1,Kd(s,Mi(c,s.current)),Gt=null;return}o.flags&32768?(ie||m===1?s=!0:_l||(Kt&536870912)!==0?s=!1:(Gs=s=!0,(m===2||m===9||m===3||m===6)&&(m=Ri.current,m!==null&&m.tag===13&&(m.flags|=16384))),Kw(o,s)):sm(o)}function sm(s){var o=s;do{if((o.flags&32768)!==0){Kw(o,Gs);return}s=o.return;var c=E3(o.alternate,o,rs);if(c!==null){Gt=c;return}if(o=o.sibling,o!==null){Gt=o;return}Gt=o=s}while(o!==null);Re===0&&(Re=5)}function Kw(s,o){do{var c=T3(s.alternate,s);if(c!==null){c.flags&=32767,Gt=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(s=s.sibling,s!==null)){Gt=s;return}Gt=s=c}while(s!==null);Re=6,Gt=null}function Qw(s,o,c,m,g,b,A,U,j){s.cancelPendingCommit=null;do am();while(on!==0);if((oe&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(b=o.lanes|o.childLanes,b|=Yp,Ir(s,c,b,A,U,j),s===ge&&(Gt=ge=null,Kt=0),gl=o,Zs=s,vl=c,W_=b,J_=g,Vw=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,k3(An,function(){return nE(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,g=nt.p,nt.p=2,A=oe,oe|=4;try{M3(s,o,c)}finally{oe=A,nt.p=g,G.T=m}}on=1,Ww(),Jw(),tE()}}function Ww(){if(on===1){on=0;var s=Zs,o=gl,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=G.T,G.T=null;var m=nt.p;nt.p=2;var g=oe;oe|=4;try{Uw(o,s);var b=py,A=jx(s.containerInfo),U=b.focusedElem,j=b.selectionRange;if(A!==U&&U&&U.ownerDocument&&Fx(U.ownerDocument.documentElement,U)){if(j!==null&&$p(U)){var W=j.start,dt=j.end;if(dt===void 0&&(dt=W),"selectionStart"in U)U.selectionStart=W,U.selectionEnd=Math.min(dt,U.value.length);else{var yt=U.ownerDocument||document,it=yt&&yt.defaultView||window;if(it.getSelection){var st=it.getSelection(),Lt=U.textContent.length,Ot=Math.min(j.start,Lt),me=j.end===void 0?Ot:Math.min(j.end,Lt);!st.extend&&Ot>me&&(A=me,me=Ot,Ot=A);var Z=Bx(U,Ot),I=Bx(U,me);if(Z&&I&&(st.rangeCount!==1||st.anchorNode!==Z.node||st.anchorOffset!==Z.offset||st.focusNode!==I.node||st.focusOffset!==I.offset)){var Q=yt.createRange();Q.setStart(Z.node,Z.offset),st.removeAllRanges(),Ot>me?(st.addRange(Q),st.extend(I.node,I.offset)):(Q.setEnd(I.node,I.offset),st.addRange(Q))}}}}for(yt=[],st=U;st=st.parentNode;)st.nodeType===1&&yt.push({element:st,left:st.scrollLeft,top:st.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<yt.length;U++){var pt=yt[U];pt.element.scrollLeft=pt.left,pt.element.scrollTop=pt.top}}gm=!!my,py=my=null}finally{oe=g,nt.p=m,G.T=c}}s.current=o,on=2}}function Jw(){if(on===2){on=0;var s=Zs,o=gl,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=G.T,G.T=null;var m=nt.p;nt.p=2;var g=oe;oe|=4;try{Ow(s,o.alternate,o)}finally{oe=g,nt.p=m,G.T=c}}on=3}}function tE(){if(on===4||on===3){on=0,Ac();var s=Zs,o=gl,c=vl,m=Vw;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?on=5:(on=0,gl=Zs=null,eE(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Xs=null),_t(c),o=o.stateNode,L&&typeof L.onCommitFiberRoot=="function")try{L.onCommitFiberRoot(Hr,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=G.T,g=nt.p,nt.p=2,G.T=null;try{for(var b=s.onRecoverableError,A=0;A<m.length;A++){var U=m[A];b(U.value,{componentStack:U.stack})}}finally{G.T=o,nt.p=g}}(vl&3)!==0&&am(),_r(s),g=s.pendingLanes,(c&4194090)!==0&&(g&42)!==0?s===ty?hh++:(hh=0,ty=s):hh=0,fh(0)}}function eE(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,qc(o)))}function am(s){return Ww(),Jw(),tE(),nE()}function nE(){if(on!==5)return!1;var s=Zs,o=W_;W_=0;var c=_t(vl),m=G.T,g=nt.p;try{nt.p=32>c?32:c,G.T=null,c=J_,J_=null;var b=Zs,A=vl;if(on=0,gl=Zs=null,vl=0,(oe&6)!==0)throw Error(i(331));var U=oe;if(oe|=4,Fw(b.current),kw(b,b.current,A,c),oe=U,fh(0,!1),L&&typeof L.onPostCommitFiberRoot=="function")try{L.onPostCommitFiberRoot(Hr,b)}catch{}return!0}finally{nt.p=g,G.T=m,eE(s,o)}}function iE(s,o,c){o=Mi(c,o),o=D_(s.stateNode,o,2),s=Fs(s,o,2),s!==null&&(_n(s,2),_r(s))}function pe(s,o,c){if(s.tag===3)iE(s,s,c);else for(;o!==null;){if(o.tag===3){iE(o,s,c);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Xs===null||!Xs.has(m))){s=Mi(c,s),c=ow(2),m=Fs(o,c,2),m!==null&&(lw(c,m,o,s),_n(m,2),_r(m));break}}o=o.return}}function ry(s,o,c){var m=s.pingCache;if(m===null){m=s.pingCache=new C3;var g=new Set;m.set(o,g)}else g=m.get(o),g===void 0&&(g=new Set,m.set(o,g));g.has(c)||(X_=!0,g.add(c),s=L3.bind(null,s,o,c),o.then(s,s))}function L3(s,o,c){var m=s.pingCache;m!==null&&m.delete(o),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,ge===s&&(Kt&c)===c&&(Re===4||Re===3&&(Kt&62914560)===Kt&&300>pn()-Q_?(oe&2)===0&&xl(s,0):Z_|=c,yl===Kt&&(yl=0)),_r(s)}function rE(s,o){o===0&&(o=Io()),s=nl(s,o),s!==null&&(_n(s,o),_r(s))}function U3(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),rE(s,c)}function N3(s,o){var c=0;switch(s.tag){case 13:var m=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(o),rE(s,c)}function k3(s,o){return bi(s,o)}var om=null,wl=null,sy=!1,lm=!1,ay=!1,to=0;function _r(s){s!==wl&&s.next===null&&(wl===null?om=wl=s:wl=wl.next=s),lm=!0,sy||(sy=!0,B3())}function fh(s,o){if(!ay&&lm){ay=!0;do for(var c=!1,m=om;m!==null;){if(s!==0){var g=m.pendingLanes;if(g===0)var b=0;else{var A=m.suspendedLanes,U=m.pingedLanes;b=(1<<31-S(42|s)+1)-1,b&=g&~(A&~U),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,lE(m,b))}else b=Kt,b=ee(m,m===ge?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||ne(m,b)||(c=!0,lE(m,b));m=m.next}while(c);ay=!1}}function P3(){sE()}function sE(){lm=sy=!1;var s=0;to!==0&&(G3()&&(s=to),to=0);for(var o=pn(),c=null,m=om;m!==null;){var g=m.next,b=aE(m,o);b===0?(m.next=null,c===null?om=g:c.next=g,g===null&&(wl=c)):(c=m,(s!==0||(b&3)!==0)&&(lm=!0)),m=g}fh(s)}function aE(s,o){for(var c=s.suspendedLanes,m=s.pingedLanes,g=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var A=31-S(b),U=1<<A,j=g[A];j===-1?((U&c)===0||(U&m)!==0)&&(g[A]=Zt(U,o)):j<=o&&(s.expiredLanes|=U),b&=~U}if(o=ge,c=Kt,c=ee(s,s===o?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,c===0||s===o&&(le===2||le===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&qi(m),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||ne(s,c)){if(o=c&-c,o===s.callbackPriority)return o;switch(m!==null&&qi(m),_t(c)){case 2:case 8:c=ei;break;case 32:c=An;break;case 268435456:c=Ls;break;default:c=An}return m=oE.bind(null,s),c=bi(c,m),s.callbackPriority=o,s.callbackNode=c,o}return m!==null&&m!==null&&qi(m),s.callbackPriority=2,s.callbackNode=null,2}function oE(s,o){if(on!==0&&on!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(am()&&s.callbackNode!==c)return null;var m=Kt;return m=ee(s,s===ge?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(Hw(s,m,o),aE(s,pn()),s.callbackNode!=null&&s.callbackNode===c?oE.bind(null,s):null)}function lE(s,o){if(am())return null;Hw(s,o,!0)}function B3(){X3(function(){(oe&6)!==0?bi($o,P3):sE()})}function oy(){return to===0&&(to=md()),to}function uE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:vd(""+s)}function cE(s,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,s.id&&c.setAttribute("form",s.id),o.parentNode.insertBefore(c,o),s=new FormData(s),c.parentNode.removeChild(c),s}function F3(s,o,c,m,g){if(o==="submit"&&c&&c.stateNode===g){var b=uE((g[Wt]||null).action),A=m.submitter;A&&(o=(o=A[Wt]||null)?uE(o.formAction):A.getAttribute("formAction"),o!==null&&(b=o,A=null));var U=new Ed("action","action",null,m,g);s.push({event:U,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(to!==0){var j=A?cE(g,A):new FormData(g);A_(c,{pending:!0,data:j,method:g.method,action:b},null,j)}}else typeof b=="function"&&(U.preventDefault(),j=A?cE(g,A):new FormData(g),A_(c,{pending:!0,data:j,method:g.method,action:b},b,j))},currentTarget:g}]})}}for(var ly=0;ly<Gp.length;ly++){var uy=Gp[ly],j3=uy.toLowerCase(),V3=uy[0].toUpperCase()+uy.slice(1);Yi(j3,"on"+V3)}Yi(Hx,"onAnimationEnd"),Yi(Ix,"onAnimationIteration"),Yi(qx,"onAnimationStart"),Yi("dblclick","onDoubleClick"),Yi("focusin","onFocus"),Yi("focusout","onBlur"),Yi(r3,"onTransitionRun"),Yi(s3,"onTransitionStart"),Yi(a3,"onTransitionCancel"),Yi(Gx,"onTransitionEnd"),Go("onMouseEnter",["mouseout","mouseover"]),Go("onMouseLeave",["mouseout","mouseover"]),Go("onPointerEnter",["pointerout","pointerover"]),Go("onPointerLeave",["pointerout","pointerover"]),Ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ba("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dh));function hE(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var m=s[c],g=m.event;m=m.listeners;t:{var b=void 0;if(o)for(var A=m.length-1;0<=A;A--){var U=m[A],j=U.instance,W=U.currentTarget;if(U=U.listener,j!==b&&g.isPropagationStopped())break t;b=U,g.currentTarget=W;try{b(g)}catch(dt){Zd(dt)}g.currentTarget=null,b=j}else for(A=0;A<m.length;A++){if(U=m[A],j=U.instance,W=U.currentTarget,U=U.listener,j!==b&&g.isPropagationStopped())break t;b=U,g.currentTarget=W;try{b(g)}catch(dt){Zd(dt)}g.currentTarget=null,b=j}}}}function Yt(s,o){var c=o[Je];c===void 0&&(c=o[Je]=new Set);var m=s+"__bubble";c.has(m)||(fE(o,s,2,!1),c.add(m))}function cy(s,o,c){var m=0;o&&(m|=4),fE(c,s,m,o)}var um="_reactListening"+Math.random().toString(36).slice(2);function hy(s){if(!s[um]){s[um]=!0,ri.forEach(function(c){c!=="selectionchange"&&($3.has(c)||cy(c,!1,s),cy(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[um]||(o[um]=!0,cy("selectionchange",!1,o))}}function fE(s,o,c,m){switch(kE(o)){case 2:var g=p6;break;case 8:g=_6;break;default:g=My}c=g.bind(null,o,c,s),g=void 0,!Lp||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),m?g!==void 0?s.addEventListener(o,c,{capture:!0,passive:g}):s.addEventListener(o,c,!0):g!==void 0?s.addEventListener(o,c,{passive:g}):s.addEventListener(o,c,!1)}function fy(s,o,c,m,g){var b=m;if((o&1)===0&&(o&2)===0&&m!==null)t:for(;;){if(m===null)return;var A=m.tag;if(A===3||A===4){var U=m.stateNode.containerInfo;if(U===g)break;if(A===4)for(A=m.return;A!==null;){var j=A.tag;if((j===3||j===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;U!==null;){if(A=he(U),A===null)return;if(j=A.tag,j===5||j===6||j===26||j===27){m=b=A;continue t}U=U.parentNode}}m=m.return}vx(function(){var W=b,dt=zp(c),yt=[];t:{var it=Yx.get(s);if(it!==void 0){var st=Ed,Lt=s;switch(s){case"keypress":if(bd(c)===0)break t;case"keydown":case"keyup":st=kz;break;case"focusin":Lt="focus",st=Pp;break;case"focusout":Lt="blur",st=Pp;break;case"beforeblur":case"afterblur":st=Pp;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=wx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=Tz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=Fz;break;case Hx:case Ix:case qx:st=Az;break;case Gx:st=Vz;break;case"scroll":case"scrollend":st=wz;break;case"wheel":st=Hz;break;case"copy":case"cut":case"paste":st=Rz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=Tx;break;case"toggle":case"beforetoggle":st=qz}var Ot=(o&4)!==0,me=!Ot&&(s==="scroll"||s==="scrollend"),Z=Ot?it!==null?it+"Capture":null:it;Ot=[];for(var I=W,Q;I!==null;){var pt=I;if(Q=pt.stateNode,pt=pt.tag,pt!==5&&pt!==26&&pt!==27||Q===null||Z===null||(pt=Dc(I,Z),pt!=null&&Ot.push(mh(I,pt,Q))),me)break;I=I.return}0<Ot.length&&(it=new st(it,Lt,null,c,dt),yt.push({event:it,listeners:Ot}))}}if((o&7)===0){t:{if(it=s==="mouseover"||s==="pointerover",st=s==="mouseout"||s==="pointerout",it&&c!==Op&&(Lt=c.relatedTarget||c.fromElement)&&(he(Lt)||Lt[ye]))break t;if((st||it)&&(it=dt.window===dt?dt:(it=dt.ownerDocument)?it.defaultView||it.parentWindow:window,st?(Lt=c.relatedTarget||c.toElement,st=W,Lt=Lt?he(Lt):null,Lt!==null&&(me=a(Lt),Ot=Lt.tag,Lt!==me||Ot!==5&&Ot!==27&&Ot!==6)&&(Lt=null)):(st=null,Lt=W),st!==Lt)){if(Ot=wx,pt="onMouseLeave",Z="onMouseEnter",I="mouse",(s==="pointerout"||s==="pointerover")&&(Ot=Tx,pt="onPointerLeave",Z="onPointerEnter",I="pointer"),me=st==null?it:tn(st),Q=Lt==null?it:tn(Lt),it=new Ot(pt,I+"leave",st,c,dt),it.target=me,it.relatedTarget=Q,pt=null,he(dt)===W&&(Ot=new Ot(Z,I+"enter",Lt,c,dt),Ot.target=Q,Ot.relatedTarget=me,pt=Ot),me=pt,st&&Lt)e:{for(Ot=st,Z=Lt,I=0,Q=Ot;Q;Q=El(Q))I++;for(Q=0,pt=Z;pt;pt=El(pt))Q++;for(;0<I-Q;)Ot=El(Ot),I--;for(;0<Q-I;)Z=El(Z),Q--;for(;I--;){if(Ot===Z||Z!==null&&Ot===Z.alternate)break e;Ot=El(Ot),Z=El(Z)}Ot=null}else Ot=null;st!==null&&dE(yt,it,st,Ot,!1),Lt!==null&&me!==null&&dE(yt,me,Lt,Ot,!0)}}t:{if(it=W?tn(W):window,st=it.nodeName&&it.nodeName.toLowerCase(),st==="select"||st==="input"&&it.type==="file")var Et=Dx;else if(Ox(it))if(Lx)Et=e3;else{Et=Jz;var Vt=Wz}else st=it.nodeName,!st||st.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?W&&Rp(W.elementType)&&(Et=Dx):Et=t3;if(Et&&(Et=Et(s,W))){zx(yt,Et,c,dt);break t}Vt&&Vt(s,it,W),s==="focusout"&&W&&it.type==="number"&&W.memoizedProps.value!=null&&Cp(it,"number",it.value)}switch(Vt=W?tn(W):window,s){case"focusin":(Ox(Vt)||Vt.contentEditable==="true")&&(Jo=Vt,Hp=W,jc=null);break;case"focusout":jc=Hp=Jo=null;break;case"mousedown":Ip=!0;break;case"contextmenu":case"mouseup":case"dragend":Ip=!1,Vx(yt,c,dt);break;case"selectionchange":if(i3)break;case"keydown":case"keyup":Vx(yt,c,dt)}var Ct;if(Fp)t:{switch(s){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else Wo?Cx(s,c)&&(zt="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(zt="onCompositionStart");zt&&(Mx&&c.locale!=="ko"&&(Wo||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&Wo&&(Ct=xx()):(Ns=dt,Up="value"in Ns?Ns.value:Ns.textContent,Wo=!0)),Vt=cm(W,zt),0<Vt.length&&(zt=new Ex(zt,s,null,c,dt),yt.push({event:zt,listeners:Vt}),Ct?zt.data=Ct:(Ct=Rx(c),Ct!==null&&(zt.data=Ct)))),(Ct=Yz?Xz(s,c):Zz(s,c))&&(zt=cm(W,"onBeforeInput"),0<zt.length&&(Vt=new Ex("onBeforeInput","beforeinput",null,c,dt),yt.push({event:Vt,listeners:zt}),Vt.data=Ct)),F3(yt,s,W,c,dt)}hE(yt,o)})}function mh(s,o,c){return{instance:s,listener:o,currentTarget:c}}function cm(s,o){for(var c=o+"Capture",m=[];s!==null;){var g=s,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=Dc(s,c),g!=null&&m.unshift(mh(s,g,b)),g=Dc(s,o),g!=null&&m.push(mh(s,g,b))),s.tag===3)return m;s=s.return}return[]}function El(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function dE(s,o,c,m,g){for(var b=o._reactName,A=[];c!==null&&c!==m;){var U=c,j=U.alternate,W=U.stateNode;if(U=U.tag,j!==null&&j===m)break;U!==5&&U!==26&&U!==27||W===null||(j=W,g?(W=Dc(c,b),W!=null&&A.unshift(mh(c,W,j))):g||(W=Dc(c,b),W!=null&&A.push(mh(c,W,j)))),c=c.return}A.length!==0&&s.push({event:o,listeners:A})}var H3=/\r\n?/g,I3=/\u0000|\uFFFD/g;function mE(s){return(typeof s=="string"?s:""+s).replace(H3,`
`).replace(I3,"")}function pE(s,o){return o=mE(o),mE(s)===o}function hm(){}function de(s,o,c,m,g,b){switch(c){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Zo(s,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Zo(s,""+m);break;case"className":_d(s,"class",m);break;case"tabIndex":_d(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":_d(s,c,m);break;case"style":yx(s,m,b);break;case"data":if(o!=="object"){_d(s,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||c!=="href")){s.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(c);break}m=vd(""+m),s.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(o!=="input"&&de(s,o,"name",g.name,g,null),de(s,o,"formEncType",g.formEncType,g,null),de(s,o,"formMethod",g.formMethod,g,null),de(s,o,"formTarget",g.formTarget,g,null)):(de(s,o,"encType",g.encType,g,null),de(s,o,"method",g.method,g,null),de(s,o,"target",g.target,g,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(c);break}m=vd(""+m),s.setAttribute(c,m);break;case"onClick":m!=null&&(s.onclick=hm);break;case"onScroll":m!=null&&Yt("scroll",s);break;case"onScrollEnd":m!=null&&Yt("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(c=m.__html,c!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}c=vd(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,""+m):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":m===!0?s.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,m):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(c,m):s.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(c):s.setAttribute(c,m);break;case"popover":Yt("beforetoggle",s),Yt("toggle",s),pd(s,"popover",m);break;case"xlinkActuate":qr(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":qr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":qr(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":qr(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":qr(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":qr(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":qr(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":qr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":qr(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":pd(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=xz.get(c)||c,pd(s,c,m))}}function dy(s,o,c,m,g,b){switch(c){case"style":yx(s,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(c=m.__html,c!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof m=="string"?Zo(s,m):(typeof m=="number"||typeof m=="bigint")&&Zo(s,""+m);break;case"onScroll":m!=null&&Yt("scroll",s);break;case"onScrollEnd":m!=null&&Yt("scrollend",s);break;case"onClick":m!=null&&(s.onclick=hm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Us.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),o=c.slice(2,g?c.length-7:void 0),b=s[Wt]||null,b=b!=null?b[c]:null,typeof b=="function"&&s.removeEventListener(o,b,g),typeof m=="function")){typeof b!="function"&&b!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(o,m,g);break t}c in s?s[c]=m:m===!0?s.setAttribute(c,""):pd(s,c,m)}}}function ln(s,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",s),Yt("load",s);var m=!1,g=!1,b;for(b in c)if(c.hasOwnProperty(b)){var A=c[b];if(A!=null)switch(b){case"src":m=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:de(s,o,b,A,c,null)}}g&&de(s,o,"srcSet",c.srcSet,c,null),m&&de(s,o,"src",c.src,c,null);return;case"input":Yt("invalid",s);var U=b=A=g=null,j=null,W=null;for(m in c)if(c.hasOwnProperty(m)){var dt=c[m];if(dt!=null)switch(m){case"name":g=dt;break;case"type":A=dt;break;case"checked":j=dt;break;case"defaultChecked":W=dt;break;case"value":b=dt;break;case"defaultValue":U=dt;break;case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(i(137,o));break;default:de(s,o,m,dt,c,null)}}dx(s,b,U,j,W,A,g,!1),yd(s);return;case"select":Yt("invalid",s),m=A=b=null;for(g in c)if(c.hasOwnProperty(g)&&(U=c[g],U!=null))switch(g){case"value":b=U;break;case"defaultValue":A=U;break;case"multiple":m=U;default:de(s,o,g,U,c,null)}o=b,c=A,s.multiple=!!m,o!=null?Xo(s,!!m,o,!1):c!=null&&Xo(s,!!m,c,!0);return;case"textarea":Yt("invalid",s),b=g=m=null;for(A in c)if(c.hasOwnProperty(A)&&(U=c[A],U!=null))switch(A){case"value":m=U;break;case"defaultValue":g=U;break;case"children":b=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(91));break;default:de(s,o,A,U,c,null)}px(s,m,g,b),yd(s);return;case"option":for(j in c)if(c.hasOwnProperty(j)&&(m=c[j],m!=null))switch(j){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:de(s,o,j,m,c,null)}return;case"dialog":Yt("beforetoggle",s),Yt("toggle",s),Yt("cancel",s),Yt("close",s);break;case"iframe":case"object":Yt("load",s);break;case"video":case"audio":for(m=0;m<dh.length;m++)Yt(dh[m],s);break;case"image":Yt("error",s),Yt("load",s);break;case"details":Yt("toggle",s);break;case"embed":case"source":case"link":Yt("error",s),Yt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in c)if(c.hasOwnProperty(W)&&(m=c[W],m!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:de(s,o,W,m,c,null)}return;default:if(Rp(o)){for(dt in c)c.hasOwnProperty(dt)&&(m=c[dt],m!==void 0&&dy(s,o,dt,m,c,void 0));return}}for(U in c)c.hasOwnProperty(U)&&(m=c[U],m!=null&&de(s,o,U,m,c,null))}function q3(s,o,c,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,A=null,U=null,j=null,W=null,dt=null;for(st in c){var yt=c[st];if(c.hasOwnProperty(st)&&yt!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":j=yt;default:m.hasOwnProperty(st)||de(s,o,st,null,m,yt)}}for(var it in m){var st=m[it];if(yt=c[it],m.hasOwnProperty(it)&&(st!=null||yt!=null))switch(it){case"type":b=st;break;case"name":g=st;break;case"checked":W=st;break;case"defaultChecked":dt=st;break;case"value":A=st;break;case"defaultValue":U=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(i(137,o));break;default:st!==yt&&de(s,o,it,st,m,yt)}}Ap(s,A,U,j,W,dt,b,g);return;case"select":st=A=U=it=null;for(b in c)if(j=c[b],c.hasOwnProperty(b)&&j!=null)switch(b){case"value":break;case"multiple":st=j;default:m.hasOwnProperty(b)||de(s,o,b,null,m,j)}for(g in m)if(b=m[g],j=c[g],m.hasOwnProperty(g)&&(b!=null||j!=null))switch(g){case"value":it=b;break;case"defaultValue":U=b;break;case"multiple":A=b;default:b!==j&&de(s,o,g,b,m,j)}o=U,c=A,m=st,it!=null?Xo(s,!!c,it,!1):!!m!=!!c&&(o!=null?Xo(s,!!c,o,!0):Xo(s,!!c,c?[]:"",!1));return;case"textarea":st=it=null;for(U in c)if(g=c[U],c.hasOwnProperty(U)&&g!=null&&!m.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:de(s,o,U,null,m,g)}for(A in m)if(g=m[A],b=c[A],m.hasOwnProperty(A)&&(g!=null||b!=null))switch(A){case"value":it=g;break;case"defaultValue":st=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==b&&de(s,o,A,g,m,b)}mx(s,it,st);return;case"option":for(var Lt in c)if(it=c[Lt],c.hasOwnProperty(Lt)&&it!=null&&!m.hasOwnProperty(Lt))switch(Lt){case"selected":s.selected=!1;break;default:de(s,o,Lt,null,m,it)}for(j in m)if(it=m[j],st=c[j],m.hasOwnProperty(j)&&it!==st&&(it!=null||st!=null))switch(j){case"selected":s.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:de(s,o,j,it,m,st)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ot in c)it=c[Ot],c.hasOwnProperty(Ot)&&it!=null&&!m.hasOwnProperty(Ot)&&de(s,o,Ot,null,m,it);for(W in m)if(it=m[W],st=c[W],m.hasOwnProperty(W)&&it!==st&&(it!=null||st!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(i(137,o));break;default:de(s,o,W,it,m,st)}return;default:if(Rp(o)){for(var me in c)it=c[me],c.hasOwnProperty(me)&&it!==void 0&&!m.hasOwnProperty(me)&&dy(s,o,me,void 0,m,it);for(dt in m)it=m[dt],st=c[dt],!m.hasOwnProperty(dt)||it===st||it===void 0&&st===void 0||dy(s,o,dt,it,m,st);return}}for(var Z in c)it=c[Z],c.hasOwnProperty(Z)&&it!=null&&!m.hasOwnProperty(Z)&&de(s,o,Z,null,m,it);for(yt in m)it=m[yt],st=c[yt],!m.hasOwnProperty(yt)||it===st||it==null&&st==null||de(s,o,yt,it,m,st)}var my=null,py=null;function fm(s){return s.nodeType===9?s:s.ownerDocument}function _E(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yE(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function _y(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var yy=null;function G3(){var s=window.event;return s&&s.type==="popstate"?s===yy?!1:(yy=s,!0):(yy=null,!1)}var gE=typeof setTimeout=="function"?setTimeout:void 0,Y3=typeof clearTimeout=="function"?clearTimeout:void 0,vE=typeof Promise=="function"?Promise:void 0,X3=typeof queueMicrotask=="function"?queueMicrotask:typeof vE<"u"?function(s){return vE.resolve(null).then(s).catch(Z3)}:gE;function Z3(s){setTimeout(function(){throw s})}function Qs(s){return s==="head"}function xE(s,o){var c=o,m=0,g=0;do{var b=c.nextSibling;if(s.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"){if(0<m&&8>m){c=m;var A=s.ownerDocument;if(c&1&&ph(A.documentElement),c&2&&ph(A.body),c&4)for(c=A.head,ph(c),A=c.firstChild;A;){var U=A.nextSibling,j=A.nodeName;A[Gi]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&A.rel.toLowerCase()==="stylesheet"||c.removeChild(A),A=U}}if(g===0){s.removeChild(b),Eh(o);return}g--}else c==="$"||c==="$?"||c==="$!"?g++:m=c.charCodeAt(0)-48;else m=0;c=b}while(c);Eh(o)}function gy(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":gy(c),ae(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function K3(s,o,c,m){for(;s.nodeType===1;){var g=c;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[Gi])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=Zi(s.nextSibling),s===null)break}return null}function Q3(s,o,c){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Zi(s.nextSibling),s===null))return null;return s}function vy(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function W3(s,o){var c=s.ownerDocument;if(s.data!=="$?"||c.readyState==="complete")o();else{var m=function(){o(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function Zi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var xy=null;function bE(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}function wE(s,o,c){switch(o=fm(c),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function ph(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);ae(s)}var zi=new Map,EE=new Set;function dm(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ss=nt.d;nt.d={f:J3,r:t6,D:e6,C:n6,L:i6,m:r6,X:a6,S:s6,M:o6};function J3(){var s=ss.f(),o=rm();return s||o}function t6(s){var o=wi(s);o!==null&&o.tag===5&&o.type==="form"?Hb(o):ss.r(s)}var Tl=typeof document>"u"?null:document;function TE(s,o,c){var m=Tl;if(m&&typeof o=="string"&&o){var g=Ti(o);g='link[rel="'+s+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),EE.has(g)||(EE.add(g),s={rel:s,crossOrigin:c,href:o},m.querySelector(g)===null&&(o=m.createElement("link"),ln(o,"link",s),we(o),m.head.appendChild(o)))}}function e6(s){ss.D(s),TE("dns-prefetch",s,null)}function n6(s,o){ss.C(s,o),TE("preconnect",s,o)}function i6(s,o,c){ss.L(s,o,c);var m=Tl;if(m&&s&&o){var g='link[rel="preload"][as="'+Ti(o)+'"]';o==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+Ti(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+Ti(c.imageSizes)+'"]')):g+='[href="'+Ti(s)+'"]';var b=g;switch(o){case"style":b=Ml(s);break;case"script":b=Sl(s)}zi.has(b)||(s=d({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:s,as:o},c),zi.set(b,s),m.querySelector(g)!==null||o==="style"&&m.querySelector(_h(b))||o==="script"&&m.querySelector(yh(b))||(o=m.createElement("link"),ln(o,"link",s),we(o),m.head.appendChild(o)))}}function r6(s,o){ss.m(s,o);var c=Tl;if(c&&s){var m=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+Ti(m)+'"][href="'+Ti(s)+'"]',b=g;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Sl(s)}if(!zi.has(b)&&(s=d({rel:"modulepreload",href:s},o),zi.set(b,s),c.querySelector(g)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(yh(b)))return}m=c.createElement("link"),ln(m,"link",s),we(m),c.head.appendChild(m)}}}function s6(s,o,c){ss.S(s,o,c);var m=Tl;if(m&&s){var g=Rn(m).hoistableStyles,b=Ml(s);o=o||"default";var A=g.get(b);if(!A){var U={loading:0,preload:null};if(A=m.querySelector(_h(b)))U.loading=5;else{s=d({rel:"stylesheet",href:s,"data-precedence":o},c),(c=zi.get(b))&&by(s,c);var j=A=m.createElement("link");we(j),ln(j,"link",s),j._p=new Promise(function(W,dt){j.onload=W,j.onerror=dt}),j.addEventListener("load",function(){U.loading|=1}),j.addEventListener("error",function(){U.loading|=2}),U.loading|=4,mm(A,o,m)}A={type:"stylesheet",instance:A,count:1,state:U},g.set(b,A)}}}function a6(s,o){ss.X(s,o);var c=Tl;if(c&&s){var m=Rn(c).hoistableScripts,g=Sl(s),b=m.get(g);b||(b=c.querySelector(yh(g)),b||(s=d({src:s,async:!0},o),(o=zi.get(g))&&wy(s,o),b=c.createElement("script"),we(b),ln(b,"link",s),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(g,b))}}function o6(s,o){ss.M(s,o);var c=Tl;if(c&&s){var m=Rn(c).hoistableScripts,g=Sl(s),b=m.get(g);b||(b=c.querySelector(yh(g)),b||(s=d({src:s,async:!0,type:"module"},o),(o=zi.get(g))&&wy(s,o),b=c.createElement("script"),we(b),ln(b,"link",s),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(g,b))}}function ME(s,o,c,m){var g=(g=Rt.current)?dm(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Ml(c.href),c=Rn(g).hoistableStyles,m=c.get(o),m||(m={type:"style",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Ml(c.href);var b=Rn(g).hoistableStyles,A=b.get(s);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,A),(b=g.querySelector(_h(s)))&&!b._p&&(A.instance=b,A.state.loading=5),zi.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},zi.set(s,c),b||l6(g,s,c,A.state))),o&&m===null)throw Error(i(528,""));return A}if(o&&m!==null)throw Error(i(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Sl(c),c=Rn(g).hoistableScripts,m=c.get(o),m||(m={type:"script",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Ml(s){return'href="'+Ti(s)+'"'}function _h(s){return'link[rel="stylesheet"]['+s+"]"}function SE(s){return d({},s,{"data-precedence":s.precedence,precedence:null})}function l6(s,o,c,m){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=s.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),ln(o,"link",c),we(o),s.head.appendChild(o))}function Sl(s){return'[src="'+Ti(s)+'"]'}function yh(s){return"script[async]"+s}function AE(s,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var m=s.querySelector('style[data-href~="'+Ti(c.href)+'"]');if(m)return o.instance=m,we(m),m;var g=d({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),we(m),ln(m,"style",g),mm(m,c.precedence,s),o.instance=m;case"stylesheet":g=Ml(c.href);var b=s.querySelector(_h(g));if(b)return o.state.loading|=4,o.instance=b,we(b),b;m=SE(c),(g=zi.get(g))&&by(m,g),b=(s.ownerDocument||s).createElement("link"),we(b);var A=b;return A._p=new Promise(function(U,j){A.onload=U,A.onerror=j}),ln(b,"link",m),o.state.loading|=4,mm(b,c.precedence,s),o.instance=b;case"script":return b=Sl(c.src),(g=s.querySelector(yh(b)))?(o.instance=g,we(g),g):(m=c,(g=zi.get(b))&&(m=d({},c),wy(m,g)),s=s.ownerDocument||s,g=s.createElement("script"),we(g),ln(g,"link",m),s.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,mm(m,c.precedence,s));return o.instance}function mm(s,o,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=m.length?m[m.length-1]:null,b=g,A=0;A<m.length;A++){var U=m[A];if(U.dataset.precedence===o)b=U;else if(b!==g)break}b?b.parentNode.insertBefore(s,b.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(s,o.firstChild))}function by(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function wy(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var pm=null;function CE(s,o,c){if(pm===null){var m=new Map,g=pm=new Map;g.set(c,m)}else g=pm,m=g.get(c),m||(m=new Map,g.set(c,m));if(m.has(s))return m;for(m.set(s,null),c=c.getElementsByTagName(s),g=0;g<c.length;g++){var b=c[g];if(!(b[Gi]||b[qt]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(o)||"";A=s+A;var U=m.get(A);U?U.push(b):m.set(A,[b])}}return m}function RE(s,o,c){s=s.ownerDocument||s,s.head.insertBefore(c,o==="title"?s.querySelector("head > title"):null)}function u6(s,o,c){if(c===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function OE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var gh=null;function c6(){}function h6(s,o,c){if(gh===null)throw Error(i(475));var m=gh;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=Ml(c.href),b=s.querySelector(_h(g));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(m.count++,m=_m.bind(m),s.then(m,m)),o.state.loading|=4,o.instance=b,we(b);return}b=s.ownerDocument||s,c=SE(c),(g=zi.get(g))&&by(c,g),b=b.createElement("link"),we(b);var A=b;A._p=new Promise(function(U,j){A.onload=U,A.onerror=j}),ln(b,"link",c),o.instance=b}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(m.count++,o=_m.bind(m),s.addEventListener("load",o),s.addEventListener("error",o))}}function f6(){if(gh===null)throw Error(i(475));var s=gh;return s.stylesheets&&s.count===0&&Ey(s,s.stylesheets),0<s.count?function(o){var c=setTimeout(function(){if(s.stylesheets&&Ey(s,s.stylesheets),s.unsuspend){var m=s.unsuspend;s.unsuspend=null,m()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c)}}:null}function _m(){if(this.count--,this.count===0){if(this.stylesheets)Ey(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var ym=null;function Ey(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,ym=new Map,o.forEach(d6,s),ym=null,_m.call(s))}function d6(s,o){if(!(o.state.loading&4)){var c=ym.get(s);if(c)var m=c.get(null);else{c=new Map,ym.set(s,c);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var A=g[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(c.set(A.dataset.precedence,A),m=A)}m&&c.set(null,m)}g=o.instance,A=g.getAttribute("data-precedence"),b=c.get(A)||m,b===m&&c.set(null,g),c.set(A,g),this.count++,m=_m.bind(this),g.addEventListener("load",m),g.addEventListener("error",m),b?b.parentNode.insertBefore(g,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),o.state.loading|=4}}var vh={$$typeof:z,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function m6(s,o,c,m,g,b,A,U){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rc(0),this.hiddenUpdates=Rc(null),this.identifierPrefix=m,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function zE(s,o,c,m,g,b,A,U,j,W,dt,yt){return s=new m6(s,o,c,A,U,j,W,yt),o=1,b===!0&&(o|=24),b=ai(3,null,null,o),s.current=b,b.stateNode=s,o=r_(),o.refCount++,s.pooledCache=o,o.refCount++,b.memoizedState={element:m,isDehydrated:c,cache:o},l_(b),s}function DE(s){return s?(s=il,s):il}function LE(s,o,c,m,g,b){g=DE(g),m.context===null?m.context=g:m.pendingContext=g,m=Bs(o),m.payload={element:c},b=b===void 0?null:b,b!==null&&(m.callback=b),c=Fs(s,m,o),c!==null&&(hi(c,s,o),Zc(c,s,o))}function UE(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function Ty(s,o){UE(s,o),(s=s.alternate)&&UE(s,o)}function NE(s){if(s.tag===13){var o=nl(s,67108864);o!==null&&hi(o,s,67108864),Ty(s,67108864)}}var gm=!0;function p6(s,o,c,m){var g=G.T;G.T=null;var b=nt.p;try{nt.p=2,My(s,o,c,m)}finally{nt.p=b,G.T=g}}function _6(s,o,c,m){var g=G.T;G.T=null;var b=nt.p;try{nt.p=8,My(s,o,c,m)}finally{nt.p=b,G.T=g}}function My(s,o,c,m){if(gm){var g=Sy(m);if(g===null)fy(s,o,m,vm,c),PE(s,m);else if(g6(g,s,o,c,m))m.stopPropagation();else if(PE(s,m),o&4&&-1<y6.indexOf(s)){for(;g!==null;){var b=wi(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=Qt(b.pendingLanes);if(A!==0){var U=b;for(U.pendingLanes|=2,U.entangledLanes|=2;A;){var j=1<<31-S(A);U.entanglements[1]|=j,A&=~j}_r(b),(oe&6)===0&&(nm=pn()+500,fh(0))}}break;case 13:U=nl(b,2),U!==null&&hi(U,b,2),rm(),Ty(b,2)}if(b=Sy(m),b===null&&fy(s,o,m,vm,c),b===g)break;g=b}g!==null&&m.stopPropagation()}else fy(s,o,m,null,c)}}function Sy(s){return s=zp(s),Ay(s)}var vm=null;function Ay(s){if(vm=null,s=he(s),s!==null){var o=a(s);if(o===null)s=null;else{var c=o.tag;if(c===13){if(s=l(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return vm=s,null}function kE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cc()){case $o:return 2;case ei:return 8;case An:case Fn:return 32;case Ls:return 268435456;default:return 32}default:return 32}}var Cy=!1,Ws=null,Js=null,ta=null,xh=new Map,bh=new Map,ea=[],y6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PE(s,o){switch(s){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":xh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":bh.delete(o.pointerId)}}function wh(s,o,c,m,g,b){return s===null||s.nativeEvent!==b?(s={blockedOn:o,domEventName:c,eventSystemFlags:m,nativeEvent:b,targetContainers:[g]},o!==null&&(o=wi(o),o!==null&&NE(o)),s):(s.eventSystemFlags|=m,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function g6(s,o,c,m,g){switch(o){case"focusin":return Ws=wh(Ws,s,o,c,m,g),!0;case"dragenter":return Js=wh(Js,s,o,c,m,g),!0;case"mouseover":return ta=wh(ta,s,o,c,m,g),!0;case"pointerover":var b=g.pointerId;return xh.set(b,wh(xh.get(b)||null,s,o,c,m,g)),!0;case"gotpointercapture":return b=g.pointerId,bh.set(b,wh(bh.get(b)||null,s,o,c,m,g)),!0}return!1}function BE(s){var o=he(s.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){s.blockedOn=o,jt(s.priority,function(){if(c.tag===13){var m=ci();m=zc(m);var g=nl(c,m);g!==null&&hi(g,c,m),Ty(c,m)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function xm(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=Sy(s.nativeEvent);if(c===null){c=s.nativeEvent;var m=new c.constructor(c.type,c);Op=m,c.target.dispatchEvent(m),Op=null}else return o=wi(c),o!==null&&NE(o),s.blockedOn=c,!1;o.shift()}return!0}function FE(s,o,c){xm(s)&&c.delete(o)}function v6(){Cy=!1,Ws!==null&&xm(Ws)&&(Ws=null),Js!==null&&xm(Js)&&(Js=null),ta!==null&&xm(ta)&&(ta=null),xh.forEach(FE),bh.forEach(FE)}function bm(s,o){s.blockedOn===o&&(s.blockedOn=null,Cy||(Cy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,v6)))}var wm=null;function jE(s){wm!==s&&(wm=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){wm===s&&(wm=null);for(var o=0;o<s.length;o+=3){var c=s[o],m=s[o+1],g=s[o+2];if(typeof m!="function"){if(Ay(m||c)===null)continue;break}var b=wi(c);b!==null&&(s.splice(o,3),o-=3,A_(b,{pending:!0,data:g,method:c.method,action:m},m,g))}}))}function Eh(s){function o(j){return bm(j,s)}Ws!==null&&bm(Ws,s),Js!==null&&bm(Js,s),ta!==null&&bm(ta,s),xh.forEach(o),bh.forEach(o);for(var c=0;c<ea.length;c++){var m=ea[c];m.blockedOn===s&&(m.blockedOn=null)}for(;0<ea.length&&(c=ea[0],c.blockedOn===null);)BE(c),c.blockedOn===null&&ea.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var g=c[m],b=c[m+1],A=g[Wt]||null;if(typeof b=="function")A||jE(c);else if(A){var U=null;if(b&&b.hasAttribute("formAction")){if(g=b,A=b[Wt]||null)U=A.formAction;else if(Ay(g)!==null)continue}else U=A.action;typeof U=="function"?c[m+1]=U:(c.splice(m,3),m-=3),jE(c)}}}function Ry(s){this._internalRoot=s}Em.prototype.render=Ry.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var c=o.current,m=ci();LE(c,m,s,o,null,null)},Em.prototype.unmount=Ry.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;LE(s.current,2,null,s,null,null),rm(),o[ye]=null}};function Em(s){this._internalRoot=s}Em.prototype.unstable_scheduleHydration=function(s){if(s){var o=gt();s={blockedOn:null,target:s,priority:o};for(var c=0;c<ea.length&&o!==0&&o<ea[c].priority;c++);ea.splice(c,0,s),c===0&&BE(s)}};var VE=t.version;if(VE!=="19.1.1")throw Error(i(527,VE,"19.1.1"));nt.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=h(o),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var x6={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tm.isDisabled&&Tm.supportsFiber)try{Hr=Tm.inject(x6),L=Tm}catch{}}return Mh.createRoot=function(s,o){if(!r(s))throw Error(i(299));var c=!1,m="",g=iw,b=rw,A=sw,U=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(U=o.unstable_transitionCallbacks)),o=zE(s,1,!1,null,null,c,m,g,b,A,U,null),s[ye]=o.current,hy(s),new Ry(o)},Mh.hydrateRoot=function(s,o,c){if(!r(s))throw Error(i(299));var m=!1,g="",b=iw,A=rw,U=sw,j=null,W=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(U=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(j=c.unstable_transitionCallbacks),c.formState!==void 0&&(W=c.formState)),o=zE(s,1,!0,o,c??null,m,g,b,A,U,j,W),o.context=DE(null),c=o.current,m=ci(),m=zc(m),g=Bs(m),g.callback=null,Fs(c,g,m),c=m,o.current.lanes=c,_n(o,c),_r(o),s[ye]=o.current,hy(s),new Em(o)},Mh.version="19.1.1",Mh}var WE;function D6(){if(WE)return Uy.exports;WE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Uy.exports=z6(),Uy.exports}var L6=D6(),By={},Sh={},JE;function U6(){if(JE)return Sh;JE=1,Sh.byteLength=u,Sh.toByteArray=f,Sh.fromByteArray=y;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,a=i.length;r<a;++r)e[r]=i[r],t[i.charCodeAt(r)]=r;t[45]=62,t[95]=63;function l(_){var v=_.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=_.indexOf("=");w===-1&&(w=v);var E=w===v?0:4-w%4;return[w,E]}function u(_){var v=l(_),w=v[0],E=v[1];return(w+E)*3/4-E}function h(_,v,w){return(v+w)*3/4-w}function f(_){var v,w=l(_),E=w[0],M=w[1],R=new n(h(_,E,M)),z=0,D=M>0?E-4:E,C;for(C=0;C<D;C+=4)v=t[_.charCodeAt(C)]<<18|t[_.charCodeAt(C+1)]<<12|t[_.charCodeAt(C+2)]<<6|t[_.charCodeAt(C+3)],R[z++]=v>>16&255,R[z++]=v>>8&255,R[z++]=v&255;return M===2&&(v=t[_.charCodeAt(C)]<<2|t[_.charCodeAt(C+1)]>>4,R[z++]=v&255),M===1&&(v=t[_.charCodeAt(C)]<<10|t[_.charCodeAt(C+1)]<<4|t[_.charCodeAt(C+2)]>>2,R[z++]=v>>8&255,R[z++]=v&255),R}function d(_){return e[_>>18&63]+e[_>>12&63]+e[_>>6&63]+e[_&63]}function p(_,v,w){for(var E,M=[],R=v;R<w;R+=3)E=(_[R]<<16&16711680)+(_[R+1]<<8&65280)+(_[R+2]&255),M.push(d(E));return M.join("")}function y(_){for(var v,w=_.length,E=w%3,M=[],R=16383,z=0,D=w-E;z<D;z+=R)M.push(p(_,z,z+R>D?D:z+R));return E===1?(v=_[w-1],M.push(e[v>>2]+e[v<<4&63]+"==")):E===2&&(v=(_[w-2]<<8)+_[w-1],M.push(e[v>>10]+e[v>>4&63]+e[v<<2&63]+"=")),M.join("")}return Sh}var Mm={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var tT;function N6(){return tT||(tT=1,Mm.read=function(e,t,n,i,r){var a,l,u=r*8-i-1,h=(1<<u)-1,f=h>>1,d=-7,p=n?r-1:0,y=n?-1:1,_=e[t+p];for(p+=y,a=_&(1<<-d)-1,_>>=-d,d+=u;d>0;a=a*256+e[t+p],p+=y,d-=8);for(l=a&(1<<-d)-1,a>>=-d,d+=i;d>0;l=l*256+e[t+p],p+=y,d-=8);if(a===0)a=1-f;else{if(a===h)return l?NaN:(_?-1:1)*(1/0);l=l+Math.pow(2,i),a=a-f}return(_?-1:1)*l*Math.pow(2,a-i)},Mm.write=function(e,t,n,i,r,a){var l,u,h,f=a*8-r-1,d=(1<<f)-1,p=d>>1,y=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=i?0:a-1,v=i?1:-1,w=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,l=d):(l=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-l))<1&&(l--,h*=2),l+p>=1?t+=y/h:t+=y*Math.pow(2,1-p),t*h>=2&&(l++,h/=2),l+p>=d?(u=0,l=d):l+p>=1?(u=(t*h-1)*Math.pow(2,r),l=l+p):(u=t*Math.pow(2,p-1)*Math.pow(2,r),l=0));r>=8;e[n+_]=u&255,_+=v,u/=256,r-=8);for(l=l<<r|u,f+=r;f>0;e[n+_]=l&255,_+=v,l/=256,f-=8);e[n+_-v]|=w*128}),Mm}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var eT;function k6(){return eT||(eT=1,function(e){const t=U6(),n=N6(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=R,e.INSPECT_MAX_BYTES=50;const r=2147483647;e.kMaxLength=r,u.TYPED_ARRAY_SUPPORT=a(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const L=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf(L,T),L.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function l(L){if(L>r)throw new RangeError('The value "'+L+'" is invalid for option "size"');const T=new Uint8Array(L);return Object.setPrototypeOf(T,u.prototype),T}function u(L,T,S){if(typeof L=="number"){if(typeof T=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(L)}return h(L,T,S)}u.poolSize=8192;function h(L,T,S){if(typeof L=="string")return y(L,T);if(ArrayBuffer.isView(L))return v(L);if(L==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L);if(Fn(L,ArrayBuffer)||L&&Fn(L.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Fn(L,SharedArrayBuffer)||L&&Fn(L.buffer,SharedArrayBuffer)))return w(L,T,S);if(typeof L=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const P=L.valueOf&&L.valueOf();if(P!=null&&P!==L)return u.from(P,T,S);const Y=E(L);if(Y)return Y;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof L[Symbol.toPrimitive]=="function")return u.from(L[Symbol.toPrimitive]("string"),T,S);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L)}u.from=function(L,T,S){return h(L,T,S)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function f(L){if(typeof L!="number")throw new TypeError('"size" argument must be of type number');if(L<0)throw new RangeError('The value "'+L+'" is invalid for option "size"')}function d(L,T,S){return f(L),L<=0?l(L):T!==void 0?typeof S=="string"?l(L).fill(T,S):l(L).fill(T):l(L)}u.alloc=function(L,T,S){return d(L,T,S)};function p(L){return f(L),l(L<0?0:M(L)|0)}u.allocUnsafe=function(L){return p(L)},u.allocUnsafeSlow=function(L){return p(L)};function y(L,T){if((typeof T!="string"||T==="")&&(T="utf8"),!u.isEncoding(T))throw new TypeError("Unknown encoding: "+T);const S=z(L,T)|0;let P=l(S);const Y=P.write(L,T);return Y!==S&&(P=P.slice(0,Y)),P}function _(L){const T=L.length<0?0:M(L.length)|0,S=l(T);for(let P=0;P<T;P+=1)S[P]=L[P]&255;return S}function v(L){if(Fn(L,Uint8Array)){const T=new Uint8Array(L);return w(T.buffer,T.byteOffset,T.byteLength)}return _(L)}function w(L,T,S){if(T<0||L.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(L.byteLength<T+(S||0))throw new RangeError('"length" is outside of buffer bounds');let P;return T===void 0&&S===void 0?P=new Uint8Array(L):S===void 0?P=new Uint8Array(L,T):P=new Uint8Array(L,T,S),Object.setPrototypeOf(P,u.prototype),P}function E(L){if(u.isBuffer(L)){const T=M(L.length)|0,S=l(T);return S.length===0||L.copy(S,0,0,T),S}if(L.length!==void 0)return typeof L.length!="number"||Ls(L.length)?l(0):_(L);if(L.type==="Buffer"&&Array.isArray(L.data))return _(L.data)}function M(L){if(L>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return L|0}function R(L){return+L!=L&&(L=0),u.alloc(+L)}u.isBuffer=function(T){return T!=null&&T._isBuffer===!0&&T!==u.prototype},u.compare=function(T,S){if(Fn(T,Uint8Array)&&(T=u.from(T,T.offset,T.byteLength)),Fn(S,Uint8Array)&&(S=u.from(S,S.offset,S.byteLength)),!u.isBuffer(T)||!u.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===S)return 0;let P=T.length,Y=S.length;for(let lt=0,mt=Math.min(P,Y);lt<mt;++lt)if(T[lt]!==S[lt]){P=T[lt],Y=S[lt];break}return P<Y?-1:Y<P?1:0},u.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(T,S){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return u.alloc(0);let P;if(S===void 0)for(S=0,P=0;P<T.length;++P)S+=T[P].length;const Y=u.allocUnsafe(S);let lt=0;for(P=0;P<T.length;++P){let mt=T[P];if(Fn(mt,Uint8Array))lt+mt.length>Y.length?(u.isBuffer(mt)||(mt=u.from(mt)),mt.copy(Y,lt)):Uint8Array.prototype.set.call(Y,mt,lt);else if(u.isBuffer(mt))mt.copy(Y,lt);else throw new TypeError('"list" argument must be an Array of Buffers');lt+=mt.length}return Y};function z(L,T){if(u.isBuffer(L))return L.length;if(ArrayBuffer.isView(L)||Fn(L,ArrayBuffer))return L.byteLength;if(typeof L!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof L);const S=L.length,P=arguments.length>2&&arguments[2]===!0;if(!P&&S===0)return 0;let Y=!1;for(;;)switch(T){case"ascii":case"latin1":case"binary":return S;case"utf8":case"utf-8":return pn(L).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S*2;case"hex":return S>>>1;case"base64":return ei(L).length;default:if(Y)return P?-1:pn(L).length;T=(""+T).toLowerCase(),Y=!0}}u.byteLength=z;function D(L,T,S){let P=!1;if((T===void 0||T<0)&&(T=0),T>this.length||((S===void 0||S>this.length)&&(S=this.length),S<=0)||(S>>>=0,T>>>=0,S<=T))return"";for(L||(L="utf8");;)switch(L){case"hex":return ht(this,T,S);case"utf8":case"utf-8":return et(this,T,S);case"ascii":return nt(this,T,S);case"latin1":case"binary":return ft(this,T,S);case"base64":return J(this,T,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,T,S);default:if(P)throw new TypeError("Unknown encoding: "+L);L=(L+"").toLowerCase(),P=!0}}u.prototype._isBuffer=!0;function C(L,T,S){const P=L[T];L[T]=L[S],L[S]=P}u.prototype.swap16=function(){const T=this.length;if(T%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let S=0;S<T;S+=2)C(this,S,S+1);return this},u.prototype.swap32=function(){const T=this.length;if(T%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let S=0;S<T;S+=4)C(this,S,S+3),C(this,S+1,S+2);return this},u.prototype.swap64=function(){const T=this.length;if(T%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let S=0;S<T;S+=8)C(this,S,S+7),C(this,S+1,S+6),C(this,S+2,S+5),C(this,S+3,S+4);return this},u.prototype.toString=function(){const T=this.length;return T===0?"":arguments.length===0?et(this,0,T):D.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(T){if(!u.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T?!0:u.compare(this,T)===0},u.prototype.inspect=function(){let T="";const S=e.INSPECT_MAX_BYTES;return T=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(T+=" ... "),"<Buffer "+T+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(T,S,P,Y,lt){if(Fn(T,Uint8Array)&&(T=u.from(T,T.offset,T.byteLength)),!u.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(S===void 0&&(S=0),P===void 0&&(P=T?T.length:0),Y===void 0&&(Y=0),lt===void 0&&(lt=this.length),S<0||P>T.length||Y<0||lt>this.length)throw new RangeError("out of range index");if(Y>=lt&&S>=P)return 0;if(Y>=lt)return-1;if(S>=P)return 1;if(S>>>=0,P>>>=0,Y>>>=0,lt>>>=0,this===T)return 0;let mt=lt-Y,Nt=P-S;const Qt=Math.min(mt,Nt),ee=this.slice(Y,lt),ne=T.slice(S,P);for(let Zt=0;Zt<Qt;++Zt)if(ee[Zt]!==ne[Zt]){mt=ee[Zt],Nt=ne[Zt];break}return mt<Nt?-1:Nt<mt?1:0};function N(L,T,S,P,Y){if(L.length===0)return-1;if(typeof S=="string"?(P=S,S=0):S>2147483647?S=2147483647:S<-2147483648&&(S=-2147483648),S=+S,Ls(S)&&(S=Y?0:L.length-1),S<0&&(S=L.length+S),S>=L.length){if(Y)return-1;S=L.length-1}else if(S<0)if(Y)S=0;else return-1;if(typeof T=="string"&&(T=u.from(T,P)),u.isBuffer(T))return T.length===0?-1:k(L,T,S,P,Y);if(typeof T=="number")return T=T&255,typeof Uint8Array.prototype.indexOf=="function"?Y?Uint8Array.prototype.indexOf.call(L,T,S):Uint8Array.prototype.lastIndexOf.call(L,T,S):k(L,[T],S,P,Y);throw new TypeError("val must be string, number or Buffer")}function k(L,T,S,P,Y){let lt=1,mt=L.length,Nt=T.length;if(P!==void 0&&(P=String(P).toLowerCase(),P==="ucs2"||P==="ucs-2"||P==="utf16le"||P==="utf-16le")){if(L.length<2||T.length<2)return-1;lt=2,mt/=2,Nt/=2,S/=2}function Qt(ne,Zt){return lt===1?ne[Zt]:ne.readUInt16BE(Zt*lt)}let ee;if(Y){let ne=-1;for(ee=S;ee<mt;ee++)if(Qt(L,ee)===Qt(T,ne===-1?0:ee-ne)){if(ne===-1&&(ne=ee),ee-ne+1===Nt)return ne*lt}else ne!==-1&&(ee-=ee-ne),ne=-1}else for(S+Nt>mt&&(S=mt-Nt),ee=S;ee>=0;ee--){let ne=!0;for(let Zt=0;Zt<Nt;Zt++)if(Qt(L,ee+Zt)!==Qt(T,Zt)){ne=!1;break}if(ne)return ee}return-1}u.prototype.includes=function(T,S,P){return this.indexOf(T,S,P)!==-1},u.prototype.indexOf=function(T,S,P){return N(this,T,S,P,!0)},u.prototype.lastIndexOf=function(T,S,P){return N(this,T,S,P,!1)};function $(L,T,S,P){S=Number(S)||0;const Y=L.length-S;P?(P=Number(P),P>Y&&(P=Y)):P=Y;const lt=T.length;P>lt/2&&(P=lt/2);let mt;for(mt=0;mt<P;++mt){const Nt=parseInt(T.substr(mt*2,2),16);if(Ls(Nt))return mt;L[S+mt]=Nt}return mt}function q(L,T,S,P){return An(pn(T,L.length-S),L,S,P)}function X(L,T,S,P){return An(Cc(T),L,S,P)}function tt(L,T,S,P){return An(ei(T),L,S,P)}function at(L,T,S,P){return An($o(T,L.length-S),L,S,P)}u.prototype.write=function(T,S,P,Y){if(S===void 0)Y="utf8",P=this.length,S=0;else if(P===void 0&&typeof S=="string")Y=S,P=this.length,S=0;else if(isFinite(S))S=S>>>0,isFinite(P)?(P=P>>>0,Y===void 0&&(Y="utf8")):(Y=P,P=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const lt=this.length-S;if((P===void 0||P>lt)&&(P=lt),T.length>0&&(P<0||S<0)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");Y||(Y="utf8");let mt=!1;for(;;)switch(Y){case"hex":return $(this,T,S,P);case"utf8":case"utf-8":return q(this,T,S,P);case"ascii":case"latin1":case"binary":return X(this,T,S,P);case"base64":return tt(this,T,S,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return at(this,T,S,P);default:if(mt)throw new TypeError("Unknown encoding: "+Y);Y=(""+Y).toLowerCase(),mt=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function J(L,T,S){return T===0&&S===L.length?t.fromByteArray(L):t.fromByteArray(L.slice(T,S))}function et(L,T,S){S=Math.min(L.length,S);const P=[];let Y=T;for(;Y<S;){const lt=L[Y];let mt=null,Nt=lt>239?4:lt>223?3:lt>191?2:1;if(Y+Nt<=S){let Qt,ee,ne,Zt;switch(Nt){case 1:lt<128&&(mt=lt);break;case 2:Qt=L[Y+1],(Qt&192)===128&&(Zt=(lt&31)<<6|Qt&63,Zt>127&&(mt=Zt));break;case 3:Qt=L[Y+1],ee=L[Y+2],(Qt&192)===128&&(ee&192)===128&&(Zt=(lt&15)<<12|(Qt&63)<<6|ee&63,Zt>2047&&(Zt<55296||Zt>57343)&&(mt=Zt));break;case 4:Qt=L[Y+1],ee=L[Y+2],ne=L[Y+3],(Qt&192)===128&&(ee&192)===128&&(ne&192)===128&&(Zt=(lt&15)<<18|(Qt&63)<<12|(ee&63)<<6|ne&63,Zt>65535&&Zt<1114112&&(mt=Zt))}}mt===null?(mt=65533,Nt=1):mt>65535&&(mt-=65536,P.push(mt>>>10&1023|55296),mt=56320|mt&1023),P.push(mt),Y+=Nt}return G(P)}const bt=4096;function G(L){const T=L.length;if(T<=bt)return String.fromCharCode.apply(String,L);let S="",P=0;for(;P<T;)S+=String.fromCharCode.apply(String,L.slice(P,P+=bt));return S}function nt(L,T,S){let P="";S=Math.min(L.length,S);for(let Y=T;Y<S;++Y)P+=String.fromCharCode(L[Y]&127);return P}function ft(L,T,S){let P="";S=Math.min(L.length,S);for(let Y=T;Y<S;++Y)P+=String.fromCharCode(L[Y]);return P}function ht(L,T,S){const P=L.length;(!T||T<0)&&(T=0),(!S||S<0||S>P)&&(S=P);let Y="";for(let lt=T;lt<S;++lt)Y+=Ho[L[lt]];return Y}function F(L,T,S){const P=L.slice(T,S);let Y="";for(let lt=0;lt<P.length-1;lt+=2)Y+=String.fromCharCode(P[lt]+P[lt+1]*256);return Y}u.prototype.slice=function(T,S){const P=this.length;T=~~T,S=S===void 0?P:~~S,T<0?(T+=P,T<0&&(T=0)):T>P&&(T=P),S<0?(S+=P,S<0&&(S=0)):S>P&&(S=P),S<T&&(S=T);const Y=this.subarray(T,S);return Object.setPrototypeOf(Y,u.prototype),Y};function ot(L,T,S){if(L%1!==0||L<0)throw new RangeError("offset is not uint");if(L+T>S)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(T,S,P){T=T>>>0,S=S>>>0,P||ot(T,S,this.length);let Y=this[T],lt=1,mt=0;for(;++mt<S&&(lt*=256);)Y+=this[T+mt]*lt;return Y},u.prototype.readUintBE=u.prototype.readUIntBE=function(T,S,P){T=T>>>0,S=S>>>0,P||ot(T,S,this.length);let Y=this[T+--S],lt=1;for(;S>0&&(lt*=256);)Y+=this[T+--S]*lt;return Y},u.prototype.readUint8=u.prototype.readUInt8=function(T,S){return T=T>>>0,S||ot(T,1,this.length),this[T]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(T,S){return T=T>>>0,S||ot(T,2,this.length),this[T]|this[T+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(T,S){return T=T>>>0,S||ot(T,2,this.length),this[T]<<8|this[T+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(T,S){return T=T>>>0,S||ot(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+this[T+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(T,S){return T=T>>>0,S||ot(T,4,this.length),this[T]*16777216+(this[T+1]<<16|this[T+2]<<8|this[T+3])},u.prototype.readBigUInt64LE=Cn(function(T){T=T>>>0,bi(T,"offset");const S=this[T],P=this[T+7];(S===void 0||P===void 0)&&qi(T,this.length-8);const Y=S+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24,lt=this[++T]+this[++T]*2**8+this[++T]*2**16+P*2**24;return BigInt(Y)+(BigInt(lt)<<BigInt(32))}),u.prototype.readBigUInt64BE=Cn(function(T){T=T>>>0,bi(T,"offset");const S=this[T],P=this[T+7];(S===void 0||P===void 0)&&qi(T,this.length-8);const Y=S*2**24+this[++T]*2**16+this[++T]*2**8+this[++T],lt=this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+P;return(BigInt(Y)<<BigInt(32))+BigInt(lt)}),u.prototype.readIntLE=function(T,S,P){T=T>>>0,S=S>>>0,P||ot(T,S,this.length);let Y=this[T],lt=1,mt=0;for(;++mt<S&&(lt*=256);)Y+=this[T+mt]*lt;return lt*=128,Y>=lt&&(Y-=Math.pow(2,8*S)),Y},u.prototype.readIntBE=function(T,S,P){T=T>>>0,S=S>>>0,P||ot(T,S,this.length);let Y=S,lt=1,mt=this[T+--Y];for(;Y>0&&(lt*=256);)mt+=this[T+--Y]*lt;return lt*=128,mt>=lt&&(mt-=Math.pow(2,8*S)),mt},u.prototype.readInt8=function(T,S){return T=T>>>0,S||ot(T,1,this.length),this[T]&128?(255-this[T]+1)*-1:this[T]},u.prototype.readInt16LE=function(T,S){T=T>>>0,S||ot(T,2,this.length);const P=this[T]|this[T+1]<<8;return P&32768?P|4294901760:P},u.prototype.readInt16BE=function(T,S){T=T>>>0,S||ot(T,2,this.length);const P=this[T+1]|this[T]<<8;return P&32768?P|4294901760:P},u.prototype.readInt32LE=function(T,S){return T=T>>>0,S||ot(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},u.prototype.readInt32BE=function(T,S){return T=T>>>0,S||ot(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},u.prototype.readBigInt64LE=Cn(function(T){T=T>>>0,bi(T,"offset");const S=this[T],P=this[T+7];(S===void 0||P===void 0)&&qi(T,this.length-8);const Y=this[T+4]+this[T+5]*2**8+this[T+6]*2**16+(P<<24);return(BigInt(Y)<<BigInt(32))+BigInt(S+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24)}),u.prototype.readBigInt64BE=Cn(function(T){T=T>>>0,bi(T,"offset");const S=this[T],P=this[T+7];(S===void 0||P===void 0)&&qi(T,this.length-8);const Y=(S<<24)+this[++T]*2**16+this[++T]*2**8+this[++T];return(BigInt(Y)<<BigInt(32))+BigInt(this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+P)}),u.prototype.readFloatLE=function(T,S){return T=T>>>0,S||ot(T,4,this.length),n.read(this,T,!0,23,4)},u.prototype.readFloatBE=function(T,S){return T=T>>>0,S||ot(T,4,this.length),n.read(this,T,!1,23,4)},u.prototype.readDoubleLE=function(T,S){return T=T>>>0,S||ot(T,8,this.length),n.read(this,T,!0,52,8)},u.prototype.readDoubleBE=function(T,S){return T=T>>>0,S||ot(T,8,this.length),n.read(this,T,!1,52,8)};function vt(L,T,S,P,Y,lt){if(!u.isBuffer(L))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>Y||T<lt)throw new RangeError('"value" argument is out of bounds');if(S+P>L.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(T,S,P,Y){if(T=+T,S=S>>>0,P=P>>>0,!Y){const Nt=Math.pow(2,8*P)-1;vt(this,T,S,P,Nt,0)}let lt=1,mt=0;for(this[S]=T&255;++mt<P&&(lt*=256);)this[S+mt]=T/lt&255;return S+P},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(T,S,P,Y){if(T=+T,S=S>>>0,P=P>>>0,!Y){const Nt=Math.pow(2,8*P)-1;vt(this,T,S,P,Nt,0)}let lt=P-1,mt=1;for(this[S+lt]=T&255;--lt>=0&&(mt*=256);)this[S+lt]=T/mt&255;return S+P},u.prototype.writeUint8=u.prototype.writeUInt8=function(T,S,P){return T=+T,S=S>>>0,P||vt(this,T,S,1,255,0),this[S]=T&255,S+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(T,S,P){return T=+T,S=S>>>0,P||vt(this,T,S,2,65535,0),this[S]=T&255,this[S+1]=T>>>8,S+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(T,S,P){return T=+T,S=S>>>0,P||vt(this,T,S,2,65535,0),this[S]=T>>>8,this[S+1]=T&255,S+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(T,S,P){return T=+T,S=S>>>0,P||vt(this,T,S,4,4294967295,0),this[S+3]=T>>>24,this[S+2]=T>>>16,this[S+1]=T>>>8,this[S]=T&255,S+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(T,S,P){return T=+T,S=S>>>0,P||vt(this,T,S,4,4294967295,0),this[S]=T>>>24,this[S+1]=T>>>16,this[S+2]=T>>>8,this[S+3]=T&255,S+4};function wt(L,T,S,P,Y){$r(T,P,Y,L,S,7);let lt=Number(T&BigInt(4294967295));L[S++]=lt,lt=lt>>8,L[S++]=lt,lt=lt>>8,L[S++]=lt,lt=lt>>8,L[S++]=lt;let mt=Number(T>>BigInt(32)&BigInt(4294967295));return L[S++]=mt,mt=mt>>8,L[S++]=mt,mt=mt>>8,L[S++]=mt,mt=mt>>8,L[S++]=mt,S}function Mt(L,T,S,P,Y){$r(T,P,Y,L,S,7);let lt=Number(T&BigInt(4294967295));L[S+7]=lt,lt=lt>>8,L[S+6]=lt,lt=lt>>8,L[S+5]=lt,lt=lt>>8,L[S+4]=lt;let mt=Number(T>>BigInt(32)&BigInt(4294967295));return L[S+3]=mt,mt=mt>>8,L[S+2]=mt,mt=mt>>8,L[S+1]=mt,mt=mt>>8,L[S]=mt,S+8}u.prototype.writeBigUInt64LE=Cn(function(T,S=0){return wt(this,T,S,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Cn(function(T,S=0){return Mt(this,T,S,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(T,S,P,Y){if(T=+T,S=S>>>0,!Y){const Qt=Math.pow(2,8*P-1);vt(this,T,S,P,Qt-1,-Qt)}let lt=0,mt=1,Nt=0;for(this[S]=T&255;++lt<P&&(mt*=256);)T<0&&Nt===0&&this[S+lt-1]!==0&&(Nt=1),this[S+lt]=(T/mt>>0)-Nt&255;return S+P},u.prototype.writeIntBE=function(T,S,P,Y){if(T=+T,S=S>>>0,!Y){const Qt=Math.pow(2,8*P-1);vt(this,T,S,P,Qt-1,-Qt)}let lt=P-1,mt=1,Nt=0;for(this[S+lt]=T&255;--lt>=0&&(mt*=256);)T<0&&Nt===0&&this[S+lt+1]!==0&&(Nt=1),this[S+lt]=(T/mt>>0)-Nt&255;return S+P},u.prototype.writeInt8=function(T,S,P){return T=+T,S=S>>>0,P||vt(this,T,S,1,127,-128),T<0&&(T=255+T+1),this[S]=T&255,S+1},u.prototype.writeInt16LE=function(T,S,P){return T=+T,S=S>>>0,P||vt(this,T,S,2,32767,-32768),this[S]=T&255,this[S+1]=T>>>8,S+2},u.prototype.writeInt16BE=function(T,S,P){return T=+T,S=S>>>0,P||vt(this,T,S,2,32767,-32768),this[S]=T>>>8,this[S+1]=T&255,S+2},u.prototype.writeInt32LE=function(T,S,P){return T=+T,S=S>>>0,P||vt(this,T,S,4,2147483647,-2147483648),this[S]=T&255,this[S+1]=T>>>8,this[S+2]=T>>>16,this[S+3]=T>>>24,S+4},u.prototype.writeInt32BE=function(T,S,P){return T=+T,S=S>>>0,P||vt(this,T,S,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[S]=T>>>24,this[S+1]=T>>>16,this[S+2]=T>>>8,this[S+3]=T&255,S+4},u.prototype.writeBigInt64LE=Cn(function(T,S=0){return wt(this,T,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Cn(function(T,S=0){return Mt(this,T,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function It(L,T,S,P,Y,lt){if(S+P>L.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("Index out of range")}function Rt(L,T,S,P,Y){return T=+T,S=S>>>0,Y||It(L,T,S,4),n.write(L,T,S,P,23,4),S+4}u.prototype.writeFloatLE=function(T,S,P){return Rt(this,T,S,!0,P)},u.prototype.writeFloatBE=function(T,S,P){return Rt(this,T,S,!1,P)};function Ye(L,T,S,P,Y){return T=+T,S=S>>>0,Y||It(L,T,S,8),n.write(L,T,S,P,52,8),S+8}u.prototype.writeDoubleLE=function(T,S,P){return Ye(this,T,S,!0,P)},u.prototype.writeDoubleBE=function(T,S,P){return Ye(this,T,S,!1,P)},u.prototype.copy=function(T,S,P,Y){if(!u.isBuffer(T))throw new TypeError("argument should be a Buffer");if(P||(P=0),!Y&&Y!==0&&(Y=this.length),S>=T.length&&(S=T.length),S||(S=0),Y>0&&Y<P&&(Y=P),Y===P||T.length===0||this.length===0)return 0;if(S<0)throw new RangeError("targetStart out of bounds");if(P<0||P>=this.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("sourceEnd out of bounds");Y>this.length&&(Y=this.length),T.length-S<Y-P&&(Y=T.length-S+P);const lt=Y-P;return this===T&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(S,P,Y):Uint8Array.prototype.set.call(T,this.subarray(P,Y),S),lt},u.prototype.fill=function(T,S,P,Y){if(typeof T=="string"){if(typeof S=="string"?(Y=S,S=0,P=this.length):typeof P=="string"&&(Y=P,P=this.length),Y!==void 0&&typeof Y!="string")throw new TypeError("encoding must be a string");if(typeof Y=="string"&&!u.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);if(T.length===1){const mt=T.charCodeAt(0);(Y==="utf8"&&mt<128||Y==="latin1")&&(T=mt)}}else typeof T=="number"?T=T&255:typeof T=="boolean"&&(T=Number(T));if(S<0||this.length<S||this.length<P)throw new RangeError("Out of range index");if(P<=S)return this;S=S>>>0,P=P===void 0?this.length:P>>>0,T||(T=0);let lt;if(typeof T=="number")for(lt=S;lt<P;++lt)this[lt]=T;else{const mt=u.isBuffer(T)?T:u.from(T,Y),Nt=mt.length;if(Nt===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(lt=0;lt<P-S;++lt)this[lt+S]=mt[lt%Nt]}return this};const Xt={};function Bn(L,T,S){Xt[L]=class extends S{constructor(){super(),Object.defineProperty(this,"message",{value:T.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${L}]`,this.stack,delete this.name}get code(){return L}set code(Y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Y,writable:!0})}toString(){return`${this.name} [${L}]: ${this.message}`}}}Bn("ERR_BUFFER_OUT_OF_BOUNDS",function(L){return L?`${L} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Bn("ERR_INVALID_ARG_TYPE",function(L,T){return`The "${L}" argument must be of type number. Received type ${typeof T}`},TypeError),Bn("ERR_OUT_OF_RANGE",function(L,T,S){let P=`The value of "${L}" is out of range.`,Y=S;return Number.isInteger(S)&&Math.abs(S)>2**32?Y=Ds(String(S)):typeof S=="bigint"&&(Y=String(S),(S>BigInt(2)**BigInt(32)||S<-(BigInt(2)**BigInt(32)))&&(Y=Ds(Y)),Y+="n"),P+=` It must be ${T}. Received ${Y}`,P},RangeError);function Ds(L){let T="",S=L.length;const P=L[0]==="-"?1:0;for(;S>=P+4;S-=3)T=`_${L.slice(S-3,S)}${T}`;return`${L.slice(0,S)}${T}`}function Vr(L,T,S){bi(T,"offset"),(L[T]===void 0||L[T+S]===void 0)&&qi(T,L.length-(S+1))}function $r(L,T,S,P,Y,lt){if(L>S||L<T){const mt=typeof T=="bigint"?"n":"";let Nt;throw T===0||T===BigInt(0)?Nt=`>= 0${mt} and < 2${mt} ** ${(lt+1)*8}${mt}`:Nt=`>= -(2${mt} ** ${(lt+1)*8-1}${mt}) and < 2 ** ${(lt+1)*8-1}${mt}`,new Xt.ERR_OUT_OF_RANGE("value",Nt,L)}Vr(P,Y,lt)}function bi(L,T){if(typeof L!="number")throw new Xt.ERR_INVALID_ARG_TYPE(T,"number",L)}function qi(L,T,S){throw Math.floor(L)!==L?(bi(L,S),new Xt.ERR_OUT_OF_RANGE("offset","an integer",L)):T<0?new Xt.ERR_BUFFER_OUT_OF_BOUNDS:new Xt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${T}`,L)}const Sc=/[^+/0-9A-Za-z-_]/g;function Ac(L){if(L=L.split("=")[0],L=L.trim().replace(Sc,""),L.length<2)return"";for(;L.length%4!==0;)L=L+"=";return L}function pn(L,T){T=T||1/0;let S;const P=L.length;let Y=null;const lt=[];for(let mt=0;mt<P;++mt){if(S=L.charCodeAt(mt),S>55295&&S<57344){if(!Y){if(S>56319){(T-=3)>-1&&lt.push(239,191,189);continue}else if(mt+1===P){(T-=3)>-1&&lt.push(239,191,189);continue}Y=S;continue}if(S<56320){(T-=3)>-1&&lt.push(239,191,189),Y=S;continue}S=(Y-55296<<10|S-56320)+65536}else Y&&(T-=3)>-1&&lt.push(239,191,189);if(Y=null,S<128){if((T-=1)<0)break;lt.push(S)}else if(S<2048){if((T-=2)<0)break;lt.push(S>>6|192,S&63|128)}else if(S<65536){if((T-=3)<0)break;lt.push(S>>12|224,S>>6&63|128,S&63|128)}else if(S<1114112){if((T-=4)<0)break;lt.push(S>>18|240,S>>12&63|128,S>>6&63|128,S&63|128)}else throw new Error("Invalid code point")}return lt}function Cc(L){const T=[];for(let S=0;S<L.length;++S)T.push(L.charCodeAt(S)&255);return T}function $o(L,T){let S,P,Y;const lt=[];for(let mt=0;mt<L.length&&!((T-=2)<0);++mt)S=L.charCodeAt(mt),P=S>>8,Y=S%256,lt.push(Y),lt.push(P);return lt}function ei(L){return t.toByteArray(Ac(L))}function An(L,T,S,P){let Y;for(Y=0;Y<P&&!(Y+S>=T.length||Y>=L.length);++Y)T[Y+S]=L[Y];return Y}function Fn(L,T){return L instanceof T||L!=null&&L.constructor!=null&&L.constructor.name!=null&&L.constructor.name===T.name}function Ls(L){return L!==L}const Ho=function(){const L="0123456789abcdef",T=new Array(256);for(let S=0;S<16;++S){const P=S*16;for(let Y=0;Y<16;++Y)T[P+Y]=L[S]+L[Y]}return T}();function Cn(L){return typeof BigInt>"u"?Hr:L}function Hr(){throw new Error("BigInt not supported")}}(By)),By}var P6=k6(),B6=Object.create,Z1=Object.defineProperty,F6=Object.getOwnPropertyDescriptor,j6=Object.getOwnPropertyNames,V6=Object.getPrototypeOf,$6=Object.prototype.hasOwnProperty,H6=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),dc=(e,t)=>{for(var n in t)Z1(e,n,{get:t[n],enumerable:!0})},I6=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of j6(t))!$6.call(e,r)&&r!==n&&Z1(e,r,{get:()=>t[r],enumerable:!(i=F6(t,r))||i.enumerable});return e},q6=(e,t,n)=>(n=e!=null?B6(V6(e)):{},I6(!e||!e.__esModule?Z1(n,"default",{value:e,enumerable:!0}):n,e)),G6=H6((e,t)=>{(function(n,i){typeof define=="function"&&define.amd?define([],i):typeof e=="object"?t.exports=i():n.YUVCanvas=i()})(e,function(){function n(i){i=i||{},this.canvasElement=i.canvas||document.createElement("canvas"),this.contextOptions=i.contextOptions,this.type=i.type||"yuv420",this.customYUV444=i.customYUV444,this.conversionType=i.conversionType||"rec601",this.width=i.width||640,this.height=i.height||320,this.animationTime=i.animationTime||0,this.canvasElement.width=this.width,this.canvasElement.height=this.height,this.fakeAlphaEnabled=i.fakeAlphaEnabled===!0?1:0,this.initContextGL(),this.contextGL&&(this.initProgram(),this.initBuffers(),this.initTextures()),this.type==="yuv420"?this.drawNextOuptutPictureGL=function(r){var a=this.contextGL,l=this.texturePosBuffer,u=this.uTexturePosBuffer,h=this.vTexturePosBuffer,f=this.yTextureRef,d=this.uTextureRef,p=this.vTextureRef,y=r.yData,_=r.uData,v=r.vData,w=this.width,E=this.height,M=r.yDataPerRow||w,R=r.yRowCnt||E,z=r.uDataPerRow||w/2,D=r.uRowCnt||E/2,C=r.vDataPerRow||z,N=r.vRowCnt||D;a.viewport(0,0,this.viewportWidth||w,this.viewportHeight||E);var k=0,$=0,q=E/R,X=w/M,tt=new Float32Array([X,k,$,k,X,q,$,q]);a.bindBuffer(a.ARRAY_BUFFER,l),a.bufferData(a.ARRAY_BUFFER,tt,a.DYNAMIC_DRAW),this.customYUV444?(q=E/D,X=w/z):(q=E/2/D,X=w/2/z);var at=new Float32Array([X,k,$,k,X,q,$,q]);a.bindBuffer(a.ARRAY_BUFFER,u),a.bufferData(a.ARRAY_BUFFER,at,a.DYNAMIC_DRAW),this.customYUV444?(q=E/N,X=w/C):(q=E/2/N,X=w/2/C);var J=new Float32Array([X,k,$,k,X,q,$,q]);a.bindBuffer(a.ARRAY_BUFFER,h),a.bufferData(a.ARRAY_BUFFER,J,a.DYNAMIC_DRAW),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,f),a.texImage2D(a.TEXTURE_2D,0,a.LUMINANCE,M,R,0,a.LUMINANCE,a.UNSIGNED_BYTE,y),a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,d),a.texImage2D(a.TEXTURE_2D,0,a.LUMINANCE,z,D,0,a.LUMINANCE,a.UNSIGNED_BYTE,_),a.activeTexture(a.TEXTURE2),a.bindTexture(a.TEXTURE_2D,p),a.texImage2D(a.TEXTURE_2D,0,a.LUMINANCE,C,N,0,a.LUMINANCE,a.UNSIGNED_BYTE,v),a.drawArrays(a.TRIANGLE_STRIP,0,4)}:this.type==="yuv422"&&(this.drawNextOuptutPictureGL=function(r){var a=this.contextGL,l=this.texturePosBuffer,u=this.textureRef,h=r.data,f=this.width,d=this.height,p=r.dataPerRow||f*2,y=r.rowCnt||d;a.viewport(0,0,f,d);var _=0,v=0,w=d/y,E=f/(p/2),M=new Float32Array([E,_,v,_,E,w,v,w]);a.bindBuffer(a.ARRAY_BUFFER,l),a.bufferData(a.ARRAY_BUFFER,M,a.DYNAMIC_DRAW),a.uniform2f(a.getUniformLocation(this.shaderProgram,"resolution"),p,d),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,u),a.texImage2D(a.TEXTURE_2D,0,a.LUMINANCE,p,y,0,a.LUMINANCE,a.UNSIGNED_BYTE,h),a.drawArrays(a.TRIANGLE_STRIP,0,4)})}return n.prototype.isWebGL=function(){return this.contextGL},n.prototype.initContextGL=function(){for(var i=this.canvasElement,r=null,a=["webgl","experimental-webgl","moz-webgl","webkit-3d"],l=0;!r&&l<a.length;){var u=a[l];try{this.contextOptions?r=i.getContext(u,this.contextOptions):r=i.getContext(u)}catch{r=null}(!r||typeof r.getParameter!="function")&&(r=null),++l}this.contextGL=r},n.prototype.initProgram=function(){var i=this.contextGL,r,a;this.type==="yuv420"?(r=["attribute vec4 vertexPos;","attribute vec4 texturePos;","attribute vec4 uTexturePos;","attribute vec4 vTexturePos;","varying vec2 textureCoord;","varying vec2 uTextureCoord;","varying vec2 vTextureCoord;","void main()","{","  gl_Position = vertexPos;","  textureCoord = texturePos.xy;","  uTextureCoord = uTexturePos.xy;","  vTextureCoord = vTexturePos.xy;","}"].join(`
`),a=["precision highp float;","varying highp vec2 textureCoord;","varying highp vec2 uTextureCoord;","varying highp vec2 vTextureCoord;","uniform sampler2D ySampler;","uniform sampler2D uSampler;","uniform sampler2D vSampler;","uniform mat4 YUV2RGB;","uniform int fakeAlphaEnabled;","void main(void) {","  highp float y = texture2D(ySampler,  textureCoord).r;","  highp float u = texture2D(uSampler,  uTextureCoord).r;","  highp float v = texture2D(vSampler,  vTextureCoord).r;","  gl_FragColor = vec4(y, u, v, 1) * YUV2RGB;","  if(fakeAlphaEnabled == 1) {","     highp float maxIntensity = max(max(gl_FragColor.r, gl_FragColor.g), gl_FragColor.b);","     if(maxIntensity < 0.1) gl_FragColor.a = maxIntensity;","  }","}"].join(`
`)):this.type==="yuv422"&&(r=["attribute vec4 vertexPos;","attribute vec4 texturePos;","varying vec2 textureCoord;","void main()","{","  gl_Position = vertexPos;","  textureCoord = texturePos.xy;","}"].join(`
`),a=["precision highp float;","varying highp vec2 textureCoord;","uniform sampler2D sampler;","uniform highp vec2 resolution;","uniform mat4 YUV2RGB;","uniform int fakeAlphaEnabled;","void main(void) {","  highp float texPixX = 1.0 / resolution.x;","  highp float logPixX = 2.0 / resolution.x;","  highp float logHalfPixX = 4.0 / resolution.x;","  highp float steps = floor(textureCoord.x / logPixX);","  highp float uvSteps = floor(textureCoord.x / logHalfPixX);","  highp float y = texture2D(sampler, vec2((logPixX * steps) + texPixX, textureCoord.y)).r;","  highp float u = texture2D(sampler, vec2((logHalfPixX * uvSteps), textureCoord.y)).r;","  highp float v = texture2D(sampler, vec2((logHalfPixX * uvSteps) + texPixX + texPixX, textureCoord.y)).r;","  gl_FragColor = vec4(y, u, v, 1.0) * YUV2RGB;","  if(fakeAlphaEnabled == 1) {","     highp float maxIntensity = max(max(gl_FragColor.r, gl_FragColor.g), gl_FragColor.b);","     if(maxIntensity < 0.1) gl_FragColor.a = maxIntensity;","  }","}"].join(`
`));var l=[];this.conversionType=="rec709"?l=[1.16438,0,1.79274,-.97295,1.16438,-.21325,-.53291,.30148,1.16438,2.1124,0,-1.1334,0,0,0,1]:l=[1.16438,0,1.59603,-.87079,1.16438,-.39176,-.81297,.52959,1.16438,2.01723,0,-1.08139,0,0,0,1];var u=i.createShader(i.VERTEX_SHADER);i.shaderSource(u,r),i.compileShader(u),i.getShaderParameter(u,i.COMPILE_STATUS)||console.error("Vertex shader failed to compile: "+i.getShaderInfoLog(u));var h=i.createShader(i.FRAGMENT_SHADER);i.shaderSource(h,a),i.compileShader(h),i.getShaderParameter(h,i.COMPILE_STATUS)||console.error("Fragment shader failed to compile: "+i.getShaderInfoLog(h));var f=i.createProgram();i.attachShader(f,u),i.attachShader(f,h),i.linkProgram(f),i.getProgramParameter(f,i.LINK_STATUS)||console.error("Program failed to compile: "+i.getProgramInfoLog(f)),i.useProgram(f);var d=i.getUniformLocation(f,"YUV2RGB");i.uniformMatrix4fv(d,!1,l);var p=i.getUniformLocation(f,"fakeAlphaEnabled");i.uniform1i(p,this.fakeAlphaEnabled),this.shaderProgram=f},n.prototype.initBuffers=function(){var i=this.contextGL,r=this.shaderProgram,a=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,a),i.bufferData(i.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),i.STATIC_DRAW);var l=i.getAttribLocation(r,"vertexPos");if(i.enableVertexAttribArray(l),i.vertexAttribPointer(l,2,i.FLOAT,!1,0,0),this.animationTime){var u=this.animationTime,h=0,f=15,d=function(){h+=f;var M=1*h/u;h>=u?M=1:setTimeout(d,f);var R=-1*M,z=1*M,D=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,D),i.bufferData(i.ARRAY_BUFFER,new Float32Array([z,z,R,z,z,R,R,R]),i.STATIC_DRAW);var C=i.getAttribLocation(r,"vertexPos");i.enableVertexAttribArray(C),i.vertexAttribPointer(C,2,i.FLOAT,!1,0,0);try{i.drawArrays(i.TRIANGLE_STRIP,0,4)}catch{}};d()}var p=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,p),i.bufferData(i.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),i.STATIC_DRAW);var y=i.getAttribLocation(r,"texturePos");if(i.enableVertexAttribArray(y),i.vertexAttribPointer(y,2,i.FLOAT,!1,0,0),this.texturePosBuffer=p,this.type==="yuv420"){var _=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,_),i.bufferData(i.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),i.STATIC_DRAW);var v=i.getAttribLocation(r,"uTexturePos");i.enableVertexAttribArray(v),i.vertexAttribPointer(v,2,i.FLOAT,!1,0,0),this.uTexturePosBuffer=_;var w=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,w),i.bufferData(i.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),i.STATIC_DRAW);var E=i.getAttribLocation(r,"vTexturePos");i.enableVertexAttribArray(E),i.vertexAttribPointer(E,2,i.FLOAT,!1,0,0),this.vTexturePosBuffer=w}},n.prototype.initTextures=function(){var i=this.contextGL,r=this.shaderProgram;if(this.type==="yuv420"){var a=this.initTexture(),l=i.getUniformLocation(r,"ySampler");i.uniform1i(l,0),this.yTextureRef=a;var u=this.initTexture(),h=i.getUniformLocation(r,"uSampler");i.uniform1i(h,1),this.uTextureRef=u;var f=this.initTexture(),d=i.getUniformLocation(r,"vSampler");i.uniform1i(d,2),this.vTextureRef=f}else if(this.type==="yuv422"){var p=this.initTexture(),y=i.getUniformLocation(r,"sampler");i.uniform1i(y,0),this.textureRef=p}},n.prototype.initTexture=function(){var i=this.contextGL,r=i.createTexture();return i.bindTexture(i.TEXTURE_2D,r),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.bindTexture(i.TEXTURE_2D,null),r},n.prototype.drawNextOutputPicture=function(i,r,a,l){var u=this.contextGL;u?this.drawNextOuptutPictureGL(i,r,a,l):this.drawNextOuptutPictureRGBA(i,r,a,l)},n.prototype.drawNextOuptutPictureRGBA=function(i,r,h,l){var u=this.canvasElement,h=null,f=l,d=u.getContext("2d"),p=d.getImageData(0,0,i,r);p.data.set(f),h===null?d.putImageData(p,0,0):d.putImageData(p,-h.left,-h.top,0,0,h.width,h.height)},n})}),Y6=typeof process<"u"&&process.versions!=null&&process.versions.node!=null,En,Wl,Jl,uc,KA,QA,nT=(En=class{static get Core(){if(!x(En,Wl))throw new Error("Livelink core not initialized");return x(En,Wl)}static load(t="prod"){var n;return x(En,Jl)||ut(En,Jl,xt(n=En,uc,KA).call(n,t)),x(En,Jl)}constructor(){}},Wl=new WeakMap,Jl=new WeakMap,uc=new WeakSet,KA=async function(t){var a;let n=await xt(a=En,uc,QA).call(a,t),{LivelinkCore:i}=await n();ut(En,Wl,i);let r={prod:"#FFC700",dev:"#36D399",debug:"#FB4949"};console.info(`%c Livelink Core initialized 🚀 %c ${i.VERSION} %c ${i.COMMIT_SHA} %c${t}`,"background: #080A12; color: #FFC700; font-weight: bold; padding: 8px; padding-right: 164px; border-radius: 16px; margin: 16px 0 16px 0","background: #9EA6D6; color: #0A1018; font-weight: bold; padding: 1px; padding-right: 0px; margin-left: -160px; border-radius: 16px 0 0 16px;","background: #6973A8; color: #0A1018; font-weight: bold; padding: 1px; padding-left: 0; border-radius: 0 16px 16px 0;",`background: ${r[t]}; color: #000; font-weight: bold; padding: 6px 16px; border: 4px solid #080A12; border-radius: 16px; margin-left: 16px`)},QA=async function(t){let n="https://cdn.3dverse.com/livelink/core/1.0/"+(t!=="prod"?`core.${t}.mjs`:"core.mjs");if(!Y6)return new Function("return import('"+n+"')");let i=await(await fetch(n)).text(),r=await new Function("return import('node:vm')")();return r.SourceTextModule?(console.info("Using experimental VM SourceTextModule to load Livelink core"),async()=>{let a=new r.SourceTextModule(i,{identifier:n});return await a.link(()=>{}),await a.evaluate(),a.namespace}):new Function("return import('data:text/javascript;base64,"+btoa(i)+"')")},V(En,uc),V(En,Wl,null),V(En,Jl,null),En);typeof window<"u"&&(window.__LIVELINK__||(window.__LIVELINK__={}),Object.prototype.hasOwnProperty.call(window.__LIVELINK__,"@3dverse/livelink.core")?console.warn("⚠️ WARNING ⚠️ Multiple instances of Livelink Core being imported."):window.__LIVELINK__["@3dverse/livelink.core"]="1.1.4");function X6({raw_frame_meta_data:e,client_id:t,entity_registry:n,viewports:i}){let r={renderer_timestamp:e.renderer_timestamp,frame_counter:e.frame_counter,viewport_layout_camera_entities:[],other_clients_camera_entities:[]};for(let a of e.clients){let l=a.client_id===t;for(let u of a.viewports){let h=n.get({entity_rtid:u.camera_rtid});if(!h)continue;let f=i.find(d=>{var p;return((p=d.camera_projection)==null?void 0:p.camera_entity.rtid)===h.rtid});if(l){f&&r.viewport_layout_camera_entities.push({camera_entity:h,world_from_view_matrix:u.ws_from_ls,world_position:iT(u.ws_from_ls),world_orientation:rT(u.ws_from_ls),viewport:f});continue}f&&f.is_camera_controlled_by_current_client||r.other_clients_camera_entities.push({camera_entity:h,world_from_view_matrix:u.ws_from_ls,world_position:iT(u.ws_from_ls),world_orientation:rT(u.ws_from_ls)})}}return r}function iT(e){return[e[12],e[13],e[14]]}function rT(e){let t=[0,0,0,0],n=e[0],i=e[1],r=e[2],a=e[4],l=e[5],u=e[6],h=e[8],f=e[9],d=e[10],p=n+l+d;if(p>0){let y=.5/Math.sqrt(p+1);t[3]=.25/y,t[0]=(u-f)*y,t[1]=(h-r)*y,t[2]=(i-a)*y}else if(n>l&&n>d){let y=2*Math.sqrt(1+n-l-d);t[3]=(u-f)/y,t[0]=.25*y,t[1]=(i+a)/y,t[2]=(r+h)/y}else if(l>d){let y=2*Math.sqrt(1+l-n-d);t[3]=(h-r)/y,t[0]=(i+a)/y,t[1]=.25*y,t[2]=(u+f)/y}else{let y=2*Math.sqrt(1+d-n-l);t[3]=(i-a)/y,t[0]=(r+h)/y,t[1]=(u+f)/y,t[2]=.25*y}return t}var k0,WA,gA,K1=(gA=class{constructor({left:t=0,top:n=0,right:i,bottom:r,width:a,height:l}){V(this,k0);H(this,"left");H(this,"top");H(this,"right");H(this,"bottom");H(this,"width");H(this,"height");xt(this,k0,WA).call(this,{left:t,top:n,right:i,bottom:r,width:a,height:l})||console.error("Invalid rect",this),this.left=t,this.top=n,this.right=i!==void 0?i:t+a,this.bottom=r!==void 0?r:n+l,this.width=a!==void 0?a:i-t,this.height=l!==void 0?l:r-n}},k0=new WeakSet,WA=function({left:t=0,top:n=0,right:i,bottom:r,width:a,height:l}){return!(t<0||n<0||i!==void 0&&i<0||r!==void 0&&r<0||a!==void 0&&a<0||l!==void 0&&l<0||i===void 0&&a===void 0||r===void 0&&l===void 0||i!==void 0&&t>=i||r!==void 0&&n>=r||a!==void 0&&i!==void 0&&t+a!==i||l!==void 0&&r!==void 0&&n+l!==r)},gA),JA=class extends Error{constructor(n){super(`Element has an invalid size : [${n.width} x ${n.height}]`);H(this,"rect");this.rect=n}},t4=class extends Error{constructor(n,i){super("Element MUST be contained into its parent bounds.");H(this,"rect");H(this,"parentRect");this.rect=n,this.parentRect=i}},Ra,P0,e4,Ts=(Ra=class extends K1{constructor({left:n=0,top:i=0,right:r,bottom:a,width:l=1,height:u=1}){super({left:n,top:i,right:r,bottom:a,width:l,height:u});V(this,P0);xt(this,P0,e4).call(this)||console.error("Relative rect values must fall in [0,1] range",this)}static from_dom_elements({element:n,parent:i}){let r=n.getBoundingClientRect(),a=i.getBoundingClientRect();if(!r.width||!r.height)throw new JA(r);let l={left:r.left-a.left,top:r.top-a.top};if(l.left<0||l.top<0||l.left+r.width>a.left+a.width||l.top+r.height>a.top+a.height)throw new t4(r,a);let u=6;return new Ra({left:parseFloat((l.left/a.width).toPrecision(u)),top:parseFloat((l.top/a.height).toPrecision(u)),width:parseFloat((r.width/a.width).toPrecision(u)),height:parseFloat((r.height/a.height).toPrecision(u))})}},P0=new WeakSet,e4=function(){return this.left<1&&this.top<1&&this.right<=1&&this.bottom<=1&&this.width<=1&&this.height<=1},H(Ra,"default",Object.freeze(new Ra({left:0,top:0,width:1,height:1}))),Ra),yo,zn,_i,tu,eu,We,kg,n4,Pg,i4,ds,hf,Bg,r4,s4,vA,Z6=(vA=class{constructor(t){V(this,We);V(this,yo);V(this,zn,[]);V(this,_i,[0,0]);V(this,tu,[32,32]);V(this,eu,!0);V(this,ds,()=>{xt(this,We,Bg).call(this),x(this,yo).isConfigured()&&xt(this,We,n4).call(this)&&(x(this,eu)&&(x(this,_i),x(this,yo)._resize({size:x(this,_i)}),ut(this,eu,!1)),x(this,We,kg),x(this,yo)._setViewports({viewport_configs:x(this,We,kg)}))});V(this,hf,(t,n)=>Math.floor(t)+(Math.floor(t)%n===0?0:n-Math.floor(t)%n));ut(this,yo,t)}get dimensions(){return x(this,_i)}get width(){return x(this,_i)[0]}get height(){return x(this,_i)[1]}get viewports(){let t=[];for(let n of x(this,zn))t.push(...n.viewports);return t}init(){x(this,ds).call(this)}release(){for(let t of x(this,zn))t.release()}consumeDecodedFrame({decoded_frame:t}){for(let n of x(this,zn))n.drawFrame({decoded_frame:t})}addViewport({viewport:t}){xt(this,We,Pg).call(this,{viewport:t}),x(this,ds).call(this)}addViewports({viewports:t}){for(let n of t)xt(this,We,Pg).call(this,{viewport:n});x(this,ds).call(this)}removeViewport({viewport:t}){let n=x(this,zn).indexOf(t.rendering_surface);if(n===-1)throw new Error("Viewport without registered surface");let i=x(this,zn)[n];i.removeViewport({viewport:t}),t.release(),i.viewports.length===0&&(i.removeEventListener("on-rendering-surface-resized",x(this,ds)),i.release(),x(this,zn).splice(n,1)),x(this,ds).call(this)}_computeRemoteCanvasSize({codec:t}){return t==="h265"&&(ut(this,tu,[64,64]),xt(this,We,Bg).call(this)),x(this,_i)}},yo=new WeakMap,zn=new WeakMap,_i=new WeakMap,tu=new WeakMap,eu=new WeakMap,We=new WeakSet,kg=function(){let t=[];for(let n of x(this,zn))t.push(...n._getViewportConfigs({width:this.width,height:this.height}));return t.sort((n,i)=>n.z_index-i.z_index)},n4=function(){return x(this,zn).every(t=>t.isValid())},Pg=function({viewport:t}){t.rendering_surface.addViewport({viewport:t}),!x(this,zn).includes(t.rendering_surface)&&xt(this,We,i4).call(this,{surface:t.rendering_surface})},i4=function({surface:t}){t.addEventListener("on-rendering-surface-resized",x(this,ds)),x(this,zn).push(t)},ds=new WeakMap,hf=new WeakMap,Bg=function(){let{offset:t,width:n,height:i}=xt(this,We,r4).call(this),r=[x(this,hf).call(this,n,x(this,tu)[0]),x(this,hf).call(this,i,x(this,tu)[1])];x(this,eu)||ut(this,eu,r[0]!=x(this,_i)[0]||r[1]!=this.dimensions[1]),ut(this,_i,r),xt(this,We,s4).call(this,{offset:t,width:x(this,_i)[0],height:x(this,_i)[1]})},r4=function(){let t=[Number.MAX_VALUE,Number.MAX_VALUE],n=[0,0];for(let a of x(this,zn)){let l=a.getBoundingRect();t[0]=Math.min(t[0],l.left),t[1]=Math.min(t[1],l.top),n[0]=Math.max(n[0],l.right),n[1]=Math.max(n[1],l.bottom)}let i=n[0]-t[0],r=n[1]-t[1];return{offset:t,width:i,height:r}},s4=function({offset:t,width:n,height:i}){for(let r of x(this,zn)){let a=r.getBoundingRect();r.relative_rect=new Ts({left:(a.left-t[0])/n,top:(a.top-t[1])/i,width:(a.right-a.left)/n,height:(a.bottom-a.top)/i})}},vA),a4={};dc(a4,{ARRAY_TYPE:()=>De,EPSILON:()=>Bt,RANDOM:()=>Gl,equals:()=>J6,setMatrixArrayType:()=>K6,toRadian:()=>W6});var Bt=1e-6,De=typeof Float32Array<"u"?Float32Array:Array,Gl=Math.random;function K6(e){De=e}var Q6=Math.PI/180;function W6(e){return e*Q6}function J6(e,t){return Math.abs(e-t)<=Bt*Math.max(1,Math.abs(e),Math.abs(t))}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var Fg={};dc(Fg,{add:()=>wD,adjoint:()=>lD,clone:()=>eD,copy:()=>nD,create:()=>o4,determinant:()=>uD,equals:()=>SD,exactEquals:()=>MD,frob:()=>bD,fromMat2d:()=>_D,fromMat4:()=>tD,fromQuat:()=>yD,fromRotation:()=>mD,fromScaling:()=>pD,fromTranslation:()=>dD,fromValues:()=>iD,identity:()=>sD,invert:()=>oD,mul:()=>AD,multiply:()=>l4,multiplyScalar:()=>ED,multiplyScalarAndAdd:()=>TD,normalFromMat4:()=>gD,projection:()=>vD,rotate:()=>hD,scale:()=>fD,set:()=>rD,str:()=>xD,sub:()=>CD,subtract:()=>u4,translate:()=>cD,transpose:()=>aD});function o4(){var e=new De(9);return De!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function tD(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function eD(e){var t=new De(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function nD(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function iD(e,t,n,i,r,a,l,u,h){var f=new De(9);return f[0]=e,f[1]=t,f[2]=n,f[3]=i,f[4]=r,f[5]=a,f[6]=l,f[7]=u,f[8]=h,f}function rD(e,t,n,i,r,a,l,u,h,f){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e[4]=a,e[5]=l,e[6]=u,e[7]=h,e[8]=f,e}function sD(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function aD(e,t){if(e===t){var n=t[1],i=t[2],r=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=i,e[7]=r}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function oD(e,t){var n=t[0],i=t[1],r=t[2],a=t[3],l=t[4],u=t[5],h=t[6],f=t[7],d=t[8],p=d*l-u*f,y=-d*a+u*h,_=f*a-l*h,v=n*p+i*y+r*_;return v?(v=1/v,e[0]=p*v,e[1]=(-d*i+r*f)*v,e[2]=(u*i-r*l)*v,e[3]=y*v,e[4]=(d*n-r*h)*v,e[5]=(-u*n+r*a)*v,e[6]=_*v,e[7]=(-f*n+i*h)*v,e[8]=(l*n-i*a)*v,e):null}function lD(e,t){var n=t[0],i=t[1],r=t[2],a=t[3],l=t[4],u=t[5],h=t[6],f=t[7],d=t[8];return e[0]=l*d-u*f,e[1]=r*f-i*d,e[2]=i*u-r*l,e[3]=u*h-a*d,e[4]=n*d-r*h,e[5]=r*a-n*u,e[6]=a*f-l*h,e[7]=i*h-n*f,e[8]=n*l-i*a,e}function uD(e){var t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],l=e[5],u=e[6],h=e[7],f=e[8];return t*(f*a-l*h)+n*(-f*r+l*u)+i*(h*r-a*u)}function l4(e,t,n){var i=t[0],r=t[1],a=t[2],l=t[3],u=t[4],h=t[5],f=t[6],d=t[7],p=t[8],y=n[0],_=n[1],v=n[2],w=n[3],E=n[4],M=n[5],R=n[6],z=n[7],D=n[8];return e[0]=y*i+_*l+v*f,e[1]=y*r+_*u+v*d,e[2]=y*a+_*h+v*p,e[3]=w*i+E*l+M*f,e[4]=w*r+E*u+M*d,e[5]=w*a+E*h+M*p,e[6]=R*i+z*l+D*f,e[7]=R*r+z*u+D*d,e[8]=R*a+z*h+D*p,e}function cD(e,t,n){var i=t[0],r=t[1],a=t[2],l=t[3],u=t[4],h=t[5],f=t[6],d=t[7],p=t[8],y=n[0],_=n[1];return e[0]=i,e[1]=r,e[2]=a,e[3]=l,e[4]=u,e[5]=h,e[6]=y*i+_*l+f,e[7]=y*r+_*u+d,e[8]=y*a+_*h+p,e}function hD(e,t,n){var i=t[0],r=t[1],a=t[2],l=t[3],u=t[4],h=t[5],f=t[6],d=t[7],p=t[8],y=Math.sin(n),_=Math.cos(n);return e[0]=_*i+y*l,e[1]=_*r+y*u,e[2]=_*a+y*h,e[3]=_*l-y*i,e[4]=_*u-y*r,e[5]=_*h-y*a,e[6]=f,e[7]=d,e[8]=p,e}function fD(e,t,n){var i=n[0],r=n[1];return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=r*t[3],e[4]=r*t[4],e[5]=r*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function dD(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function mD(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=n,e[2]=0,e[3]=-n,e[4]=i,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function pD(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function _D(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function yD(e,t){var n=t[0],i=t[1],r=t[2],a=t[3],l=n+n,u=i+i,h=r+r,f=n*l,d=i*l,p=i*u,y=r*l,_=r*u,v=r*h,w=a*l,E=a*u,M=a*h;return e[0]=1-p-v,e[3]=d-M,e[6]=y+E,e[1]=d+M,e[4]=1-f-v,e[7]=_-w,e[2]=y-E,e[5]=_+w,e[8]=1-f-p,e}function gD(e,t){var n=t[0],i=t[1],r=t[2],a=t[3],l=t[4],u=t[5],h=t[6],f=t[7],d=t[8],p=t[9],y=t[10],_=t[11],v=t[12],w=t[13],E=t[14],M=t[15],R=n*u-i*l,z=n*h-r*l,D=n*f-a*l,C=i*h-r*u,N=i*f-a*u,k=r*f-a*h,$=d*w-p*v,q=d*E-y*v,X=d*M-_*v,tt=p*E-y*w,at=p*M-_*w,J=y*M-_*E,et=R*J-z*at+D*tt+C*X-N*q+k*$;return et?(et=1/et,e[0]=(u*J-h*at+f*tt)*et,e[1]=(h*X-l*J-f*q)*et,e[2]=(l*at-u*X+f*$)*et,e[3]=(r*at-i*J-a*tt)*et,e[4]=(n*J-r*X+a*q)*et,e[5]=(i*X-n*at-a*$)*et,e[6]=(w*k-E*N+M*C)*et,e[7]=(E*D-v*k-M*z)*et,e[8]=(v*N-w*D+M*R)*et,e):null}function vD(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function xD(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function bD(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function wD(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function u4(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function ED(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function TD(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e[3]=t[3]+n[3]*i,e[4]=t[4]+n[4]*i,e[5]=t[5]+n[5]*i,e[6]=t[6]+n[6]*i,e[7]=t[7]+n[7]*i,e[8]=t[8]+n[8]*i,e}function MD(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function SD(e,t){var n=e[0],i=e[1],r=e[2],a=e[3],l=e[4],u=e[5],h=e[6],f=e[7],d=e[8],p=t[0],y=t[1],_=t[2],v=t[3],w=t[4],E=t[5],M=t[6],R=t[7],z=t[8];return Math.abs(n-p)<=Bt*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(i-y)<=Bt*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(r-_)<=Bt*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(a-v)<=Bt*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(l-w)<=Bt*Math.max(1,Math.abs(l),Math.abs(w))&&Math.abs(u-E)<=Bt*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(h-M)<=Bt*Math.max(1,Math.abs(h),Math.abs(M))&&Math.abs(f-R)<=Bt*Math.max(1,Math.abs(f),Math.abs(R))&&Math.abs(d-z)<=Bt*Math.max(1,Math.abs(d),Math.abs(z))}var AD=l4,CD=u4,cn={};dc(cn,{add:()=>f2,adjoint:()=>kD,clone:()=>OD,copy:()=>zD,create:()=>RD,determinant:()=>PD,equals:()=>_2,exactEquals:()=>p2,frob:()=>h2,fromQuat:()=>e2,fromQuat2:()=>KD,fromRotation:()=>GD,fromRotationTranslation:()=>f4,fromRotationTranslationScale:()=>JD,fromRotationTranslationScaleOrigin:()=>t2,fromScaling:()=>qD,fromTranslation:()=>ID,fromValues:()=>DD,fromXRotation:()=>YD,fromYRotation:()=>XD,fromZRotation:()=>ZD,frustum:()=>n2,getRotation:()=>WD,getScaling:()=>d4,getTranslation:()=>QD,identity:()=>c4,invert:()=>ND,lookAt:()=>l2,mul:()=>y2,multiply:()=>h4,multiplyScalar:()=>d2,multiplyScalarAndAdd:()=>m2,ortho:()=>a2,orthoNO:()=>p4,orthoZO:()=>o2,perspective:()=>i2,perspectiveFromFieldOfView:()=>s2,perspectiveNO:()=>m4,perspectiveZO:()=>r2,rotate:()=>jD,rotateX:()=>VD,rotateY:()=>$D,rotateZ:()=>HD,scale:()=>FD,set:()=>LD,str:()=>c2,sub:()=>g2,subtract:()=>_4,targetTo:()=>u2,translate:()=>BD,transpose:()=>UD});function RD(){var e=new De(16);return De!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function OD(e){var t=new De(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function zD(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function DD(e,t,n,i,r,a,l,u,h,f,d,p,y,_,v,w){var E=new De(16);return E[0]=e,E[1]=t,E[2]=n,E[3]=i,E[4]=r,E[5]=a,E[6]=l,E[7]=u,E[8]=h,E[9]=f,E[10]=d,E[11]=p,E[12]=y,E[13]=_,E[14]=v,E[15]=w,E}function LD(e,t,n,i,r,a,l,u,h,f,d,p,y,_,v,w,E){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e[4]=a,e[5]=l,e[6]=u,e[7]=h,e[8]=f,e[9]=d,e[10]=p,e[11]=y,e[12]=_,e[13]=v,e[14]=w,e[15]=E,e}function c4(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function UD(e,t){if(e===t){var n=t[1],i=t[2],r=t[3],a=t[6],l=t[7],u=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=i,e[9]=a,e[11]=t[14],e[12]=r,e[13]=l,e[14]=u}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function ND(e,t){var n=t[0],i=t[1],r=t[2],a=t[3],l=t[4],u=t[5],h=t[6],f=t[7],d=t[8],p=t[9],y=t[10],_=t[11],v=t[12],w=t[13],E=t[14],M=t[15],R=n*u-i*l,z=n*h-r*l,D=n*f-a*l,C=i*h-r*u,N=i*f-a*u,k=r*f-a*h,$=d*w-p*v,q=d*E-y*v,X=d*M-_*v,tt=p*E-y*w,at=p*M-_*w,J=y*M-_*E,et=R*J-z*at+D*tt+C*X-N*q+k*$;return et?(et=1/et,e[0]=(u*J-h*at+f*tt)*et,e[1]=(r*at-i*J-a*tt)*et,e[2]=(w*k-E*N+M*C)*et,e[3]=(y*N-p*k-_*C)*et,e[4]=(h*X-l*J-f*q)*et,e[5]=(n*J-r*X+a*q)*et,e[6]=(E*D-v*k-M*z)*et,e[7]=(d*k-y*D+_*z)*et,e[8]=(l*at-u*X+f*$)*et,e[9]=(i*X-n*at-a*$)*et,e[10]=(v*N-w*D+M*R)*et,e[11]=(p*D-d*N-_*R)*et,e[12]=(u*q-l*tt-h*$)*et,e[13]=(n*tt-i*q+r*$)*et,e[14]=(w*z-v*C-E*R)*et,e[15]=(d*C-p*z+y*R)*et,e):null}function kD(e,t){var n=t[0],i=t[1],r=t[2],a=t[3],l=t[4],u=t[5],h=t[6],f=t[7],d=t[8],p=t[9],y=t[10],_=t[11],v=t[12],w=t[13],E=t[14],M=t[15];return e[0]=u*(y*M-_*E)-p*(h*M-f*E)+w*(h*_-f*y),e[1]=-(i*(y*M-_*E)-p*(r*M-a*E)+w*(r*_-a*y)),e[2]=i*(h*M-f*E)-u*(r*M-a*E)+w*(r*f-a*h),e[3]=-(i*(h*_-f*y)-u*(r*_-a*y)+p*(r*f-a*h)),e[4]=-(l*(y*M-_*E)-d*(h*M-f*E)+v*(h*_-f*y)),e[5]=n*(y*M-_*E)-d*(r*M-a*E)+v*(r*_-a*y),e[6]=-(n*(h*M-f*E)-l*(r*M-a*E)+v*(r*f-a*h)),e[7]=n*(h*_-f*y)-l*(r*_-a*y)+d*(r*f-a*h),e[8]=l*(p*M-_*w)-d*(u*M-f*w)+v*(u*_-f*p),e[9]=-(n*(p*M-_*w)-d*(i*M-a*w)+v*(i*_-a*p)),e[10]=n*(u*M-f*w)-l*(i*M-a*w)+v*(i*f-a*u),e[11]=-(n*(u*_-f*p)-l*(i*_-a*p)+d*(i*f-a*u)),e[12]=-(l*(p*E-y*w)-d*(u*E-h*w)+v*(u*y-h*p)),e[13]=n*(p*E-y*w)-d*(i*E-r*w)+v*(i*y-r*p),e[14]=-(n*(u*E-h*w)-l*(i*E-r*w)+v*(i*h-r*u)),e[15]=n*(u*y-h*p)-l*(i*y-r*p)+d*(i*h-r*u),e}function PD(e){var t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],l=e[5],u=e[6],h=e[7],f=e[8],d=e[9],p=e[10],y=e[11],_=e[12],v=e[13],w=e[14],E=e[15],M=t*l-n*a,R=t*u-i*a,z=t*h-r*a,D=n*u-i*l,C=n*h-r*l,N=i*h-r*u,k=f*v-d*_,$=f*w-p*_,q=f*E-y*_,X=d*w-p*v,tt=d*E-y*v,at=p*E-y*w;return M*at-R*tt+z*X+D*q-C*$+N*k}function h4(e,t,n){var i=t[0],r=t[1],a=t[2],l=t[3],u=t[4],h=t[5],f=t[6],d=t[7],p=t[8],y=t[9],_=t[10],v=t[11],w=t[12],E=t[13],M=t[14],R=t[15],z=n[0],D=n[1],C=n[2],N=n[3];return e[0]=z*i+D*u+C*p+N*w,e[1]=z*r+D*h+C*y+N*E,e[2]=z*a+D*f+C*_+N*M,e[3]=z*l+D*d+C*v+N*R,z=n[4],D=n[5],C=n[6],N=n[7],e[4]=z*i+D*u+C*p+N*w,e[5]=z*r+D*h+C*y+N*E,e[6]=z*a+D*f+C*_+N*M,e[7]=z*l+D*d+C*v+N*R,z=n[8],D=n[9],C=n[10],N=n[11],e[8]=z*i+D*u+C*p+N*w,e[9]=z*r+D*h+C*y+N*E,e[10]=z*a+D*f+C*_+N*M,e[11]=z*l+D*d+C*v+N*R,z=n[12],D=n[13],C=n[14],N=n[15],e[12]=z*i+D*u+C*p+N*w,e[13]=z*r+D*h+C*y+N*E,e[14]=z*a+D*f+C*_+N*M,e[15]=z*l+D*d+C*v+N*R,e}function BD(e,t,n){var i=n[0],r=n[1],a=n[2],l,u,h,f,d,p,y,_,v,w,E,M;return t===e?(e[12]=t[0]*i+t[4]*r+t[8]*a+t[12],e[13]=t[1]*i+t[5]*r+t[9]*a+t[13],e[14]=t[2]*i+t[6]*r+t[10]*a+t[14],e[15]=t[3]*i+t[7]*r+t[11]*a+t[15]):(l=t[0],u=t[1],h=t[2],f=t[3],d=t[4],p=t[5],y=t[6],_=t[7],v=t[8],w=t[9],E=t[10],M=t[11],e[0]=l,e[1]=u,e[2]=h,e[3]=f,e[4]=d,e[5]=p,e[6]=y,e[7]=_,e[8]=v,e[9]=w,e[10]=E,e[11]=M,e[12]=l*i+d*r+v*a+t[12],e[13]=u*i+p*r+w*a+t[13],e[14]=h*i+y*r+E*a+t[14],e[15]=f*i+_*r+M*a+t[15]),e}function FD(e,t,n){var i=n[0],r=n[1],a=n[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function jD(e,t,n,i){var r=i[0],a=i[1],l=i[2],u=Math.hypot(r,a,l),h,f,d,p,y,_,v,w,E,M,R,z,D,C,N,k,$,q,X,tt,at,J,et,bt;return u<Bt?null:(u=1/u,r*=u,a*=u,l*=u,h=Math.sin(n),f=Math.cos(n),d=1-f,p=t[0],y=t[1],_=t[2],v=t[3],w=t[4],E=t[5],M=t[6],R=t[7],z=t[8],D=t[9],C=t[10],N=t[11],k=r*r*d+f,$=a*r*d+l*h,q=l*r*d-a*h,X=r*a*d-l*h,tt=a*a*d+f,at=l*a*d+r*h,J=r*l*d+a*h,et=a*l*d-r*h,bt=l*l*d+f,e[0]=p*k+w*$+z*q,e[1]=y*k+E*$+D*q,e[2]=_*k+M*$+C*q,e[3]=v*k+R*$+N*q,e[4]=p*X+w*tt+z*at,e[5]=y*X+E*tt+D*at,e[6]=_*X+M*tt+C*at,e[7]=v*X+R*tt+N*at,e[8]=p*J+w*et+z*bt,e[9]=y*J+E*et+D*bt,e[10]=_*J+M*et+C*bt,e[11]=v*J+R*et+N*bt,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function VD(e,t,n){var i=Math.sin(n),r=Math.cos(n),a=t[4],l=t[5],u=t[6],h=t[7],f=t[8],d=t[9],p=t[10],y=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*r+f*i,e[5]=l*r+d*i,e[6]=u*r+p*i,e[7]=h*r+y*i,e[8]=f*r-a*i,e[9]=d*r-l*i,e[10]=p*r-u*i,e[11]=y*r-h*i,e}function $D(e,t,n){var i=Math.sin(n),r=Math.cos(n),a=t[0],l=t[1],u=t[2],h=t[3],f=t[8],d=t[9],p=t[10],y=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*r-f*i,e[1]=l*r-d*i,e[2]=u*r-p*i,e[3]=h*r-y*i,e[8]=a*i+f*r,e[9]=l*i+d*r,e[10]=u*i+p*r,e[11]=h*i+y*r,e}function HD(e,t,n){var i=Math.sin(n),r=Math.cos(n),a=t[0],l=t[1],u=t[2],h=t[3],f=t[4],d=t[5],p=t[6],y=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*r+f*i,e[1]=l*r+d*i,e[2]=u*r+p*i,e[3]=h*r+y*i,e[4]=f*r-a*i,e[5]=d*r-l*i,e[6]=p*r-u*i,e[7]=y*r-h*i,e}function ID(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function qD(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function GD(e,t,n){var i=n[0],r=n[1],a=n[2],l=Math.hypot(i,r,a),u,h,f;return l<Bt?null:(l=1/l,i*=l,r*=l,a*=l,u=Math.sin(t),h=Math.cos(t),f=1-h,e[0]=i*i*f+h,e[1]=r*i*f+a*u,e[2]=a*i*f-r*u,e[3]=0,e[4]=i*r*f-a*u,e[5]=r*r*f+h,e[6]=a*r*f+i*u,e[7]=0,e[8]=i*a*f+r*u,e[9]=r*a*f-i*u,e[10]=a*a*f+h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function YD(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function XD(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ZD(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function f4(e,t,n){var i=t[0],r=t[1],a=t[2],l=t[3],u=i+i,h=r+r,f=a+a,d=i*u,p=i*h,y=i*f,_=r*h,v=r*f,w=a*f,E=l*u,M=l*h,R=l*f;return e[0]=1-(_+w),e[1]=p+R,e[2]=y-M,e[3]=0,e[4]=p-R,e[5]=1-(d+w),e[6]=v+E,e[7]=0,e[8]=y+M,e[9]=v-E,e[10]=1-(d+_),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function KD(e,t){var n=new De(3),i=-t[0],r=-t[1],a=-t[2],l=t[3],u=t[4],h=t[5],f=t[6],d=t[7],p=i*i+r*r+a*a+l*l;return p>0?(n[0]=(u*l+d*i+h*a-f*r)*2/p,n[1]=(h*l+d*r+f*i-u*a)*2/p,n[2]=(f*l+d*a+u*r-h*i)*2/p):(n[0]=(u*l+d*i+h*a-f*r)*2,n[1]=(h*l+d*r+f*i-u*a)*2,n[2]=(f*l+d*a+u*r-h*i)*2),f4(e,t,n),e}function QD(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function d4(e,t){var n=t[0],i=t[1],r=t[2],a=t[4],l=t[5],u=t[6],h=t[8],f=t[9],d=t[10];return e[0]=Math.hypot(n,i,r),e[1]=Math.hypot(a,l,u),e[2]=Math.hypot(h,f,d),e}function WD(e,t){var n=new De(3);d4(n,t);var i=1/n[0],r=1/n[1],a=1/n[2],l=t[0]*i,u=t[1]*r,h=t[2]*a,f=t[4]*i,d=t[5]*r,p=t[6]*a,y=t[8]*i,_=t[9]*r,v=t[10]*a,w=l+d+v,E=0;return w>0?(E=Math.sqrt(w+1)*2,e[3]=.25*E,e[0]=(p-_)/E,e[1]=(y-h)/E,e[2]=(u-f)/E):l>d&&l>v?(E=Math.sqrt(1+l-d-v)*2,e[3]=(p-_)/E,e[0]=.25*E,e[1]=(u+f)/E,e[2]=(y+h)/E):d>v?(E=Math.sqrt(1+d-l-v)*2,e[3]=(y-h)/E,e[0]=(u+f)/E,e[1]=.25*E,e[2]=(p+_)/E):(E=Math.sqrt(1+v-l-d)*2,e[3]=(u-f)/E,e[0]=(y+h)/E,e[1]=(p+_)/E,e[2]=.25*E),e}function JD(e,t,n,i){var r=t[0],a=t[1],l=t[2],u=t[3],h=r+r,f=a+a,d=l+l,p=r*h,y=r*f,_=r*d,v=a*f,w=a*d,E=l*d,M=u*h,R=u*f,z=u*d,D=i[0],C=i[1],N=i[2];return e[0]=(1-(v+E))*D,e[1]=(y+z)*D,e[2]=(_-R)*D,e[3]=0,e[4]=(y-z)*C,e[5]=(1-(p+E))*C,e[6]=(w+M)*C,e[7]=0,e[8]=(_+R)*N,e[9]=(w-M)*N,e[10]=(1-(p+v))*N,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function t2(e,t,n,i,r){var a=t[0],l=t[1],u=t[2],h=t[3],f=a+a,d=l+l,p=u+u,y=a*f,_=a*d,v=a*p,w=l*d,E=l*p,M=u*p,R=h*f,z=h*d,D=h*p,C=i[0],N=i[1],k=i[2],$=r[0],q=r[1],X=r[2],tt=(1-(w+M))*C,at=(_+D)*C,J=(v-z)*C,et=(_-D)*N,bt=(1-(y+M))*N,G=(E+R)*N,nt=(v+z)*k,ft=(E-R)*k,ht=(1-(y+w))*k;return e[0]=tt,e[1]=at,e[2]=J,e[3]=0,e[4]=et,e[5]=bt,e[6]=G,e[7]=0,e[8]=nt,e[9]=ft,e[10]=ht,e[11]=0,e[12]=n[0]+$-(tt*$+et*q+nt*X),e[13]=n[1]+q-(at*$+bt*q+ft*X),e[14]=n[2]+X-(J*$+G*q+ht*X),e[15]=1,e}function e2(e,t){var n=t[0],i=t[1],r=t[2],a=t[3],l=n+n,u=i+i,h=r+r,f=n*l,d=i*l,p=i*u,y=r*l,_=r*u,v=r*h,w=a*l,E=a*u,M=a*h;return e[0]=1-p-v,e[1]=d+M,e[2]=y-E,e[3]=0,e[4]=d-M,e[5]=1-f-v,e[6]=_+w,e[7]=0,e[8]=y+E,e[9]=_-w,e[10]=1-f-p,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function n2(e,t,n,i,r,a,l){var u=1/(n-t),h=1/(r-i),f=1/(a-l);return e[0]=a*2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a*2*h,e[6]=0,e[7]=0,e[8]=(n+t)*u,e[9]=(r+i)*h,e[10]=(l+a)*f,e[11]=-1,e[12]=0,e[13]=0,e[14]=l*a*2*f,e[15]=0,e}function m4(e,t,n,i,r){var a=1/Math.tan(t/2),l;return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,r!=null&&r!==1/0?(l=1/(i-r),e[10]=(r+i)*l,e[14]=2*r*i*l):(e[10]=-1,e[14]=-2*i),e}var i2=m4;function r2(e,t,n,i,r){var a=1/Math.tan(t/2),l;return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,r!=null&&r!==1/0?(l=1/(i-r),e[10]=r*l,e[14]=r*i*l):(e[10]=-1,e[14]=-i),e}function s2(e,t,n,i){var r=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),l=Math.tan(t.leftDegrees*Math.PI/180),u=Math.tan(t.rightDegrees*Math.PI/180),h=2/(l+u),f=2/(r+a);return e[0]=h,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=f,e[6]=0,e[7]=0,e[8]=-((l-u)*h*.5),e[9]=(r-a)*f*.5,e[10]=i/(n-i),e[11]=-1,e[12]=0,e[13]=0,e[14]=i*n/(n-i),e[15]=0,e}function p4(e,t,n,i,r,a,l){var u=1/(t-n),h=1/(i-r),f=1/(a-l);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*h,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*f,e[11]=0,e[12]=(t+n)*u,e[13]=(r+i)*h,e[14]=(l+a)*f,e[15]=1,e}var a2=p4;function o2(e,t,n,i,r,a,l){var u=1/(t-n),h=1/(i-r),f=1/(a-l);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*h,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=f,e[11]=0,e[12]=(t+n)*u,e[13]=(r+i)*h,e[14]=a*f,e[15]=1,e}function l2(e,t,n,i){var r,a,l,u,h,f,d,p,y,_,v=t[0],w=t[1],E=t[2],M=i[0],R=i[1],z=i[2],D=n[0],C=n[1],N=n[2];return Math.abs(v-D)<Bt&&Math.abs(w-C)<Bt&&Math.abs(E-N)<Bt?c4(e):(d=v-D,p=w-C,y=E-N,_=1/Math.hypot(d,p,y),d*=_,p*=_,y*=_,r=R*y-z*p,a=z*d-M*y,l=M*p-R*d,_=Math.hypot(r,a,l),_?(_=1/_,r*=_,a*=_,l*=_):(r=0,a=0,l=0),u=p*l-y*a,h=y*r-d*l,f=d*a-p*r,_=Math.hypot(u,h,f),_?(_=1/_,u*=_,h*=_,f*=_):(u=0,h=0,f=0),e[0]=r,e[1]=u,e[2]=d,e[3]=0,e[4]=a,e[5]=h,e[6]=p,e[7]=0,e[8]=l,e[9]=f,e[10]=y,e[11]=0,e[12]=-(r*v+a*w+l*E),e[13]=-(u*v+h*w+f*E),e[14]=-(d*v+p*w+y*E),e[15]=1,e)}function u2(e,t,n,i){var r=t[0],a=t[1],l=t[2],u=i[0],h=i[1],f=i[2],d=r-n[0],p=a-n[1],y=l-n[2],_=d*d+p*p+y*y;_>0&&(_=1/Math.sqrt(_),d*=_,p*=_,y*=_);var v=h*y-f*p,w=f*d-u*y,E=u*p-h*d;return _=v*v+w*w+E*E,_>0&&(_=1/Math.sqrt(_),v*=_,w*=_,E*=_),e[0]=v,e[1]=w,e[2]=E,e[3]=0,e[4]=p*E-y*w,e[5]=y*v-d*E,e[6]=d*w-p*v,e[7]=0,e[8]=d,e[9]=p,e[10]=y,e[11]=0,e[12]=r,e[13]=a,e[14]=l,e[15]=1,e}function c2(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function h2(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function f2(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function _4(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function d2(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function m2(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e[3]=t[3]+n[3]*i,e[4]=t[4]+n[4]*i,e[5]=t[5]+n[5]*i,e[6]=t[6]+n[6]*i,e[7]=t[7]+n[7]*i,e[8]=t[8]+n[8]*i,e[9]=t[9]+n[9]*i,e[10]=t[10]+n[10]*i,e[11]=t[11]+n[11]*i,e[12]=t[12]+n[12]*i,e[13]=t[13]+n[13]*i,e[14]=t[14]+n[14]*i,e[15]=t[15]+n[15]*i,e}function p2(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function _2(e,t){var n=e[0],i=e[1],r=e[2],a=e[3],l=e[4],u=e[5],h=e[6],f=e[7],d=e[8],p=e[9],y=e[10],_=e[11],v=e[12],w=e[13],E=e[14],M=e[15],R=t[0],z=t[1],D=t[2],C=t[3],N=t[4],k=t[5],$=t[6],q=t[7],X=t[8],tt=t[9],at=t[10],J=t[11],et=t[12],bt=t[13],G=t[14],nt=t[15];return Math.abs(n-R)<=Bt*Math.max(1,Math.abs(n),Math.abs(R))&&Math.abs(i-z)<=Bt*Math.max(1,Math.abs(i),Math.abs(z))&&Math.abs(r-D)<=Bt*Math.max(1,Math.abs(r),Math.abs(D))&&Math.abs(a-C)<=Bt*Math.max(1,Math.abs(a),Math.abs(C))&&Math.abs(l-N)<=Bt*Math.max(1,Math.abs(l),Math.abs(N))&&Math.abs(u-k)<=Bt*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(h-$)<=Bt*Math.max(1,Math.abs(h),Math.abs($))&&Math.abs(f-q)<=Bt*Math.max(1,Math.abs(f),Math.abs(q))&&Math.abs(d-X)<=Bt*Math.max(1,Math.abs(d),Math.abs(X))&&Math.abs(p-tt)<=Bt*Math.max(1,Math.abs(p),Math.abs(tt))&&Math.abs(y-at)<=Bt*Math.max(1,Math.abs(y),Math.abs(at))&&Math.abs(_-J)<=Bt*Math.max(1,Math.abs(_),Math.abs(J))&&Math.abs(v-et)<=Bt*Math.max(1,Math.abs(v),Math.abs(et))&&Math.abs(w-bt)<=Bt*Math.max(1,Math.abs(w),Math.abs(bt))&&Math.abs(E-G)<=Bt*Math.max(1,Math.abs(E),Math.abs(G))&&Math.abs(M-nt)<=Bt*Math.max(1,Math.abs(M),Math.abs(nt))}var y2=h4,g2=_4,us={};dc(us,{add:()=>zL,calculateW:()=>xL,clone:()=>AL,conjugate:()=>TL,copy:()=>RL,create:()=>Vg,dot:()=>D4,equals:()=>PL,exactEquals:()=>kL,exp:()=>C4,fromEuler:()=>ML,fromMat3:()=>O4,fromValues:()=>CL,getAngle:()=>_L,getAxisAngle:()=>pL,identity:()=>mL,invert:()=>EL,len:()=>UL,length:()=>L4,lerp:()=>LL,ln:()=>R4,mul:()=>DL,multiply:()=>A4,normalize:()=>J1,pow:()=>bL,random:()=>wL,rotateX:()=>yL,rotateY:()=>gL,rotateZ:()=>vL,rotationTo:()=>BL,scale:()=>z4,set:()=>OL,setAxes:()=>jL,setAxisAngle:()=>S4,slerp:()=>Jm,sqlerp:()=>FL,sqrLen:()=>NL,squaredLength:()=>U4,str:()=>SL});var Dt={};dc(Dt,{add:()=>w2,angle:()=>$2,bezier:()=>U2,ceil:()=>E2,clone:()=>v2,copy:()=>x2,create:()=>Q1,cross:()=>Wm,dist:()=>K2,distance:()=>b4,div:()=>Z2,divide:()=>x4,dot:()=>W1,equals:()=>G2,exactEquals:()=>q2,floor:()=>T2,forEach:()=>J2,fromValues:()=>jg,hermite:()=>L2,inverse:()=>z2,len:()=>M4,length:()=>y4,lerp:()=>D2,max:()=>S2,min:()=>M2,mul:()=>X2,multiply:()=>v4,negate:()=>O2,normalize:()=>T4,random:()=>N2,rotateX:()=>F2,rotateY:()=>j2,rotateZ:()=>V2,round:()=>A2,scale:()=>C2,scaleAndAdd:()=>R2,set:()=>b2,sqrDist:()=>Q2,sqrLen:()=>W2,squaredDistance:()=>w4,squaredLength:()=>E4,str:()=>I2,sub:()=>Y2,subtract:()=>g4,transformMat3:()=>P2,transformMat4:()=>k2,transformQuat:()=>B2,zero:()=>H2});function Q1(){var e=new De(3);return De!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function v2(e){var t=new De(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function y4(e){var t=e[0],n=e[1],i=e[2];return Math.hypot(t,n,i)}function jg(e,t,n){var i=new De(3);return i[0]=e,i[1]=t,i[2]=n,i}function x2(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function b2(e,t,n,i){return e[0]=t,e[1]=n,e[2]=i,e}function w2(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function g4(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function v4(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function x4(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function E2(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function T2(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function M2(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function S2(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function A2(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function C2(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function R2(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e}function b4(e,t){var n=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2];return Math.hypot(n,i,r)}function w4(e,t){var n=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2];return n*n+i*i+r*r}function E4(e){var t=e[0],n=e[1],i=e[2];return t*t+n*n+i*i}function O2(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function z2(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function T4(e,t){var n=t[0],i=t[1],r=t[2],a=n*n+i*i+r*r;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e}function W1(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Wm(e,t,n){var i=t[0],r=t[1],a=t[2],l=n[0],u=n[1],h=n[2];return e[0]=r*h-a*u,e[1]=a*l-i*h,e[2]=i*u-r*l,e}function D2(e,t,n,i){var r=t[0],a=t[1],l=t[2];return e[0]=r+i*(n[0]-r),e[1]=a+i*(n[1]-a),e[2]=l+i*(n[2]-l),e}function L2(e,t,n,i,r,a){var l=a*a,u=l*(2*a-3)+1,h=l*(a-2)+a,f=l*(a-1),d=l*(3-2*a);return e[0]=t[0]*u+n[0]*h+i[0]*f+r[0]*d,e[1]=t[1]*u+n[1]*h+i[1]*f+r[1]*d,e[2]=t[2]*u+n[2]*h+i[2]*f+r[2]*d,e}function U2(e,t,n,i,r,a){var l=1-a,u=l*l,h=a*a,f=u*l,d=3*a*u,p=3*h*l,y=h*a;return e[0]=t[0]*f+n[0]*d+i[0]*p+r[0]*y,e[1]=t[1]*f+n[1]*d+i[1]*p+r[1]*y,e[2]=t[2]*f+n[2]*d+i[2]*p+r[2]*y,e}function N2(e,t){t=t||1;var n=Gl()*2*Math.PI,i=Gl()*2-1,r=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(n)*r,e[1]=Math.sin(n)*r,e[2]=i*t,e}function k2(e,t,n){var i=t[0],r=t[1],a=t[2],l=n[3]*i+n[7]*r+n[11]*a+n[15];return l=l||1,e[0]=(n[0]*i+n[4]*r+n[8]*a+n[12])/l,e[1]=(n[1]*i+n[5]*r+n[9]*a+n[13])/l,e[2]=(n[2]*i+n[6]*r+n[10]*a+n[14])/l,e}function P2(e,t,n){var i=t[0],r=t[1],a=t[2];return e[0]=i*n[0]+r*n[3]+a*n[6],e[1]=i*n[1]+r*n[4]+a*n[7],e[2]=i*n[2]+r*n[5]+a*n[8],e}function B2(e,t,n){var i=n[0],r=n[1],a=n[2],l=n[3],u=t[0],h=t[1],f=t[2],d=r*f-a*h,p=a*u-i*f,y=i*h-r*u,_=r*y-a*p,v=a*d-i*y,w=i*p-r*d,E=l*2;return d*=E,p*=E,y*=E,_*=2,v*=2,w*=2,e[0]=u+d+_,e[1]=h+p+v,e[2]=f+y+w,e}function F2(e,t,n,i){var r=[],a=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],a[0]=r[0],a[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),a[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e}function j2(e,t,n,i){var r=[],a=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],a[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),a[1]=r[1],a[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e}function V2(e,t,n,i){var r=[],a=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],a[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),a[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),a[2]=r[2],e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e}function $2(e,t){var n=e[0],i=e[1],r=e[2],a=t[0],l=t[1],u=t[2],h=Math.sqrt(n*n+i*i+r*r),f=Math.sqrt(a*a+l*l+u*u),d=h*f,p=d&&W1(e,t)/d;return Math.acos(Math.min(Math.max(p,-1),1))}function H2(e){return e[0]=0,e[1]=0,e[2]=0,e}function I2(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function q2(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function G2(e,t){var n=e[0],i=e[1],r=e[2],a=t[0],l=t[1],u=t[2];return Math.abs(n-a)<=Bt*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-l)<=Bt*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(r-u)<=Bt*Math.max(1,Math.abs(r),Math.abs(u))}var Y2=g4,X2=v4,Z2=x4,K2=b4,Q2=w4,M4=y4,W2=E4,J2=function(){var e=Q1();return function(t,n,i,r,a,l){var u,h;for(n||(n=3),i||(i=0),r?h=Math.min(r*n+i,t.length):h=t.length,u=i;u<h;u+=n)e[0]=t[u],e[1]=t[u+1],e[2]=t[u+2],a(e,e,l),t[u]=e[0],t[u+1]=e[1],t[u+2]=e[2];return t}}();function tL(){var e=new De(4);return De!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function eL(e){var t=new De(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function nL(e,t,n,i){var r=new De(4);return r[0]=e,r[1]=t,r[2]=n,r[3]=i,r}function iL(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function rL(e,t,n,i,r){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e}function sL(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function aL(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function oL(e){var t=e[0],n=e[1],i=e[2],r=e[3];return Math.hypot(t,n,i,r)}function lL(e){var t=e[0],n=e[1],i=e[2],r=e[3];return t*t+n*n+i*i+r*r}function uL(e,t){var n=t[0],i=t[1],r=t[2],a=t[3],l=n*n+i*i+r*r+a*a;return l>0&&(l=1/Math.sqrt(l)),e[0]=n*l,e[1]=i*l,e[2]=r*l,e[3]=a*l,e}function cL(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function hL(e,t,n,i){var r=t[0],a=t[1],l=t[2],u=t[3];return e[0]=r+i*(n[0]-r),e[1]=a+i*(n[1]-a),e[2]=l+i*(n[2]-l),e[3]=u+i*(n[3]-u),e}function fL(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function dL(e,t){var n=e[0],i=e[1],r=e[2],a=e[3],l=t[0],u=t[1],h=t[2],f=t[3];return Math.abs(n-l)<=Bt*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(i-u)<=Bt*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(r-h)<=Bt*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(a-f)<=Bt*Math.max(1,Math.abs(a),Math.abs(f))}(function(){var e=tL();return function(t,n,i,r,a,l){var u,h;for(n||(n=4),i||(i=0),r?h=Math.min(r*n+i,t.length):h=t.length,u=i;u<h;u+=n)e[0]=t[u],e[1]=t[u+1],e[2]=t[u+2],e[3]=t[u+3],a(e,e,l),t[u]=e[0],t[u+1]=e[1],t[u+2]=e[2],t[u+3]=e[3];return t}})();function Vg(){var e=new De(4);return De!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function mL(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function S4(e,t,n){n=n*.5;var i=Math.sin(n);return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=Math.cos(n),e}function pL(e,t){var n=Math.acos(t[3])*2,i=Math.sin(n/2);return i>Bt?(e[0]=t[0]/i,e[1]=t[1]/i,e[2]=t[2]/i):(e[0]=1,e[1]=0,e[2]=0),n}function _L(e,t){var n=D4(e,t);return Math.acos(2*n*n-1)}function A4(e,t,n){var i=t[0],r=t[1],a=t[2],l=t[3],u=n[0],h=n[1],f=n[2],d=n[3];return e[0]=i*d+l*u+r*f-a*h,e[1]=r*d+l*h+a*u-i*f,e[2]=a*d+l*f+i*h-r*u,e[3]=l*d-i*u-r*h-a*f,e}function yL(e,t,n){n*=.5;var i=t[0],r=t[1],a=t[2],l=t[3],u=Math.sin(n),h=Math.cos(n);return e[0]=i*h+l*u,e[1]=r*h+a*u,e[2]=a*h-r*u,e[3]=l*h-i*u,e}function gL(e,t,n){n*=.5;var i=t[0],r=t[1],a=t[2],l=t[3],u=Math.sin(n),h=Math.cos(n);return e[0]=i*h-a*u,e[1]=r*h+l*u,e[2]=a*h+i*u,e[3]=l*h-r*u,e}function vL(e,t,n){n*=.5;var i=t[0],r=t[1],a=t[2],l=t[3],u=Math.sin(n),h=Math.cos(n);return e[0]=i*h+r*u,e[1]=r*h-i*u,e[2]=a*h+l*u,e[3]=l*h-a*u,e}function xL(e,t){var n=t[0],i=t[1],r=t[2];return e[0]=n,e[1]=i,e[2]=r,e[3]=Math.sqrt(Math.abs(1-n*n-i*i-r*r)),e}function C4(e,t){var n=t[0],i=t[1],r=t[2],a=t[3],l=Math.sqrt(n*n+i*i+r*r),u=Math.exp(a),h=l>0?u*Math.sin(l)/l:0;return e[0]=n*h,e[1]=i*h,e[2]=r*h,e[3]=u*Math.cos(l),e}function R4(e,t){var n=t[0],i=t[1],r=t[2],a=t[3],l=Math.sqrt(n*n+i*i+r*r),u=l>0?Math.atan2(l,a)/l:0;return e[0]=n*u,e[1]=i*u,e[2]=r*u,e[3]=.5*Math.log(n*n+i*i+r*r+a*a),e}function bL(e,t,n){return R4(e,t),z4(e,e,n),C4(e,e),e}function Jm(e,t,n,i){var r=t[0],a=t[1],l=t[2],u=t[3],h=n[0],f=n[1],d=n[2],p=n[3],y,_,v,w,E;return _=r*h+a*f+l*d+u*p,_<0&&(_=-_,h=-h,f=-f,d=-d,p=-p),1-_>Bt?(y=Math.acos(_),v=Math.sin(y),w=Math.sin((1-i)*y)/v,E=Math.sin(i*y)/v):(w=1-i,E=i),e[0]=w*r+E*h,e[1]=w*a+E*f,e[2]=w*l+E*d,e[3]=w*u+E*p,e}function wL(e){var t=Gl(),n=Gl(),i=Gl(),r=Math.sqrt(1-t),a=Math.sqrt(t);return e[0]=r*Math.sin(2*Math.PI*n),e[1]=r*Math.cos(2*Math.PI*n),e[2]=a*Math.sin(2*Math.PI*i),e[3]=a*Math.cos(2*Math.PI*i),e}function EL(e,t){var n=t[0],i=t[1],r=t[2],a=t[3],l=n*n+i*i+r*r+a*a,u=l?1/l:0;return e[0]=-n*u,e[1]=-i*u,e[2]=-r*u,e[3]=a*u,e}function TL(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function O4(e,t){var n=t[0]+t[4]+t[8],i;if(n>0)i=Math.sqrt(n+1),e[3]=.5*i,i=.5/i,e[0]=(t[5]-t[7])*i,e[1]=(t[6]-t[2])*i,e[2]=(t[1]-t[3])*i;else{var r=0;t[4]>t[0]&&(r=1),t[8]>t[r*3+r]&&(r=2);var a=(r+1)%3,l=(r+2)%3;i=Math.sqrt(t[r*3+r]-t[a*3+a]-t[l*3+l]+1),e[r]=.5*i,i=.5/i,e[3]=(t[a*3+l]-t[l*3+a])*i,e[a]=(t[a*3+r]+t[r*3+a])*i,e[l]=(t[l*3+r]+t[r*3+l])*i}return e}function ML(e,t,n,i){var r=.5*Math.PI/180;t*=r,n*=r,i*=r;var a=Math.sin(t),l=Math.cos(t),u=Math.sin(n),h=Math.cos(n),f=Math.sin(i),d=Math.cos(i);return e[0]=a*h*d-l*u*f,e[1]=l*u*d+a*h*f,e[2]=l*h*f-a*u*d,e[3]=l*h*d+a*u*f,e}function SL(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var AL=eL,CL=nL,RL=iL,OL=rL,zL=sL,DL=A4,z4=aL,D4=cL,LL=hL,L4=oL,UL=L4,U4=lL,NL=U4,J1=uL,kL=fL,PL=dL,BL=function(){var e=Q1(),t=jg(1,0,0),n=jg(0,1,0);return function(i,r,a){var l=W1(r,a);return l<-.999999?(Wm(e,t,r),M4(e)<1e-6&&Wm(e,n,r),T4(e,e),S4(i,e,Math.PI),i):l>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(Wm(e,r,a),i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=1+l,J1(i,i))}}(),FL=function(){var e=Vg(),t=Vg();return function(n,i,r,a,l,u){return Jm(e,i,l,u),Jm(t,r,a,u),Jm(n,e,t,2*u*(1-u)),n}}(),jL=function(){var e=o4();return function(t,n,i,r){return e[0]=i[0],e[3]=i[1],e[6]=i[2],e[1]=r[0],e[4]=r[1],e[7]=r[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],J1(t,O4(t,e))}}(),nu,xA,sc=(xA=class{constructor(){V(this,nu,new EventTarget)}addEventListener(t,n,i){x(this,nu).addEventListener(t,n,i)}removeEventListener(t,n,i){x(this,nu).removeEventListener(t,n,i)}_dispatchEvent(t){return x(this,nu).dispatchEvent(t)}},nu=new WeakMap,xA),Ng,rt,VL=(Ng=class extends sc{constructor({euid:t}){super();V(this,rt);ut(this,rt,{euid:t})}get _core(){return x(this,rt)}get euid(){return x(this,rt).euid}get animation_controller(){return x(this,rt).animation_controller}set animation_controller(t){x(this,rt).animation_controller=this._setComponentValue({ref:x(this,rt).animation_controller,component_name:"animation_controller",value:t})}get animation_sequence_controller(){return x(this,rt).animation_sequence_controller}set animation_sequence_controller(t){x(this,rt).animation_sequence_controller=this._setComponentValue({ref:x(this,rt).animation_sequence_controller,component_name:"animation_sequence_controller",value:t})}get bone(){return x(this,rt).bone}set bone(t){x(this,rt).bone=this._setComponentValue({ref:x(this,rt).bone,component_name:"bone",value:t})}get box_geometry(){return x(this,rt).box_geometry}set box_geometry(t){x(this,rt).box_geometry=this._setComponentValue({ref:x(this,rt).box_geometry,component_name:"box_geometry",value:t})}get camera(){return x(this,rt).camera}set camera(t){x(this,rt).camera=this._setComponentValue({ref:x(this,rt).camera,component_name:"camera",value:t})}get capsule_geometry(){return x(this,rt).capsule_geometry}set capsule_geometry(t){x(this,rt).capsule_geometry=this._setComponentValue({ref:x(this,rt).capsule_geometry,component_name:"capsule_geometry",value:t})}get character_controller(){return x(this,rt).character_controller}set character_controller(t){x(this,rt).character_controller=this._setComponentValue({ref:x(this,rt).character_controller,component_name:"character_controller",value:t})}get collision_geometry_ref(){return x(this,rt).collision_geometry_ref}set collision_geometry_ref(t){x(this,rt).collision_geometry_ref=this._setComponentValue({ref:x(this,rt).collision_geometry_ref,component_name:"collision_geometry_ref",value:t})}get constraint(){return x(this,rt).constraint}set constraint(t){x(this,rt).constraint=this._setComponentValue({ref:x(this,rt).constraint,component_name:"constraint",value:t})}get constraint_actuator(){return x(this,rt).constraint_actuator}set constraint_actuator(t){x(this,rt).constraint_actuator=this._setComponentValue({ref:x(this,rt).constraint_actuator,component_name:"constraint_actuator",value:t})}get culling_geometry(){return x(this,rt).culling_geometry}set culling_geometry(t){x(this,rt).culling_geometry=this._setComponentValue({ref:x(this,rt).culling_geometry,component_name:"culling_geometry",value:t})}get cylinder_geometry(){return x(this,rt).cylinder_geometry}set cylinder_geometry(t){x(this,rt).cylinder_geometry=this._setComponentValue({ref:x(this,rt).cylinder_geometry,component_name:"cylinder_geometry",value:t})}get debug_name(){return x(this,rt).debug_name}set debug_name(t){x(this,rt).debug_name=this._setComponentValue({ref:x(this,rt).debug_name,component_name:"debug_name",value:t})}get decal_projector(){return x(this,rt).decal_projector}set decal_projector(t){x(this,rt).decal_projector=this._setComponentValue({ref:x(this,rt).decal_projector,component_name:"decal_projector",value:t})}get environment(){return x(this,rt).environment}set environment(t){x(this,rt).environment=this._setComponentValue({ref:x(this,rt).environment,component_name:"environment",value:t})}get joint(){return x(this,rt).joint}set joint(t){x(this,rt).joint=this._setComponentValue({ref:x(this,rt).joint,component_name:"joint",value:t})}get label(){return x(this,rt).label}set label(t){x(this,rt).label=this._setComponentValue({ref:x(this,rt).label,component_name:"label",value:t})}get lineage(){return x(this,rt).lineage}set lineage(t){x(this,rt).lineage=this._setComponentValue({ref:x(this,rt).lineage,component_name:"lineage",value:t})}get local_aabb(){return x(this,rt).local_aabb}set local_aabb(t){x(this,rt).local_aabb=this._setComponentValue({ref:x(this,rt).local_aabb,component_name:"local_aabb",value:t})}get material(){return x(this,rt).material}set material(t){x(this,rt).material=this._setComponentValue({ref:x(this,rt).material,component_name:"material",value:t})}get material_ref(){return x(this,rt).material_ref}set material_ref(t){x(this,rt).material_ref=this._setComponentValue({ref:x(this,rt).material_ref,component_name:"material_ref",value:t})}get measure(){return x(this,rt).measure}set measure(t){x(this,rt).measure=this._setComponentValue({ref:x(this,rt).measure,component_name:"measure",value:t})}get mesh_ref(){return x(this,rt).mesh_ref}set mesh_ref(t){x(this,rt).mesh_ref=this._setComponentValue({ref:x(this,rt).mesh_ref,component_name:"mesh_ref",value:t})}get orthographic_lens(){return x(this,rt).orthographic_lens}set orthographic_lens(t){x(this,rt).orthographic_lens=this._setComponentValue({ref:x(this,rt).orthographic_lens,component_name:"orthographic_lens",value:t})}get overrider(){return x(this,rt).overrider}set overrider(t){x(this,rt).overrider=this._setComponentValue({ref:x(this,rt).overrider,component_name:"overrider",value:t})}get perspective_lens(){return x(this,rt).perspective_lens}set perspective_lens(t){x(this,rt).perspective_lens=this._setComponentValue({ref:x(this,rt).perspective_lens,component_name:"perspective_lens",value:t})}get physics_material(){return x(this,rt).physics_material}set physics_material(t){x(this,rt).physics_material=this._setComponentValue({ref:x(this,rt).physics_material,component_name:"physics_material",value:t})}get plane_geometry(){return x(this,rt).plane_geometry}set plane_geometry(t){x(this,rt).plane_geometry=this._setComponentValue({ref:x(this,rt).plane_geometry,component_name:"plane_geometry",value:t})}get point_cloud_ref(){return x(this,rt).point_cloud_ref}set point_cloud_ref(t){x(this,rt).point_cloud_ref=this._setComponentValue({ref:x(this,rt).point_cloud_ref,component_name:"point_cloud_ref",value:t})}get point_light(){return x(this,rt).point_light}set point_light(t){x(this,rt).point_light=this._setComponentValue({ref:x(this,rt).point_light,component_name:"point_light",value:t})}get reflection_probe(){return x(this,rt).reflection_probe}set reflection_probe(t){x(this,rt).reflection_probe=this._setComponentValue({ref:x(this,rt).reflection_probe,component_name:"reflection_probe",value:t})}get rigid_body(){return x(this,rt).rigid_body}set rigid_body(t){x(this,rt).rigid_body=this._setComponentValue({ref:x(this,rt).rigid_body,component_name:"rigid_body",value:t})}get rigid_body_actuator(){return x(this,rt).rigid_body_actuator}set rigid_body_actuator(t){x(this,rt).rigid_body_actuator=this._setComponentValue({ref:x(this,rt).rigid_body_actuator,component_name:"rigid_body_actuator",value:t})}get scene_ref(){return x(this,rt).scene_ref}set scene_ref(t){x(this,rt).scene_ref=this._setComponentValue({ref:x(this,rt).scene_ref,component_name:"scene_ref",value:t})}get script_map(){return x(this,rt).script_map}set script_map(t){x(this,rt).script_map=this._setComponentValue({ref:x(this,rt).script_map,component_name:"script_map",value:t})}get shadow_caster(){return x(this,rt).shadow_caster}set shadow_caster(t){x(this,rt).shadow_caster=this._setComponentValue({ref:x(this,rt).shadow_caster,component_name:"shadow_caster",value:t})}get skeleton_ref(){return x(this,rt).skeleton_ref}set skeleton_ref(t){x(this,rt).skeleton_ref=this._setComponentValue({ref:x(this,rt).skeleton_ref,component_name:"skeleton_ref",value:t})}get sound_ref(){return x(this,rt).sound_ref}set sound_ref(t){x(this,rt).sound_ref=this._setComponentValue({ref:x(this,rt).sound_ref,component_name:"sound_ref",value:t})}get sphere_geometry(){return x(this,rt).sphere_geometry}set sphere_geometry(t){x(this,rt).sphere_geometry=this._setComponentValue({ref:x(this,rt).sphere_geometry,component_name:"sphere_geometry",value:t})}get spline(){return x(this,rt).spline}set spline(t){x(this,rt).spline=this._setComponentValue({ref:x(this,rt).spline,component_name:"spline",value:t})}get spot_light(){return x(this,rt).spot_light}set spot_light(t){x(this,rt).spot_light=this._setComponentValue({ref:x(this,rt).spot_light,component_name:"spot_light",value:t})}get stereoscopic_lens(){return x(this,rt).stereoscopic_lens}set stereoscopic_lens(t){x(this,rt).stereoscopic_lens=this._setComponentValue({ref:x(this,rt).stereoscopic_lens,component_name:"stereoscopic_lens",value:t})}get tags(){return x(this,rt).tags}set tags(t){x(this,rt).tags=this._setComponentValue({ref:x(this,rt).tags,component_name:"tags",value:t})}get vehicle_controller(){return x(this,rt).vehicle_controller}set vehicle_controller(t){x(this,rt).vehicle_controller=this._setComponentValue({ref:x(this,rt).vehicle_controller,component_name:"vehicle_controller",value:t})}get volume_filter(){return x(this,rt).volume_filter}set volume_filter(t){x(this,rt).volume_filter=this._setComponentValue({ref:x(this,rt).volume_filter,component_name:"volume_filter",value:t})}get volume_material_ref(){return x(this,rt).volume_material_ref}set volume_material_ref(t){x(this,rt).volume_material_ref=this._setComponentValue({ref:x(this,rt).volume_material_ref,component_name:"volume_material_ref",value:t})}get volume_ref(){return x(this,rt).volume_ref}set volume_ref(t){x(this,rt).volume_ref=this._setComponentValue({ref:x(this,rt).volume_ref,component_name:"volume_ref",value:t})}toJSON(){let{euid:t,...n}=x(this,rt);return{euid:{value:t.value},...n}}_unsafeSetComponentValue({component_name:t,value:n}){x(this,rt)[t]=n}},rt=new WeakMap,H(Ng,"component_names",["animation_controller","animation_sequence_controller","bone","box_geometry","camera","capsule_geometry","character_controller","collision_geometry_ref","constraint","constraint_actuator","culling_geometry","cylinder_geometry","debug_name","decal_projector","environment","joint","label","lineage","local_aabb","material","material_ref","measure","mesh_ref","orthographic_lens","overrider","perspective_lens","physics_material","plane_geometry","point_cloud_ref","point_light","reflection_probe","rigid_body","rigid_body_actuator","scene_ref","script_map","shadow_caster","skeleton_ref","sound_ref","sphere_geometry","spline","spot_light","stereoscopic_lens","tags","vehicle_controller","volume_filter","volume_material_ref","volume_ref"]),Ng),t0=class extends Event{constructor({change_source:n,new_components:i,updated_components:r,deleted_components:a}){super("on-entity-updated");H(this,"change_source");H(this,"new_components");H(this,"updated_components");H(this,"deleted_components");this.change_source=n,this.new_components=i,this.updated_components=r,this.deleted_components=a}isAnyComponentDirty({components:n}){return this.new_components.some(i=>n.includes(i))||this.updated_components.some(i=>n.includes(i))||this.deleted_components.some(i=>n.includes(i))}},sT=class extends Event{constructor({change_source:n,is_visible:i}){super("on-entity-visibility-changed");H(this,"change_source");H(this,"is_visible");this.change_source=n,this.is_visible=i}};function Ih([e,t,n,i]){let r={roll:0,pitch:0,yaw:0},a={x:e,y:t,z:n,w:i},l=2*(a.w*a.x+a.y*a.z),u=1-2*(a.x*a.x+a.y*a.y);r.roll=Math.atan2(l,u);let h=2*(a.w*a.y-a.z*a.x);Math.abs(h)>=1?r.pitch=$L(Math.PI/2,h):r.pitch=Math.asin(h);let f=2*(a.w*a.z+a.x*a.y),d=1-2*(a.y*a.y+a.z*a.z);return r.yaw=Math.atan2(f,d),[r.roll,r.pitch,r.yaw].map(p=>p*180/Math.PI)}function $g(e){let[t,n,i]=e.map(d=>d*Math.PI/180),r=Math.cos(i/2),a=Math.sin(i/2),l=Math.cos(n/2),u=Math.sin(n/2),h=Math.cos(t/2),f=Math.sin(t/2);return[r*l*f-a*u*h,a*l*f+r*u*h,a*l*h-r*u*f,r*l*h+a*u*f]}function $L(e,t){return t<0?-Math.abs(e):Math.abs(e)}var ke,ff,be,iu,ru,df,Pe,go,su,mf,Pn,Hg,N4,k4,P4,B4,F4,bA,HL=(bA=class extends VL{constructor({euid:t,local_transform:n,parent:i}){super({euid:t});V(this,Pn);V(this,ke);V(this,ff);V(this,be);V(this,iu);V(this,ru,cn.create());V(this,df,cn.create());V(this,Pe,null);V(this,go,!0);V(this,su,0);V(this,mf,0);H(this,"_recalculateGlobalTransformIfNeeded",()=>{x(this,Pn,Hg)&&(xt(this,Pn,k4).call(this),xt(this,Pn,P4).call(this),xt(this,Pn,F4).call(this),xt(this,Pn,B4).call(this),this._computeTransformMatrices(),ut(this,Pn,!1,N4))});ut(this,Pe,i),ut(this,be,n),ut(this,ke,{position:[0,0,0],orientation:[0,0,0,1],scale:[1,1,1],eulerOrientation:[0,0,0]}),ut(this,iu,new IL(this,x(this,be))),ut(this,ff,new qL(this,x(this,ke))),this._unsafeSetComponentValue({component_name:"local_transform",value:x(this,be)})}get _last_update_id(){return x(this,su)}get global_transform(){return x(this,ff)}set global_transform(t){this._setGlobalTransform({global_transform:t,change_source:"local"}),this._markComponentAsDirty({component_name:"local_transform"})}get local_transform(){return x(this,iu)}set local_transform(t){Object.assign(x(this,iu),t)}get global_aabb(){let t=-Number.MAX_VALUE,n=this.local_aabb||{min:[-1,-1,-1],max:[1,1,1]},{min:i,max:r}=n,a=[Dt.fromValues(i[0],i[1],i[2]),Dt.fromValues(r[0],i[1],i[2]),Dt.fromValues(i[0],r[1],i[2]),Dt.fromValues(i[0],i[1],r[2]),Dt.fromValues(r[0],r[1],r[2]),Dt.fromValues(i[0],r[1],r[2]),Dt.fromValues(r[0],i[1],r[2]),Dt.fromValues(r[0],r[1],i[2])];a.forEach(f=>Dt.transformMat4(f,f,this.ls_to_ws));let l=Dt.fromValues(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),u=Dt.fromValues(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),h=Dt.create();return a.forEach(f=>{Dt.min(l,l,f),Dt.max(u,u,f),Dt.add(h,h,f)}),Dt.scale(h,h,1/8),[{vertex:a[0],test_vertices:[a[1],a[2],a[3]]},{vertex:a[6],test_vertices:[a[1],a[3],a[4]]},{vertex:a[5],test_vertices:[a[2],a[3],a[4]]},{vertex:a[7],test_vertices:[a[1],a[2],a[4]]}].forEach(({vertex:f,test_vertices:d})=>{d.forEach(p=>{let y=Dt.distance(f,p);y>t&&(t=y)})}),{min:Array.from(l),max:Array.from(u),center:Array.from(h),longest_edge_length:t}}get parent(){return x(this,Pe)}set parent(t){throw new Error("Not implemented")}_setGlobalTransform({global_transform:t,change_source:n}){t.position&&(this._setGlobalPosition(t.position),Dt.copy(x(this,ke).position,t.position)),t.orientation&&(this._setGlobalOrientation(t.orientation),us.copy(x(this,ke).orientation,t.orientation)),t.eulerOrientation&&(this._setGlobalEulerOrientation(t.eulerOrientation),Dt.copy(x(this,ke).eulerOrientation,t.eulerOrientation)),t.scale&&(this._setGlobalScale(t.scale),Dt.copy(x(this,ke).scale,t.scale)),this._computeTransformMatrices(),this._dispatchEvent(new t0({change_source:n,updated_components:["local_transform"],deleted_components:[],new_components:[]}))}_markGlobalTransformAsDirty(){ut(this,go,!0),this._markLocalTransformAsDirty()}_markLocalTransformAsDirty(){zy(this,su)._++,this._markComponentAsDirty({component_name:"local_transform"})}_computeTransformMatrices(){cn.fromRotationTranslationScale(x(this,ru),x(this,ke).orientation,x(this,ke).position,x(this,ke).scale),cn.invert(x(this,df),x(this,ru))}_setLocalTransform({local_transform:t}){t.position&&Dt.copy(x(this,be).position,t.position),t.orientation&&us.copy(x(this,be).orientation,t.orientation),t.eulerOrientation&&Dt.copy(x(this,be).eulerOrientation,t.eulerOrientation),t.scale&&Dt.copy(x(this,be).scale,t.scale),t.globalEulerOrientation&&Dt.copy(x(this,be).globalEulerOrientation,t.globalEulerOrientation),ut(this,go,!0)}_setGlobalPosition(t){if(!x(this,Pe)){Dt.copy(x(this,be).position,t);return}Dt.transformMat4(x(this,be).position,t,x(this,Pe).ws_to_ls)}_setGlobalOrientation(t){if(!x(this,Pe)){us.copy(x(this,be).orientation,t),Dt.copy(x(this,be).eulerOrientation,Ih(t));return}let n=us.conjugate(us.create(),x(this,Pe).global_transform.orientation),i=x(this,be).orientation;us.multiply(i,n,t),x(this,be).eulerOrientation=Ih(i)}_setGlobalEulerOrientation(t){let n=$g(t);this._setGlobalOrientation(n),Dt.copy(x(this,be).globalEulerOrientation,t)}_setGlobalScale(t){if(!x(this,Pe)){Dt.copy(x(this,be).scale,t);return}Dt.divide(x(this,be).scale,t,x(this,Pe).global_transform.scale)}get ls_to_ws(){return this._recalculateGlobalTransformIfNeeded(),x(this,ru)}get ws_to_ls(){return this._recalculateGlobalTransformIfNeeded(),x(this,df)}},ke=new WeakMap,ff=new WeakMap,be=new WeakMap,iu=new WeakMap,ru=new WeakMap,df=new WeakMap,Pe=new WeakMap,go=new WeakMap,su=new WeakMap,mf=new WeakMap,Pn=new WeakSet,Hg=function(){return x(this,Pe)&&(x(this,Pe)._last_update_id!==x(this,mf)||x(x(this,Pe),Pn,Hg))?!0:x(this,go)},N4=function(t){var n;ut(this,go,t),zy(this,su)._++,ut(this,mf,((n=x(this,Pe))==null?void 0:n._last_update_id)??0)},k4=function(){let t=x(this,be).position;return x(this,Pe)?Dt.transformMat4(x(this,ke).position,t,x(this,Pe).ls_to_ws):Dt.copy(x(this,ke).position,t)},P4=function(){return x(this,Pe)?us.multiply(x(this,ke).orientation,x(this,Pe).global_transform.orientation,x(this,be).orientation):us.copy(x(this,ke).orientation,x(this,be).orientation)},B4=function(){let t=$g(x(this,be).globalEulerOrientation).every((n,i)=>Math.max(n-x(this,ke).orientation[i])<1e-6)?x(this,be).globalEulerOrientation:Ih(x(this,ke).orientation);return Dt.copy(x(this,ke).eulerOrientation,t)},F4=function(){let t=x(this,be).scale;return x(this,Pe)?Dt.multiply(x(this,ke).scale,x(this,Pe).global_transform.scale,t):Dt.copy(x(this,ke).scale,t)},bA),au,ou,lu,uu,wA,IL=(wA=class{constructor(t,n){V(this,au);V(this,ou);V(this,lu);V(this,uu);let i=()=>({get:(r,a)=>Reflect.get(r,a),set:(r,a,l)=>{let u=Reflect.set(r,a,l);return t._markGlobalTransformAsDirty(),u}});ut(this,au,new Proxy(n.position,i())),ut(this,uu,new Proxy(n.scale,i())),ut(this,ou,new Proxy(n.orientation,{get:(r,a)=>n.orientation[a],set:(r,a,l)=>{let u=Reflect.set(r,a,l);return n.eulerOrientation=Ih(n.orientation),t._markGlobalTransformAsDirty(),u}})),ut(this,lu,new Proxy(n.eulerOrientation,{get:(r,a)=>n.eulerOrientation[a],set:(r,a,l)=>{let u=Reflect.set(r,a,l);return n.orientation=$g(n.eulerOrientation),t._markGlobalTransformAsDirty(),u}}))}get position(){return x(this,au)}get orientation(){return x(this,ou)}get eulerOrientation(){return x(this,lu)}get scale(){return x(this,uu)}set position(t){Object.assign(x(this,au),t)}set orientation(t){Object.assign(x(this,ou),t)}set eulerOrientation(t){Object.assign(x(this,lu),t)}set scale(t){Object.assign(x(this,uu),t)}},au=new WeakMap,ou=new WeakMap,lu=new WeakMap,uu=new WeakMap,wA),cu,hu,fu,du,EA,qL=(EA=class{constructor(t,n){V(this,cu);V(this,hu);V(this,fu);V(this,du);ut(this,cu,new Proxy(n.position,{get:(i,r)=>(t._recalculateGlobalTransformIfNeeded(),Reflect.get(i,r)),set:(i,r,a)=>(Reflect.set(i,r,a),t._setGlobalPosition(i),t._computeTransformMatrices(),t._markLocalTransformAsDirty(),!0)})),ut(this,hu,new Proxy(n.orientation,{get:(i,r)=>(t._recalculateGlobalTransformIfNeeded(),Reflect.get(i,r)),set:(i,r,a)=>(Reflect.set(i,r,a),t._setGlobalOrientation(i),t._computeTransformMatrices(),t._markLocalTransformAsDirty(),!0)})),ut(this,fu,new Proxy(n.eulerOrientation,{get:(i,r)=>(t._recalculateGlobalTransformIfNeeded(),Reflect.get(i,r)),set:(i,r,a)=>(Reflect.set(i,r,a),t._setGlobalEulerOrientation(i),t._computeTransformMatrices(),t._markLocalTransformAsDirty(),!0)})),ut(this,du,new Proxy(n.scale,{get:(i,r)=>(t._recalculateGlobalTransformIfNeeded(),Reflect.get(i,r)),set:(i,r,a)=>(Reflect.set(i,r,a),t._setGlobalScale(i),t._computeTransformMatrices(),t._markLocalTransformAsDirty(),!0)}))}get position(){return x(this,cu)}get orientation(){return x(this,hu)}get eulerOrientation(){return x(this,fu)}get scale(){return x(this,du)}set position(t){Object.assign(x(this,cu),t)}set orientation(t){Object.assign(x(this,hu),t)}set eulerOrientation(t){Object.assign(x(this,fu),t)}set scale(t){Object.assign(x(this,du),t)}},cu=new WeakMap,hu=new WeakMap,fu=new WeakMap,du=new WeakMap,EA),GL=class j4{constructor(t,n){this._entity=t,this._component_name=n}get(t,n){return typeof t[n]=="object"||Array.isArray(t[n])?new Proxy(t[n],new j4(this._entity,this._component_name)):Reflect.get(t,n)}set(t,n,i){let r=Reflect.set(t,n,i);return this._entity._markComponentAsDirty({component_name:this._component_name}),r}deleteProperty(t,n){let i=Reflect.deleteProperty(t,n);return this._entity._markComponentAsDirty({component_name:this._component_name}),i}},YL=class extends Event{constructor({event_name:t,emitter_entity:n,data_object:i}){super(t);H(this,"emitter_entity");H(this,"data_object");this.emitter_entity=n,this.data_object=i}},pf,_f,mu,TA,XL=(TA=class extends Event{constructor({scene:t,event_name:n,emitter_entity:i,target_rtids:r,data_object:a}){super(n);H(this,"emitter_entity");H(this,"data_object");V(this,pf);V(this,_f);V(this,mu,null);ut(this,pf,t),this.emitter_entity=i,ut(this,_f,r),this.data_object=a}get target_entities(){return x(this,mu)||ut(this,mu,Promise.all(x(this,_f).map(t=>x(this,pf)._findEntity({entity_rtid:t})))),x(this,mu)}},pf=new WeakMap,_f=new WeakMap,mu=new WeakMap,TA),yi,pu,_u,yu,gu,yf,vu,Cs,V4,$4,Ig,MA,Ah=(MA=class extends HL{constructor({scene:n,parent:i=null,components:r,options:a}){super({euid:r.euid,parent:i,local_transform:n._sanitizeComponentValue({component_name:"local_transform",value:r.local_transform})});V(this,Cs);V(this,yi);V(this,pu,new Set);V(this,_u,new Set);V(this,yu,new sc);V(this,gu,new sc);V(this,yf,!0);V(this,vu,!0);ut(this,yi,n),this._mergeComponents({components:r,dispatch_event:!1}),x(this,yi)._entity_registry.add({entity:this}),a&&a.auto_broadcast!==void 0&&(this.auto_broadcast=a.auto_broadcast)}get rtid(){return this.euid.rtid}get id(){return this.euid.value}get name(){var n;return((n=this.debug_name)==null?void 0:n.value)??"<unnamed>"}get auto_broadcast(){return x(this,yf)}set auto_broadcast(n){ut(this,yf,n),n===!1&&x(this,yi)._entity_registry._removeEntityFromBroadcastList({entity:this})}get is_visible(){return x(this,vu)}set is_visible(n){x(this,yi)._setEntityVisibility({entity_rtid:this.rtid,is_visible:n}),ut(this,vu,n),this._dispatchEvent(new sT({is_visible:n,change_source:"local"}))}get parent(){return super.parent}set parent(n){super.parent=n}get local_transform(){return super.local_transform}set local_transform(n){super.local_transform=n}get global_transform(){return super.global_transform}set global_transform(n){super.global_transform=n}get ls_to_ws(){return super.ls_to_ws}get ws_to_ls(){return super.ws_to_ls}get _dirty_components(){return Array.from(x(this,pu))}get _deleted_components(){return Array.from(x(this,_u))}async getChildren(){return await x(this,yi)._getChildren({entity:this})}addScriptEventListener({event_map_id:n,event_name:i,onReceived:r,onEmitted:a}){r&&x(this,yu).addEventListener(n+"/"+i,r),a&&x(this,gu).addEventListener(n+"/"+i,a)}removeScriptEventListener({event_map_id:n,event_name:i,onReceived:r,onEmitted:a}){r&&x(this,yu).removeEventListener(n+"/"+i,r),a&&x(this,gu).removeEventListener(n+"/"+i,a)}async assignClientToScripts({client_uuid:n}){if(!this.script_map||!this.script_map.elements)throw new Error("Entity has no scripts");let i=Object.keys(this.script_map.elements);await Promise.all(i.map(r=>x(this,yi)._assignClientToScripts({client_uuid:n,entity_rtid:this.rtid,script_uuid:r})))}_mergeComponents({components:n,dispatch_event:i,change_source:r}){for(let a in n){let l=a;switch(l){case"euid":break;case"local_transform":this._setLocalTransform({local_transform:n[l]});break;default:xt(this,Cs,$4).call(this,{component_name:l,value:n[l]});break}}i&&this._dispatchEvent(new t0({change_source:r,updated_components:Object.keys(n),deleted_components:[],new_components:[]}))}_markComponentAsDirty({component_name:n}){x(this,pu).add(n),x(this,yi)._entity_registry._addDirtyEntity({entity:this});let i=this[n]===void 0;this._dispatchEvent(new t0({change_source:"local",updated_components:i?[]:[n],deleted_components:[],new_components:i?[n]:[]}))}_markComponentAsDeleted({component_name:n}){x(this,_u).add(n),x(this,yi)._entity_registry._addDirtyEntity({entity:this}),this._dispatchEvent(new t0({change_source:"local",updated_components:[],deleted_components:[n],new_components:[]}))}_clearDirtyState(){x(this,pu).clear(),x(this,_u).clear()}_onVisibilityChanged({is_visible:n}){ut(this,vu,n),this._dispatchEvent(new sT({is_visible:n,change_source:"external"}))}_onScriptEventEmitted({scene:n,event_name:i,target_rtids:r,data_object:a}){x(this,gu)._dispatchEvent(new XL({scene:n,event_name:i,emitter_entity:this,target_rtids:r,data_object:a}))}_onScriptEventReceived({script_event_received_event:n}){x(this,yu)._dispatchEvent(n)}_setComponentValue({ref:n,component_name:i,value:r}){if(!(r===void 0&&n===void 0)){if(r===void 0){Reflect.deleteProperty(this,`#${i}`),this._markComponentAsDeleted({component_name:i});return}if(r==="default"&&(r=x(this,yi)._sanitizeComponentValue({component_name:i,value:void 0})),n===void 0){let a=xt(this,Cs,Ig).call(this,{component_name:i,value:r});return this._markComponentAsDirty({component_name:i}),a}if(n!==void 0)return Object.assign(n,r),n}}},yi=new WeakMap,pu=new WeakMap,_u=new WeakMap,yu=new WeakMap,gu=new WeakMap,yf=new WeakMap,vu=new WeakMap,Cs=new WeakSet,V4=function({component_name:n}){return Reflect.get(this,`#${n}`)},$4=function({component_name:n,value:i}){let r=xt(this,Cs,V4).call(this,{component_name:n});if(r){Object.assign(r,i);return}let a=xt(this,Cs,Ig).call(this,{component_name:n,value:i});this._unsafeSetComponentValue({component_name:n,value:a})},Ig=function({component_name:n,value:i}){let r=x(this,yi)._sanitizeComponentValue({component_name:n,value:i});return Reflect.set(this,`#${n}`,r),new Proxy(r,new GL(this,n))},MA),qg={"!":3,"&":2,"|":1,"^":1};function ZL(e){return Object.prototype.hasOwnProperty.call(qg,e)}function KL(e,t){return qg[e]>qg[t]}function QL(e){let t=e.split(" "),n=[],i=[];for(let r of t)switch(r){case"!":case"&":case"|":case"^":{for(;i.length>0;){let a=i[i.length-1];if(!ZL(a)||KL(r,a))break;i.pop(),n.push(a)}i.push(r)}break;case"(":i.push(r);break;case")":{for(;i[i.length-1]!=="(";)n.push(i.pop());console.assert(i[i.length-1]==="("),i.pop()}break;default:n.push(r);break}for(;i.length!==0;){let r=i.pop();console.assert(r!=="("),n.push(r)}return JSON.stringify(n)}var gf,vo,ha,xo,ms,B0,H4,SA,WL=(SA=class{constructor(){V(this,B0);V(this,gf,new Set);V(this,vo,new Map);V(this,ha,new Map);V(this,xo,new Set);V(this,ms,new Map)}add({entity:e}){let t=x(this,vo).get(e.rtid);if(t)throw new Error(`Cannot add entity ${e.name} to the registry, because entity ${t.name} has the same RTID.`);x(this,gf).add(e),x(this,vo).set(e.rtid,e);let n=x(this,ha).get(e.id);n?n.push(e):x(this,ha).set(e.id,[e])}remove({entity:e}){if(!x(this,vo).delete(e.rtid))throw new Error(`Trying to remove entity ${e.rtid} which has not been registred to the RTID LUT.`);let t=x(this,ha).get(e.id);if(!t)throw new Error(`Trying to remove entity ${e.id} which has not been registered to the EUID LUT.`);let n=t.indexOf(e);if(n==-1)throw new Error(`Trying to remove entity ${e.id} which has not been registered to the EUID LUT.`);if(t.slice(n,1),t.length===0&&x(this,ha).delete(e.id),!x(this,gf).delete(e))throw new Error(`Trying to remove entity ${e.id} which has not been registered to the registry.`)}get({entity_rtid:e}){return x(this,vo).get(e)??null}find({entity_euid:e}){return x(this,ha).get(e)??[]}_addDirtyEntity({entity:e}){x(this,xo).add(e)}_removeEntityFromBroadcastList({entity:e}){x(this,ms).delete(e)}_getEntitiesToUpdate(){let e=new Array(x(this,xo).size),t=0;for(let n of x(this,xo))e[t++]={entity_components:n._core,dirty_components:n._dirty_components,deleted_components:n._deleted_components},n.auto_broadcast&&xt(this,B0,H4).call(this,{entity:n}),n._clearDirtyState();return x(this,xo).clear(),e}_getEntitiesToPersist(){let e=new Array(x(this,ms).size),t=0;for(let[n,i]of x(this,ms))e[t++]={entity_components:n._core,dirty_components:Array.from(i),deleted_components:[]};return x(this,ms).clear(),e}},gf=new WeakMap,vo=new WeakMap,ha=new WeakMap,xo=new WeakMap,ms=new WeakMap,B0=new WeakSet,H4=function({entity:e}){let t=x(this,ms).get(e);if(!t)x(this,ms).set(e,new Set([...e._dirty_components]));else for(let n of e._dirty_components)t.add(n)},SA),Be,xu,bu,e0,wu,F0,AA,JL=(AA=class{constructor(e){V(this,bu);H(this,"_entity_registry",new WL);V(this,Be);V(this,xu,new Map);H(this,"_onEntityVisibilityChanged",({entity_rtid:e,is_visible:t})=>{let n=this._entity_registry.get({entity_rtid:e});n&&n._onVisibilityChanged({is_visible:t})});H(this,"_onScriptEventReceived",({emitter_rtid:e,event_name:t,target_rtids:n,data_object:i})=>{let r=this._entity_registry.get({entity_rtid:e});r&&r._onScriptEventEmitted({scene:this,event_name:t,target_rtids:n,data_object:i});let a=new YL({event_name:t,emitter_entity:r,data_object:i});for(let l of n){let u=this._entity_registry.get({entity_rtid:l});u&&u._onScriptEventReceived({script_event_received_event:a})}});V(this,wu,e=>{let t=this._entity_registry.get({entity_rtid:e.components.euid.rtid});if(t)return t;let n=e.ancestors?x(this,F0).call(this,e.ancestors):null;return new Ah({scene:this,parent:n,components:e.components})});V(this,F0,e=>{let t=null;for(let n of e){let i=this._entity_registry.get({entity_rtid:n.components.euid.rtid});i?t=i:t=new Ah({scene:this,parent:t,components:n.components})}return t});ut(this,Be,e)}async newEntity({name:e,components:t,options:n,parent:i=null}){let r=i?{parentUUID:i.id}:void 0,a=await x(this,Be).createEntities({components:[{debug_name:{value:e},...t,lineage:r}],delete_on_client_disconnection:(n==null?void 0:n.delete_on_client_disconnection)??!1,is_transient:!0});return new Ah({scene:this,parent:i,components:a[0],options:n})}async newEntities({components_array:e,options:t}){return(await x(this,Be).createEntities({components:e,delete_on_client_disconnection:(t==null?void 0:t.delete_on_client_disconnection)??!1,is_transient:!0})).map(n=>new Ah({scene:this,parent:null,components:n,options:t}))}async findEntity({entity_uuid:e,linkage:t=[]}){let n=this._entity_registry.find({entity_euid:e}).find(r=>{var a,l,u;return(((l=(a=r.lineage)==null?void 0:a.value)==null?void 0:l.length)??0)===t.length&&(((u=r.lineage)==null?void 0:u.value)??[]).every((h,f)=>h===t[f])});if(n)return n;let i=await x(this,Be).findEntities({query:{euid:e,linkage:t},options:{include_ancestors:!0}});return i.length===0?null:x(this,wu).call(this,i[0])}async findEntities({entity_uuid:e}){let t=this._entity_registry.find({entity_euid:e});if(t.length>0)return t;let n=await x(this,Be).findEntities({query:{euid:e},options:{include_ancestors:!0}});return xt(this,bu,e0).call(this,{entity_responses:n})}async deleteEntities({entities:e}){await x(this,Be).deleteEntities({entity_uuids:e.map(t=>t.id)});for(let t of e)this._entity_registry.remove({entity:t})}async highlightEntities({entities:e,keep_old_selection:t=!1}){x(this,Be).highlightEntities({highlightEntitiesMessage:{entities:e.map(n=>n.rtid),keep_old_selection:t}})}fireEvent({event_map_id:e,event_name:t,emitter_entity:n,target_entities:i=[],data_object:r={}}){x(this,Be).fireEvent({event_map_id:e,event_name:t,emitter_entity:n?n.rtid:0n,target_entities:i.map(a=>a.rtid),data_object:r})}setFilter({name:e,value:t}){let n=QL(t);x(this,Be).setFilter({name:e,rpn:n})}toggleFilter({name:e,enabled:t}){x(this,Be).toggleFilter({name:e,enabled:t})}removeFilter({name:e}){x(this,Be).removeFilter({name:e})}async findEntitiesByNames({entity_names:e}){let t=await x(this,Be).findEntities({query:{names:e},options:{include_ancestors:!0}});return xt(this,bu,e0).call(this,{entity_responses:t})}async findEntitiesWithComponents({mandatory_components:e,forbidden_components:t}){let n=await x(this,Be).findEntities({query:{mandatory_components:e,forbidden_components:t},options:{include_ancestors:!0}});return xt(this,bu,e0).call(this,{entity_responses:n})}async _findEntity({entity_rtid:e}){if(e===0n)return null;let t=this._entity_registry.get({entity_rtid:e});if(t)return t;let n=x(this,xu).get(e);n||(n=x(this,Be).findEntities({query:{rtid:e}}),x(this,xu).set(e,n));let i=await n;return x(this,xu).delete(e),i.length===0?null:x(this,wu).call(this,i[0])}async _getChildren({entity:e}){return(await x(this,Be).getChildren({entity_rtid:e.rtid})).map(t=>this._entity_registry.get({entity_rtid:t.euid.rtid})??new Ah({scene:this,parent:e,components:t}))}_assignClientToScripts({client_uuid:e,entity_rtid:t,script_uuid:n}){x(this,Be).assignClientToScript({client_uuid:e,script_uuid:n,entity_rtid:t})}async _setEntityVisibility({entity_rtid:e,is_visible:t}){return x(this,Be).setEntityVisibility({entity_rtid:e,is_visible:t})}_updateEntityFromEvent({entity_euid:e,updated_components:t}){let n=this._entity_registry.find({entity_euid:e});if(n.length===0){console.log("Received an update for an undiscovered entity",e);return}for(let i of n)i._mergeComponents({components:t,dispatch_event:!0,change_source:"external"})}_sanitizeComponentValue({component_name:e,value:t}){return x(this,Be).sanitizeComponentValue({component_name:e,value:t})}},Be=new WeakMap,xu=new WeakMap,bu=new WeakSet,e0=function({entity_responses:e}){return e.map(x(this,wu))},wu=new WeakMap,F0=new WeakMap,AA),Eu,bo,vf,fa,CA,aT=(CA=class{constructor({core:t,client_info:n,client_meta_data:i}){V(this,Eu);V(this,bo);V(this,vf,[]);V(this,fa,null);ut(this,Eu,t),ut(this,bo,n),this._updateFromClientMetaData({client_meta_data:i})}get id(){return x(this,bo).client_id}get user_id(){return x(this,bo).user_id}get username(){return x(this,bo).username}get _cursor_data(){return x(this,fa)}async getCameraEntities(){return(await Promise.all(x(this,vf).map(t=>x(this,Eu).scene._findEntity({entity_rtid:t})))).filter(t=>t!=null)}async getHoveredEntity(){return x(this,fa)==null?null:await x(this,Eu).scene._findEntity({entity_rtid:x(this,fa).hovered_entity_rtid})}_updateFromClientMetaData({client_meta_data:t}){ut(this,vf,t.viewports.map(n=>n.camera_rtid)),t.hovered_entity_rtid!=0n?ut(this,fa,{hovered_entity_rtid:t.hovered_entity_rtid,hovered_ws_position:t.ws_hovered_position,hovered_ws_normal:t.ws_hovered_normal}):ut(this,fa,null)}},Eu=new WeakMap,bo=new WeakMap,vf=new WeakMap,fa=new WeakMap,CA),t7=class extends Event{constructor({viewports:t}){super("TO_REMOVE__viewports-added");H(this,"viewports");this.viewports=t}},e7=class extends Event{constructor({reason:t}){super("on-disconnected");H(this,"reason");this.reason=t}},n7=class extends Event{constructor({seconds_remaining:t,reset_timer:n}){super("on-inactivity-warning");H(this,"seconds_remaining");H(this,"resetTimer");this.seconds_remaining=t,this.resetTimer=n}},i7=class extends Event{constructor(){super("on-activity-detected")}},r7=class extends Event{constructor({client:t}){super("on-client-joined");H(this,"client");this.client=t}},s7=class extends Event{constructor({client:t}){super("on-client-left");H(this,"client");this.client=t}},Tu,Mu,Bi,Su,Qe,Fh,I4,q4,G4,Y4,X4,Z4,ws,y0=(ws=class extends sc{constructor({token:n,session_info:i,created:r,is_guest:a=!1}){super();V(this,Qe);H(this,"info");H(this,"has_been_created");H(this,"client_id",null);H(this,"token");H(this,"is_guest",!1);V(this,Tu,null);V(this,Mu,null);V(this,Bi,new Map);V(this,Su,new Set);H(this,"_onDisconnected",n=>{this._dispatchEvent(new e7({reason:n.reason}))});H(this,"_onInactivityWarning",n=>{this._dispatchEvent(new n7({seconds_remaining:n.seconds_remaining,reset_timer:n.resetTimer}))});H(this,"_onActivityDetected",n=>{this._dispatchEvent(new i7)});this.token=n,this.info=i,this.has_been_created=r,this.is_guest=a}static async create({scene_id:n,token:i,is_transient:r}){let a=await fetch(`${ji._api_url}/sessions`,{method:"POST",body:JSON.stringify({scene_id:n,is_transient:r}),headers:{"Content-Type":"application/json",user_token:i}});if(!a.ok)throw new Error("Error when creating session");let l=await a.json();return new ws({token:i,session_info:{...l,scene_id:n,is_transient_session:r??!1},created:!0})}static async find({scene_id:n,token:i,session_selector:r}){let a=await(await fetch(`${ji._api_url}/sessions?filters[scene_id]=${n}`,{method:"GET",headers:{user_token:i}})).json();if(a.length===0)return null;let l=r({sessions:a});return l?new ws({token:i,session_info:l,created:!1}):null}static async findById({session_id:n,token:i}){let r=await fetch(`${ji._api_url}/sessions/${n}`,{method:"GET",headers:{user_token:i}});if(!r.ok)return null;let a=await r.json();return new ws({token:i,session_info:a,created:!1})}static async findByGuestToken({guest_token:n}){let i=await fetch(`${ji._api_url}/sessions`,{method:"GET",headers:{guest_token:n}});if(!i.ok)throw new Error("Could not find session as guest, guest token might be expired");let[r]=await i.json();return new ws({token:n,session_info:r,created:!1,is_guest:!0})}get scene_id(){return this.info.scene_id}get session_id(){return this.info.session_id}get client_ids(){return Array.from(x(this,Bi).keys())}get clients(){return Array.from(x(this,Bi).values())}get other_clients(){return Array.from(x(this,Bi).values()).filter(n=>n.id!==this.client_id)}get current_client(){return this.client_id?x(this,Bi).get(this.client_id)??null:null}get gateway_url(){return x(this,Tu)}get session_key(){return x(this,Mu)}isJoinable(){return x(this,Tu)!==null&&x(this,Mu)!==null}async registerClient(){let n=await fetch(`${ji._api_url}/sessions/${this.session_id}/clients`,{method:"POST",headers:x(this,Qe,Fh)}),{session_token:i,endpoint_info:r}=await n.json(),a=r.ssl_port?"wss":"ws",l=r.ssl_port!==0?r.ssl_port:r.port;ut(this,Tu,`${a}://${r.ip}:${l}`),ut(this,Mu,i)}async close(){if(this.info===null)throw new Error("Cannot close session as it has not been opened yet");await fetch(`${ji._api_url}/sessions/${this.session_id}`,{method:"DELETE",headers:x(this,Qe,Fh)})}getClient({client_id:n}){return x(this,Bi).get(n)??null}async evictClient({client:n}){let i=n instanceof aT?n.id:n;return(await fetch(`${ji._api_url}/sessions/${this.session_id}/clients/${i}`,{method:"DELETE",headers:x(this,Qe,Fh)})).ok}_updateClients({core:n,client_data:i}){for(let r of i){let a=r.client_id;if(x(this,Su).has(a))continue;let l=x(this,Bi).get(a);l?xt(this,Qe,q4).call(this,{client:l,client_meta_data:r}):xt(this,Qe,I4).call(this,{core:n,client_meta_data:r})}xt(this,Qe,G4).call(this,{client_data:i})}},Tu=new WeakMap,Mu=new WeakMap,Bi=new WeakMap,Su=new WeakMap,Qe=new WeakSet,Fh=function(){return this.is_guest?{guest_token:this.token}:{user_token:this.token}},I4=async function({core:n,client_meta_data:i}){if(i.viewports.length===0)return;let r=i.client_id;x(this,Su).add(r);let a=null;try{a=await xt(this,Qe,Z4).call(this,{client_id:i.client_id})}catch(u){console.error("Could not get info for client",r,u),a={client_id:r,client_type:"unknown",user_id:"",username:"unknown user"}}let l=new aT({core:n,client_info:a,client_meta_data:i});xt(this,Qe,Y4).call(this,{client:l}),x(this,Su).delete(r)},q4=function({client:n,client_meta_data:i}){n._updateFromClientMetaData({client_meta_data:i})},G4=function({client_data:n}){let i=n.map(r=>r.client_id);for(let[r]of x(this,Bi))i.includes(r)||xt(this,Qe,X4).call(this,{client_id:r})},Y4=function({client:n}){x(this,Bi).set(n.id,n),n.id!==this.client_id&&this._dispatchEvent(new r7({client:n}))},X4=function({client_id:n}){let i=this.getClient({client_id:n});i&&(x(this,Bi).delete(n),this._dispatchEvent(new s7({client:i})))},Z4=async function({client_id:n}){return await(await fetch(`${ji._api_url}/sessions/${this.session_id}/clients/${n}`,{method:"GET",headers:x(this,Qe,Fh)})).json()},ws),da,xf,ma,pa,j0,V0,$0,Nr,n0,H0,i0,RA,a7=(RA=class{constructor(e){V(this,Nr);V(this,da);V(this,xf,!1);V(this,ma,{x:0,y:0});V(this,pa,new Map);V(this,j0,({viewport:e,event:t})=>{if(t.button>2){console.warn("MouseInput: Unsupported mouse button",t.button);return}t.stopPropagation();let n=xt(this,Nr,n0).call(this,t),i=xt(this,Nr,i0).call(this,{viewport:e,x:n.x,y:n.y});x(this,da)._sendInput({input_state:{input_operation:["lbutton_down","mbutton_down","rbutton_down"][t.button],input_data:i}})});V(this,V0,({viewport:e,event:t})=>{if(t.button>2){console.warn("MouseInput: Unsupported mouse button",t.button);return}t.stopPropagation();let n=xt(this,Nr,n0).call(this,t),i=xt(this,Nr,i0).call(this,{viewport:e,x:n.x,y:n.y});x(this,da)._sendInput({input_state:{input_operation:["lbutton_up","mbutton_up","rbutton_up"][t.button],input_data:i}})});V(this,$0,({viewport:e,event:t})=>{t.stopPropagation();let n=xt(this,Nr,n0).call(this,t),i=xt(this,Nr,i0).call(this,{viewport:e,x:n.x,y:n.y});x(this,da)._sendInput({input_state:{input_operation:"mouse_move",input_data:i}})});V(this,H0,()=>{let e=Array.from(x(this,pa).values());ut(this,xf,e.some(t=>document.pointerLockElement===t.dom_element))});ut(this,da,e),typeof document<"u"&&document.addEventListener("pointerlockchange",x(this,H0))}enableOnViewport({viewport:e}){let t=x(this,pa).get(e);if(t){t.ref_count++;return}let n=e.dom_element,i=new AbortController;n.addEventListener("mousedown",r=>x(this,j0).call(this,{viewport:e,event:r}),{signal:i.signal}),n.addEventListener("mouseup",r=>x(this,V0).call(this,{viewport:e,event:r}),{signal:i.signal}),n.addEventListener("mousemove",r=>x(this,$0).call(this,{viewport:e,event:r}),{signal:i.signal}),x(this,pa).set(e,{dom_element:n,abort_controller:i,ref_count:1})}disableFromViewport({viewport:e}){let t=x(this,pa).get(e);if(!t){console.warn("Attempt to release mouse on a viewport that is not set up",e);return}--t.ref_count>0||(t.abort_controller.abort(),x(this,pa).delete(e))}},da=new WeakMap,xf=new WeakMap,ma=new WeakMap,pa=new WeakMap,j0=new WeakMap,V0=new WeakMap,$0=new WeakMap,Nr=new WeakSet,n0=function(e){let t=e;return x(this,xf)?(x(this,ma).x+=t.movementX,x(this,ma).y+=t.movementY):(x(this,ma).x=t.clientX,x(this,ma).y=t.clientY),x(this,ma)},H0=new WeakMap,i0=function({viewport:e,x:t,y:n,bufferSize:i=8}){let r=new ArrayBuffer(i),a=new DataView(r),[l,u]=x(this,da)._projectViewportPositionOnRemoteFrame({viewport:e,position:[t,n]});return a.setFloat32(0,l,!0),a.setFloat32(4,u,!0),new Uint8Array(r)},RA),wo,bf,wf,Au,Vo,Gg,K4,OA,o7=(OA=class{constructor(e){V(this,Vo);V(this,wo);V(this,bf,e=>{e.preventDefault();let t=xt(this,Vo,Gg).call(this,e);x(this,wo)._sendInput({input_state:{input_operation:"on_key_down",input_data:t}})});V(this,wf,e=>{e.preventDefault();let t=xt(this,Vo,Gg).call(this,e);x(this,wo)._sendInput({input_state:{input_operation:"on_key_up",input_data:t}})});V(this,Au,()=>{x(this,wo)._sendInput({input_state:{input_operation:"reset"}})});ut(this,wo,e)}enable(){window.addEventListener("keydown",x(this,bf)),window.addEventListener("keyup",x(this,wf)),window.addEventListener("blur",x(this,Au))}disable(){window.removeEventListener("keydown",x(this,bf)),window.removeEventListener("keyup",x(this,wf)),window.removeEventListener("blur",x(this,Au)),x(this,Au).call(this)}},wo=new WeakMap,bf=new WeakMap,wf=new WeakMap,Au=new WeakMap,Vo=new WeakSet,Gg=function(e){let t=xt(this,Vo,K4).call(this,e),n=new Uint8Array(4);return n[0]=t&255,n[1]=t>>8&255,n[2]=t>>16&255,n[3]=t>>24&255,n},K4=function(e){let{code:t,key:n}=e;if(!(t!=null&&t.startsWith("Key")))return e.keyCode;let i=t[t.length-1];return i!==n?i.charCodeAt(0):e.keyCode},OA),Cu,Eo,I0,q0,nr,_a,cc,Q4,W4,zA,l7=(zA=class{constructor(){V(this,cc);V(this,Cu,2);V(this,Eo,44100);V(this,I0,32);V(this,q0,1);V(this,nr);V(this,_a,0);ut(this,nr,new AudioContext({sampleRate:x(this,Eo),latencyHint:"interactive"})),ut(this,_a,x(this,nr).currentTime)}release(){x(this,nr).close()}playAudioPacket({packet:e}){let t=new Float32Array(e.buffer,e.byteOffset),n=e.byteLength/(x(this,I0)/8*x(this,Cu));xt(this,cc,Q4).call(this,{samples:t,sample_count:n})}},Cu=new WeakMap,Eo=new WeakMap,I0=new WeakMap,q0=new WeakMap,nr=new WeakMap,_a=new WeakMap,cc=new WeakSet,Q4=function({samples:e,sample_count:t}){let n=x(this,nr).createBufferSource();n.buffer=xt(this,cc,W4).call(this,{samples:e,sample_count:t}),n.connect(x(this,nr).destination),x(this,_a)<=x(this,nr).currentTime&&ut(this,_a,.1+x(this,nr).currentTime+t/x(this,Eo)),n.start(x(this,_a)),ut(this,_a,x(this,_a)+t/x(this,Eo))},W4=function({samples:e,sample_count:t}){let n=x(this,nr).createBuffer(x(this,Cu),t,x(this,Eo));for(let i=0;i<x(this,Cu);i++){let r=n.getChannelData(i);for(let a=0;a<t;a++)r[a]=e[i*t+a]*x(this,q0)}return n},zA),u7=[4,8,16,32,1024,2048,0,0,2,1,4096,8192,64,128,256,512],sn={LeftThumbstickX:0,LeftThumbstickY:1,RightThumbstickX:2,RightThumbstickY:3,LeftTrigger:4,RightTrigger:5},oT={Left:[sn.LeftThumbstickX,sn.LeftThumbstickY],Right:[sn.RightThumbstickX,sn.RightThumbstickY]},lT=({currentReading:e,button:t,isPressed:n})=>{let i=u7[t];return e&~i|-Number(n)&i},Ru,Ou,Gn,Oa,tC,r0,DA,J4=(DA=class{constructor({instance:t,index:n}){V(this,Oa);V(this,Ru);V(this,Ou);V(this,Gn,{buttons:0,axes:{[sn.LeftThumbstickX]:0,[sn.LeftThumbstickY]:0,[sn.RightThumbstickX]:0,[sn.RightThumbstickY]:0,[sn.LeftTrigger]:0,[sn.RightTrigger]:0}});H(this,"setAxis",({axis:t,value:n})=>{x(this,Gn).axes[t]!=n&&(x(this,Gn).axes[t]=n,xt(this,Oa,tC).call(this,{axis:t}))});H(this,"setJoystick",({joystick:t,value:n})=>{this.setAxis({axis:t[0],value:n[0]}),this.setAxis({axis:t[1],value:n[1]})});H(this,"setButton",({button:t,isPressed:n})=>{let i=lT({currentReading:x(this,Gn).buttons,button:t,isPressed:n});i!=x(this,Gn).buttons&&(x(this,Gn).buttons=i,xt(this,Oa,r0).call(this))});H(this,"setButtons",({buttons:t})=>{let n=x(this,Gn).buttons;for(let i=0;i<t.length;i++){let r=t[i];n=lT({currentReading:n,button:i,isPressed:r})}x(this,Gn).buttons!=n&&(x(this,Gn).buttons=n,xt(this,Oa,r0).call(this))});H(this,"resetInput",()=>{this.setAxis({axis:sn.LeftThumbstickX,value:0}),this.setAxis({axis:sn.LeftThumbstickY,value:0}),this.setAxis({axis:sn.RightThumbstickX,value:0}),this.setAxis({axis:sn.RightThumbstickY,value:0}),this.setAxis({axis:sn.LeftTrigger,value:0}),this.setAxis({axis:sn.RightTrigger,value:0}),x(this,Gn).buttons=0,xt(this,Oa,r0).call(this)});ut(this,Ru,t),ut(this,Ou,n)}},Ru=new WeakMap,Ou=new WeakMap,Gn=new WeakMap,Oa=new WeakSet,tC=function({axis:t}){let n=new ArrayBuffer(6),i=new DataView(n);i.setUint8(0,x(this,Ou)),i.setUint8(1,t),i.setFloat32(2,x(this,Gn).axes[t],!0),x(this,Ru)._sendInput({input_state:{input_operation:"gamepad_axis",input_data:new Uint8Array(n)}})},r0=function(){let t=new ArrayBuffer(5),n=new DataView(t);n.setUint8(0,x(this,Ou)),n.setUint16(1,x(this,Gn).buttons,!0),x(this,Ru)._sendInput({input_state:{input_operation:"gamepad_buttons",input_data:new Uint8Array(t)}})},DA),G0,ya,ir,Ef,Tf,Y0,zu,Du,LA,uT=(LA=class{constructor({instance:t,index:n,physicalIndex:i}){V(this,G0,1e3/60);V(this,ya,null);V(this,ir);V(this,Ef);V(this,Tf,()=>{x(this,zu).call(this)});V(this,Y0,()=>{let t=navigator.getGamepads()[x(this,Ef)];if(!t||!window.document.hasFocus()){x(this,Du).call(this),x(this,ir).resetInput();return}let n=t.buttons.map(i=>i.pressed);x(this,ir).setButtons({buttons:n}),x(this,ir).setJoystick({joystick:oT.Left,value:[-t.axes[0],t.axes[1]]}),x(this,ir).setJoystick({joystick:oT.Right,value:[-t.axes[2],t.axes[3]]}),x(this,ir).setAxis({axis:sn.LeftTrigger,value:t.buttons[6].value}),x(this,ir).setAxis({axis:sn.RightTrigger,value:t.buttons[7].value}),x(this,zu).call(this)});V(this,zu,()=>{x(this,Du).call(this),ut(this,ya,setTimeout(()=>{x(this,Y0).call(this),ut(this,ya,null)},x(this,G0)))});V(this,Du,()=>{x(this,ya)&&(clearTimeout(x(this,ya)),ut(this,ya,null))});ut(this,ir,new J4({instance:t,index:n})),ut(this,Ef,i)}enable(){window.addEventListener("focus",x(this,Tf)),window.document.hasFocus()&&x(this,zu).call(this)}disable(){x(this,Du).call(this),x(this,ir).resetInput(),window.removeEventListener("focus",x(this,Tf))}},G0=new WeakMap,ya=new WeakMap,ir=new WeakMap,Ef=new WeakMap,Tf=new WeakMap,Y0=new WeakMap,zu=new WeakMap,Du=new WeakMap,LA),To,gi,Mf,Sf,UA,c7=(UA=class{constructor({instance:e}){V(this,To);V(this,gi,[]);V(this,Mf,e=>{let t=e.gamepad,n=t.index;t&&t.connected&&(x(this,gi)[n]=new uT({instance:x(this,To),index:0,physicalIndex:t.index}),x(this,gi)[n].enable())});V(this,Sf,e=>{let t=e.gamepad.index;x(this,gi)[t]&&(x(this,gi)[t].disable(),x(this,gi)[t]=null)});ut(this,To,e)}enable(){let e=navigator.getGamepads();ut(this,gi,Array(e.length).fill(null));for(let t=0;t<e.length;t++){let n=e[t];n&&n.connected&&(x(this,gi)[t]=new uT({instance:x(this,To),index:0,physicalIndex:t}),x(this,gi)[t].enable())}window.addEventListener("gamepadconnected",x(this,Mf)),window.addEventListener("gamepaddisconnected",x(this,Sf))}disable(){window.removeEventListener("gamepadconnected",x(this,Mf)),window.removeEventListener("gamepaddisconnected",x(this,Sf));for(let e of x(this,gi))e&&e.disable();ut(this,gi,[])}createVirtualGamepad(){return new J4({instance:x(this,To),index:0})}},To=new WeakMap,gi=new WeakMap,Mf=new WeakMap,Sf=new WeakMap,UA),lr,Ht,ga,Dn,va,Af,Cf,Rf,Of,Lu,Uu,Br,eC,nC,iC,zf,Df,Lf,rC,xa,Nu,ji=(lr=class{constructor({session:t}){V(this,Br);H(this,"session");H(this,"scene");V(this,Ht);V(this,ga,null);V(this,Dn,new Z6(this));V(this,va,null);V(this,Af,new l7);V(this,Cf);V(this,Rf);V(this,Of);V(this,Lu,null);V(this,Uu,null);V(this,zf,({encoded_frame:t,meta_data:n})=>{this.session._updateClients({core:this,client_data:n.clients});let i=X6({raw_frame_meta_data:n,client_id:this.session.client_id,entity_registry:this.scene._entity_registry,viewports:this.viewports});x(this,va).consumeEncodedFrame({encoded_frame:{video_stream:t,meta_data:i}})});V(this,Df,({packet:t})=>{x(this,Af).playAudioPacket({packet:t})});V(this,Lf,({updated_entities:t})=>{for(let{entity_euid:n,updated_components:i}of t)this.scene._updateEntityFromEvent({entity_euid:n,updated_components:i})});V(this,xa,null);V(this,Nu,null);this.session=t,ut(this,Ht,new nT.Core),this.scene=new JL(x(this,Ht)),ut(this,Cf,new a7(this)),ut(this,Rf,new o7(this)),ut(this,Of,new c7({instance:this}))}static async start({scene_id:t,token:n,is_transient:i}){let r=await y0.create({scene_id:t,token:n,is_transient:i});return await lr.join({session:r})}static async join_or_start({scene_id:t,token:n,session_selector:i=({sessions:a})=>a[0],is_transient:r}){let a=await y0.find({scene_id:t,token:n,session_selector:i});if(a===null)return await lr.start({scene_id:t,token:n,is_transient:r});try{return await lr.join({session:a})}catch{return console.error(`Failed to join session '${a.session_id}', trying again with another session.`),await lr.join_or_start({scene_id:t,token:n,session_selector:({sessions:l})=>(l=l.filter(u=>u.session_id!==a.session_id),l.length===0?null:i({sessions:l}))})}}static async join({session:t}){var n;return await nT.load(),xt(n=new lr({session:t}),Br,eC).call(n)}get default_decoded_frame_consumer(){return x(this,Dn)}get activity_watcher(){return x(this,Ht).activity_watcher}get latency(){return x(this,Ht).latency}get viewports(){return x(this,Dn).viewports}async disconnect(){xt(this,Br,iC).call(this),x(this,Lu)&&clearInterval(x(this,Lu)),x(this,Uu)&&clearInterval(x(this,Uu)),x(this,va)!==null&&x(this,va).release(),x(this,Dn).release(),x(this,Af).release(),await x(this,Ht).disconnect()}addViewports({viewports:t}){x(this,Dn).addViewports({viewports:t}),this.session._dispatchEvent(new t7({viewports:t}))}removeViewport({viewport:t}){x(this,Dn).removeViewport({viewport:t})}async configureRemoteServer({codec:t="h264"}){let n={remote_canvas_size:x(this,Dn)._computeRemoteCanvasSize({codec:t}),encoder_config:{codec:t,profile:"main",frame_rate:60,lossy:!0},supported_devices:{keyboard:!0,mouse:!0,gamepad:!0,hololens:!1,touchscreen:!1}};x(this,Dn).dimensions;let i=await x(this,Ht).configureClient({client_config:n});return ut(this,ga,i.codec),i}isConfigured(){return x(this,ga)!==null}async setEncodedFrameConsumer({encoded_frame_consumer:t}){if(x(this,ga)===null)throw new Error("Client not configured.");ut(this,va,await t.configure({codec:x(this,ga),frame_dimensions:x(this,Dn).dimensions}))}startStreaming(){if(!this.isConfigured())throw new Error("The Livelink instance is not configured yet");x(this,Dn).init(),x(this,Ht).resume(),xt(this,Br,rC).call(this,{})}startSimulation(){x(this,Ht).setSimulationState({state:"start_simulation"})}pauseSimulation(){x(this,Ht).setSimulationState({state:"pause_simulation"})}stopSimulation(){x(this,Ht).setSimulationState({state:"stop_simulation"})}sendSkeletonPose({controller:t,partial_pose:n}){x(this,Ht).sendSkeletonPose({controller_rtid:t.rtid,partial_pose:n})}get devices(){return{mouse:x(this,Cf),keyboard:x(this,Rf),gamepads_registry:x(this,Of)}}async configureHeadlessClient(){let t={remote_canvas_size:[256,256],encoder_config:{codec:"h264",profile:"main",frame_rate:30,lossy:!0},supported_devices:{keyboard:!0,mouse:!1,gamepad:!1,hololens:!1,touchscreen:!1}},n=await x(this,Ht).configureClient({client_config:t});return ut(this,ga,n.codec),n}_sendInput({input_state:t}){x(this,Ht).sendInputState({input_state:t})}async _resize({size:t}){var i;let{size:n}=await x(this,Ht).resize({size:t});(i=x(this,va))==null||i.resize({frame_dimensions:n})}_setViewports({viewport_configs:t}){x(this,Ht).setViewports({viewport_configs:t})}async _castScreenSpaceRay({screenSpaceRayQuery:t}){return x(this,Ht).castScreenSpaceRay({screenSpaceRayQuery:t})}_refreshViewports(){x(this,xa)||(x(this,Nu)!==null&&clearTimeout(x(this,Nu)),ut(this,Nu,setTimeout(()=>{x(this,Dn).init()},0)))}_projectViewportPositionOnRemoteFrame({viewport:t,position:n}){let i=x(this,Dn).width,r=x(this,Dn).height,a=t._getScreenPosition({position:n}),l=[t.rendering_surface.relative_rect.left*i,t.rendering_surface.relative_rect.top*r],u=[l[0]+t.offset[0],l[1]+t.offset[1]];return[(u[0]+a[0]*t.width)/i,(u[1]+a[1]*t.height)/r]}TO_REMOVE__setReadyCallback(t){ut(this,xa,t)}TO_REMOVE__startIfReady(){this.isConfigured()&&(this.viewports.some(t=>!t.TO_REMOVE__ready)||x(this,xa)&&(x(this,xa).call(this),ut(this,xa,null)))}},Ht=new WeakMap,ga=new WeakMap,Dn=new WeakMap,va=new WeakMap,Af=new WeakMap,Cf=new WeakMap,Rf=new WeakMap,Of=new WeakMap,Lu=new WeakMap,Uu=new WeakMap,Br=new WeakSet,eC=async function(){return await this.session.registerClient(),await x(this,Ht).connect({session:this.session}),xt(this,Br,nC).call(this),this},nC=function(){x(this,Ht).addEventListener("on-disconnected",this.session._onDisconnected),x(this,Ht).addEventListener("on-inactivity-warning",this.session._onInactivityWarning),x(this,Ht).addEventListener("on-activity-detected",this.session._onActivityDetected),x(this,Ht).addEventListener("on-frame-received",x(this,zf)),x(this,Ht).addEventListener("on-audio-received",x(this,Df)),x(this,Ht).addEventListener("on-entities-updated",x(this,Lf)),x(this,Ht).addEventListener("on-entity-visibility-changed",this.scene._onEntityVisibilityChanged),x(this,Ht).addEventListener("on-script-event-received",this.scene._onScriptEventReceived)},iC=function(){x(this,Ht).removeEventListener("on-disconnected",this.session._onDisconnected),x(this,Ht).removeEventListener("on-inactivity-warning",this.session._onInactivityWarning),x(this,Ht).removeEventListener("on-activity-detected",this.session._onActivityDetected),x(this,Ht).removeEventListener("on-frame-received",x(this,zf)),x(this,Ht).removeEventListener("on-audio-received",x(this,Df)),x(this,Ht).removeEventListener("on-entities-updated",x(this,Lf)),x(this,Ht).removeEventListener("on-entity-visibility-changed",this.scene._onEntityVisibilityChanged),x(this,Ht).removeEventListener("on-script-event-received",this.scene._onScriptEventReceived)},zf=new WeakMap,Df=new WeakMap,Lf=new WeakMap,rC=function({updatesPerSecond:t=30,broadcastsPerSecond:n=1}){ut(this,Lu,setInterval(()=>{let i=this.scene._entity_registry._getEntitiesToUpdate();i.length>0&&x(this,Ht).updateEntities({update_commands:i,persist:!1})},1e3/t)),ut(this,Uu,setInterval(()=>{let i=this.scene._entity_registry._getEntitiesToPersist();i.length>0&&x(this,Ht).updateEntities({update_commands:i,persist:!0})},1e3/n))},xa=new WeakMap,Nu=new WeakMap,H(lr,"_api_url","https://api.3dverse.com/app/v1"),lr),h7=class extends Event{constructor({hovered_entity:t,ws_position:n,ws_normal:i}){super("on-entity-hovered");H(this,"hovered_entity");H(this,"ws_position");H(this,"ws_normal");this.hovered_entity=t,this.ws_position=n,this.ws_normal=i}},f7=class extends Event{constructor({picked_entity:t,ws_position:n,ws_normal:i}){super("on-entity-picked");H(this,"picked_entity");H(this,"ws_position");H(this,"ws_normal");this.picked_entity=t,this.ws_position=n,this.ws_normal=i}},X0,aC,Ke,Uf,vr,ku,xr,Pu,br,Bu,Mo,So,Nf,kf,NA,sC=(NA=class extends sc{constructor({core:n,rendering_surface:i,options:r}){super();V(this,X0);H(this,"TO_REMOVE__ready",!1);V(this,Ke);V(this,Uf);V(this,vr,[]);V(this,ku,null);V(this,xr,null);V(this,Pu,0);V(this,br);V(this,Bu,-1);V(this,Mo,!1);V(this,So,!1);H(this,"is_camera_controlled_by_current_client",!1);V(this,Nf,async n=>{var a;n.stopPropagation();let i=null,r=(a=x(this,Ke).session.current_client)==null?void 0:a._cursor_data;if(r){let l=await x(this,Ke).scene._findEntity({entity_rtid:r.hovered_entity_rtid});l&&(i={entity:l,ws_position:r.hovered_ws_position,ws_normal:r.hovered_ws_normal})}this._dispatchEvent(new f7({picked_entity:(i==null?void 0:i.entity)??null,ws_position:(i==null?void 0:i.ws_position)??null,ws_normal:(i==null?void 0:i.ws_normal)??null}))});V(this,kf,async()=>{var r;let n=null,i=(r=x(this,Ke).session.current_client)==null?void 0:r._cursor_data;if(i){let a=await x(this,Ke).scene._findEntity({entity_rtid:i.hovered_entity_rtid});a&&(n={entity:a,ws_position:i.hovered_ws_position,ws_normal:i.hovered_ws_normal})}this._dispatchEvent(new h7({hovered_entity:(n==null?void 0:n.entity)??null,ws_position:(n==null?void 0:n.ws_position)??null,ws_normal:(n==null?void 0:n.ws_normal)??null}))});ut(this,Ke,n),ut(this,Uf,i),ut(this,br,new Ts((r==null?void 0:r.rect)??{left:0,top:0,width:1,height:1})),ut(this,Bu,(r==null?void 0:r.render_target_index)??-1),ut(this,Pu,(r==null?void 0:r.z_index)??0),ut(this,ku,(r==null?void 0:r.dom_element)??null)}get rendering_surface(){return x(this,Uf)}get camera_projection(){return x(this,xr)}get width(){return x(this,br).width*this.rendering_surface.width}get height(){return x(this,br).height*this.rendering_surface.height}get offset(){return[x(this,br).left*this.rendering_surface.width,x(this,br).top*this.rendering_surface.height]}get aspect_ratio(){return this.height>0?this.width/this.height:1}get z_index(){return x(this,Pu)}get render_target_index(){return x(this,Bu)}get relative_rect(){return x(this,br)}get dom_element(){if(!x(this,ku))throw new Error("No DOM element set on viewport");return x(this,ku)}get overlay_dom_elements(){return x(this,vr).map(n=>n.container).filter(Boolean)}set z_index(n){ut(this,Pu,n),x(this,Ke)._refreshViewports()}set relative_rect(n){ut(this,br,n),x(this,Ke)._refreshViewports()}set camera_projection(n){ut(this,xr,n),x(this,Ke)._refreshViewports(),xt(this,X0,aC).call(this)}set render_target_index(n){ut(this,Bu,n),x(this,Ke)._refreshViewports()}isValid(){return x(this,xr)!==null}release(){this.deactivatePicking(),this.deactivateHovering()}activatePicking(){x(this,Mo)||(this.dom_element.addEventListener("click",x(this,Nf)),x(this,Ke).devices.mouse.enableOnViewport({viewport:this}),ut(this,Mo,!0))}deactivatePicking(){x(this,Mo)&&(this.dom_element.removeEventListener("click",x(this,Nf)),x(this,Ke).devices.mouse.disableFromViewport({viewport:this}),ut(this,Mo,!1))}activateHovering(){x(this,So)||(this.dom_element.addEventListener("pointermove",x(this,kf)),x(this,Ke).devices.mouse.enableOnViewport({viewport:this}),ut(this,So,!0))}deactivateHovering(){x(this,So)&&(this.dom_element.removeEventListener("pointermove",x(this,kf)),x(this,Ke).devices.mouse.disableFromViewport({viewport:this}),ut(this,So,!1))}async castScreenSpaceRay({screen_position:n,mode:i="None"}){if(!x(this,xr))return null;let r=await x(this,Ke)._castScreenSpaceRay({screenSpaceRayQuery:{camera_rtid:x(this,xr).camera_entity.rtid,pos:n,mode:i}});if(r.entity_rtid===null)return null;let a=await x(this,Ke).scene._findEntity({entity_rtid:r.entity_rtid});return a===null?null:{entity:a,world_position:r.position,world_normal:r.normal}}projectWorldToScreen({world_position:n,out_screen_position:i=Dt.create()}){if(!x(this,xr))throw new Error("No camera set on viewport");let r=x(this,xr).projectWorldToClip({world_position:n,out_clip_position:i}),a=r;return a[0]=(r[0]+1)*this.width*.5,a[1]=(-r[1]+1)*this.height*.5,a}addOverlay({overlay:n}){if(x(this,vr).includes(n)){console.warn("Attempting to add an overlay that is already present",n);return}x(this,vr).push(n),this.rendering_surface.redrawLastFrame()}removeOverlay({overlay:n}){n.release();let i=x(this,vr).indexOf(n);if(i===-1){console.warn("Attempting to remove an overlay that is not present",n);return}x(this,vr).splice(i,1),this.rendering_surface.redrawLastFrame()}_drawOverlays(){let n=null;for(let i of x(this,vr)){let r=i.draw({output_canvas:n});n||(n=r)}return n}_onResize(){var n;(n=this.camera_projection)==null||n.updateProjectionMatrix();for(let i of x(this,vr))i.resize({width:this.width,height:this.height})}getScreenPositionFromEvent({event:n}){return this._getScreenPosition({position:[n.clientX,n.clientY]})}_getScreenPosition({position:n}){let i=this.dom_element.getBoundingClientRect(),r=(n[0]-i.left)/i.width,a=(n[1]-i.top)/i.height;return[r,a]}},X0=new WeakSet,aC=function(){this.TO_REMOVE__ready=!0,x(this,Ke).TO_REMOVE__startIfReady()},Ke=new WeakMap,Uf=new WeakMap,vr=new WeakMap,ku=new WeakMap,xr=new WeakMap,Pu=new WeakMap,br=new WeakMap,Bu=new WeakMap,Mo=new WeakMap,So=new WeakMap,Nf=new WeakMap,kf=new WeakMap,NA),jh=class oC{constructor(t=0,n=0){oC.prototype.isVector2=!0,this.x=t,this.y=n}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,n){return this.x=t,this.y=n,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){let n=this.x,i=this.y,r=t.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this}clampLength(t,n){let i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){let n=this.x-t.x,i=this.y-t.y;return n*n+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this}lerpVectors(t,n,i){return this.x=t.x+(n.x-t.x)*i,this.y=t.y+(n.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t}rotateAround(t,n){let i=Math.cos(n),r=Math.sin(n),a=this.x-t.x,l=this.y-t.y;return this.x=a*i-l*r+t.x,this.y=a*r+l*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}};function tv(e,t,n){return Math.max(t,Math.min(n,e))}var mc=class{constructor(t=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=t,this._y=n,this._z=i,this._w=r}static slerpFlat(t,n,i,r,a,l,u){let h=i[r+0],f=i[r+1],d=i[r+2],p=i[r+3],y=a[l+0],_=a[l+1],v=a[l+2],w=a[l+3];if(u===0){t[n+0]=h,t[n+1]=f,t[n+2]=d,t[n+3]=p;return}if(u===1){t[n+0]=y,t[n+1]=_,t[n+2]=v,t[n+3]=w;return}if(p!==w||h!==y||f!==_||d!==v){let E=1-u,M=h*y+f*_+d*v+p*w,R=M>=0?1:-1,z=1-M*M;if(z>Number.EPSILON){let C=Math.sqrt(z),N=Math.atan2(C,M*R);E=Math.sin(E*N)/C,u=Math.sin(u*N)/C}let D=u*R;if(h=h*E+y*D,f=f*E+_*D,d=d*E+v*D,p=p*E+w*D,E===1-u){let C=1/Math.sqrt(h*h+f*f+d*d+p*p);h*=C,f*=C,d*=C,p*=C}}t[n]=h,t[n+1]=f,t[n+2]=d,t[n+3]=p}static multiplyQuaternionsFlat(t,n,i,r,a,l){let u=i[r],h=i[r+1],f=i[r+2],d=i[r+3],p=a[l],y=a[l+1],_=a[l+2],v=a[l+3];return t[n]=u*v+d*p+h*_-f*y,t[n+1]=h*v+d*y+f*p-u*_,t[n+2]=f*v+d*_+u*y-h*p,t[n+3]=d*v-u*p-h*y-f*_,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,n,i,r){return this._x=t,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,n){let i=t._x,r=t._y,a=t._z,l=t._order,u=Math.cos,h=Math.sin,f=u(i/2),d=u(r/2),p=u(a/2),y=h(i/2),_=h(r/2),v=h(a/2);switch(l){case"XYZ":this._x=y*d*p+f*_*v,this._y=f*_*p-y*d*v,this._z=f*d*v+y*_*p,this._w=f*d*p-y*_*v;break;case"YXZ":this._x=y*d*p+f*_*v,this._y=f*_*p-y*d*v,this._z=f*d*v-y*_*p,this._w=f*d*p+y*_*v;break;case"ZXY":this._x=y*d*p-f*_*v,this._y=f*_*p+y*d*v,this._z=f*d*v+y*_*p,this._w=f*d*p-y*_*v;break;case"ZYX":this._x=y*d*p-f*_*v,this._y=f*_*p+y*d*v,this._z=f*d*v-y*_*p,this._w=f*d*p+y*_*v;break;case"YZX":this._x=y*d*p+f*_*v,this._y=f*_*p+y*d*v,this._z=f*d*v-y*_*p,this._w=f*d*p-y*_*v;break;case"XZY":this._x=y*d*p-f*_*v,this._y=f*_*p-y*d*v,this._z=f*d*v+y*_*p,this._w=f*d*p+y*_*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,n){let i=n/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){let n=t.elements,i=n[0],r=n[4],a=n[8],l=n[1],u=n[5],h=n[9],f=n[2],d=n[6],p=n[10],y=i+u+p;if(y>0){let _=.5/Math.sqrt(y+1);this._w=.25/_,this._x=(d-h)*_,this._y=(a-f)*_,this._z=(l-r)*_}else if(i>u&&i>p){let _=2*Math.sqrt(1+i-u-p);this._w=(d-h)/_,this._x=.25*_,this._y=(r+l)/_,this._z=(a+f)/_}else if(u>p){let _=2*Math.sqrt(1+u-i-p);this._w=(a-f)/_,this._x=(r+l)/_,this._y=.25*_,this._z=(h+d)/_}else{let _=2*Math.sqrt(1+p-i-u);this._w=(l-r)/_,this._x=(a+f)/_,this._y=(h+d)/_,this._z=.25*_}return this._onChangeCallback(),this}setFromUnitVectors(t,n){let i=t.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*n.z-t.z*n.y,this._y=t.z*n.x-t.x*n.z,this._z=t.x*n.y-t.y*n.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(tv(this.dot(t),-1,1)))}rotateTowards(t,n){let i=this.angleTo(t);if(i===0)return this;let r=Math.min(1,n/i);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,n){let i=t._x,r=t._y,a=t._z,l=t._w,u=n._x,h=n._y,f=n._z,d=n._w;return this._x=i*d+l*u+r*f-a*h,this._y=r*d+l*h+a*u-i*f,this._z=a*d+l*f+i*h-r*u,this._w=l*d-i*u-r*h-a*f,this._onChangeCallback(),this}slerp(t,n){if(n===0)return this;if(n===1)return this.copy(t);let i=this._x,r=this._y,a=this._z,l=this._w,u=l*t._w+i*t._x+r*t._y+a*t._z;if(u<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,u=-u):this.copy(t),u>=1)return this._w=l,this._x=i,this._y=r,this._z=a,this;let h=1-u*u;if(h<=Number.EPSILON){let _=1-n;return this._w=_*l+n*this._w,this._x=_*i+n*this._x,this._y=_*r+n*this._y,this._z=_*a+n*this._z,this.normalize(),this._onChangeCallback(),this}let f=Math.sqrt(h),d=Math.atan2(f,u),p=Math.sin((1-n)*d)/f,y=Math.sin(n*d)/f;return this._w=l*p+this._w*y,this._x=i*p+this._x*y,this._y=r*p+this._y*y,this._z=a*p+this._z*y,this._onChangeCallback(),this}slerpQuaternions(t,n,i){return this.copy(t).slerp(n,i)}random(){let t=Math.random(),n=Math.sqrt(1-t),i=Math.sqrt(t),r=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(n*Math.cos(r),i*Math.sin(a),i*Math.cos(a),n*Math.sin(r))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,n=0){return this._x=t[n],this._y=t[n+1],this._z=t[n+2],this._w=t[n+3],this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._w,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},Tt=class lC{constructor(t=0,n=0,i=0){lC.prototype.isVector3=!0,this.x=t,this.y=n,this.z=i}set(t,n,i){return i===void 0&&(i=this.z),this.x=t,this.y=n,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,n){return this.x=t.x*n.x,this.y=t.y*n.y,this.z=t.z*n.z,this}applyEuler(t){return this.applyQuaternion(cT.setFromEuler(t))}applyAxisAngle(t,n){return this.applyQuaternion(cT.setFromAxisAngle(t,n))}applyMatrix3(t){let n=this.x,i=this.y,r=this.z,a=t.elements;return this.x=a[0]*n+a[3]*i+a[6]*r,this.y=a[1]*n+a[4]*i+a[7]*r,this.z=a[2]*n+a[5]*i+a[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){let n=this.x,i=this.y,r=this.z,a=t.elements,l=1/(a[3]*n+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*n+a[4]*i+a[8]*r+a[12])*l,this.y=(a[1]*n+a[5]*i+a[9]*r+a[13])*l,this.z=(a[2]*n+a[6]*i+a[10]*r+a[14])*l,this}applyQuaternion(t){let n=this.x,i=this.y,r=this.z,a=t.x,l=t.y,u=t.z,h=t.w,f=h*n+l*r-u*i,d=h*i+u*n-a*r,p=h*r+a*i-l*n,y=-a*n-l*i-u*r;return this.x=f*h+y*-a+d*-u-p*-l,this.y=d*h+y*-l+p*-a-f*-u,this.z=p*h+y*-u+f*-l-d*-a,this}transformDirection(t){let n=this.x,i=this.y,r=this.z,a=t.elements;return this.x=a[0]*n+a[4]*i+a[8]*r,this.y=a[1]*n+a[5]*i+a[9]*r,this.z=a[2]*n+a[6]*i+a[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this}clampLength(t,n){let i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this}lerpVectors(t,n,i){return this.x=t.x+(n.x-t.x)*i,this.y=t.y+(n.y-t.y)*i,this.z=t.z+(n.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,n){let i=t.x,r=t.y,a=t.z,l=n.x,u=n.y,h=n.z;return this.x=r*h-a*u,this.y=a*l-i*h,this.z=i*u-r*l,this}projectOnVector(t){let n=t.lengthSq();if(n===0)return this.set(0,0,0);let i=t.dot(this)/n;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return Fy.copy(this).projectOnVector(t),this.sub(Fy)}reflect(t){return this.sub(Fy.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){let n=Math.sqrt(this.lengthSq()*t.lengthSq());if(n===0)return Math.PI/2;let i=this.dot(t)/n;return Math.acos(tv(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){let n=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return n*n+i*i+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,n,i){let r=Math.sin(n)*t;return this.x=r*Math.sin(i),this.y=Math.cos(n)*t,this.z=r*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,n,i){return this.x=t*Math.sin(n),this.y=i,this.z=t*Math.cos(n),this}setFromMatrixPosition(t){let n=t.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(t){let n=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(t,n){return this.fromArray(t.elements,n*4)}setFromMatrix3Column(t,n){return this.fromArray(t.elements,n*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let t=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,i=Math.sqrt(1-t**2);return this.x=i*Math.cos(n),this.y=i*Math.sin(n),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},Fy=new Tt,cT=new mc,uC=class{constructor(t=new Tt(1/0,1/0,1/0),n=new Tt(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=n}set(t,n){return this.min.copy(t),this.max.copy(n),this}setFromArray(t){let n=1/0,i=1/0,r=1/0,a=-1/0,l=-1/0,u=-1/0;for(let h=0,f=t.length;h<f;h+=3){let d=t[h],p=t[h+1],y=t[h+2];d<n&&(n=d),p<i&&(i=p),y<r&&(r=y),d>a&&(a=d),p>l&&(l=p),y>u&&(u=y)}return this.min.set(n,i,r),this.max.set(a,l,u),this}setFromPoints(t){this.makeEmpty();for(let n=0,i=t.length;n<i;n++)this.expandByPoint(t[n]);return this}setFromCenterAndSize(t,n){let i=Ch.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,n=!1){return this.makeEmpty(),this.expandByObject(t,n)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t=new Tt){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t=new Tt){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,n){return n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,Ch),Ch.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let n,i;return t.normal.x>0?(n=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(n=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(n+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(n+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(n+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(n+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),n<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Rh),Sm.subVectors(this.max,Rh),Al.subVectors(t.a,Rh),Cl.subVectors(t.b,Rh),Rl.subVectors(t.c,Rh),ia.subVectors(Cl,Al),ra.subVectors(Rl,Cl),eo.subVectors(Al,Rl);let n=[0,-ia.z,ia.y,0,-ra.z,ra.y,0,-eo.z,eo.y,ia.z,0,-ia.x,ra.z,0,-ra.x,eo.z,0,-eo.x,-ia.y,ia.x,0,-ra.y,ra.x,0,-eo.y,eo.x,0];return!jy(n,Al,Cl,Rl,Sm)||(n=[1,0,0,0,1,0,0,0,1],!jy(n,Al,Cl,Rl,Sm))?!1:(Am.crossVectors(ia,ra),n=[Am.x,Am.y,Am.z],jy(n,Al,Cl,Rl,Sm))}clampPoint(t,n){return n.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return Ch.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=this.getSize(Ch).length()*.5,t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(as[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),as[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),as[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),as[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),as[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),as[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),as[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),as[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(as),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},as=[new Tt,new Tt,new Tt,new Tt,new Tt,new Tt,new Tt,new Tt],Ch=new Tt,Al=new Tt,Cl=new Tt,Rl=new Tt,ia=new Tt,ra=new Tt,eo=new Tt,Rh=new Tt,Sm=new Tt,Am=new Tt,no=new Tt;function jy(e,t,n,i,r){for(let a=0,l=e.length-3;a<=l;a+=3){no.fromArray(e,a);let u=r.x*Math.abs(no.x)+r.y*Math.abs(no.y)+r.z*Math.abs(no.z),h=t.dot(no),f=n.dot(no),d=i.dot(no);if(Math.max(-Math.max(h,f,d),Math.min(h,f,d))>u)return!1}return!0}var ca=class Yg{constructor(){Yg.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(t,n,i,r,a,l,u,h,f,d,p,y,_,v,w,E){let M=this.elements;return M[0]=t,M[4]=n,M[8]=i,M[12]=r,M[1]=a,M[5]=l,M[9]=u,M[13]=h,M[2]=f,M[6]=d,M[10]=p,M[14]=y,M[3]=_,M[7]=v,M[11]=w,M[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Yg().fromArray(this.elements)}copy(t){let n=this.elements,i=t.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(t){let n=this.elements,i=t.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(t){let n=t.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(t,n,i){return t.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,n,i){return this.set(t.x,n.x,i.x,0,t.y,n.y,i.y,0,t.z,n.z,i.z,0,0,0,0,1),this}extractRotation(t){let n=this.elements,i=t.elements,r=1/Ol.setFromMatrixColumn(t,0).length(),a=1/Ol.setFromMatrixColumn(t,1).length(),l=1/Ol.setFromMatrixColumn(t,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*a,n[5]=i[5]*a,n[6]=i[6]*a,n[7]=0,n[8]=i[8]*l,n[9]=i[9]*l,n[10]=i[10]*l,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(t){let n=this.elements,i=t.x,r=t.y,a=t.z,l=Math.cos(i),u=Math.sin(i),h=Math.cos(r),f=Math.sin(r),d=Math.cos(a),p=Math.sin(a);if(t.order==="XYZ"){let y=l*d,_=l*p,v=u*d,w=u*p;n[0]=h*d,n[4]=-h*p,n[8]=f,n[1]=_+v*f,n[5]=y-w*f,n[9]=-u*h,n[2]=w-y*f,n[6]=v+_*f,n[10]=l*h}else if(t.order==="YXZ"){let y=h*d,_=h*p,v=f*d,w=f*p;n[0]=y+w*u,n[4]=v*u-_,n[8]=l*f,n[1]=l*p,n[5]=l*d,n[9]=-u,n[2]=_*u-v,n[6]=w+y*u,n[10]=l*h}else if(t.order==="ZXY"){let y=h*d,_=h*p,v=f*d,w=f*p;n[0]=y-w*u,n[4]=-l*p,n[8]=v+_*u,n[1]=_+v*u,n[5]=l*d,n[9]=w-y*u,n[2]=-l*f,n[6]=u,n[10]=l*h}else if(t.order==="ZYX"){let y=l*d,_=l*p,v=u*d,w=u*p;n[0]=h*d,n[4]=v*f-_,n[8]=y*f+w,n[1]=h*p,n[5]=w*f+y,n[9]=_*f-v,n[2]=-f,n[6]=u*h,n[10]=l*h}else if(t.order==="YZX"){let y=l*h,_=l*f,v=u*h,w=u*f;n[0]=h*d,n[4]=w-y*p,n[8]=v*p+_,n[1]=p,n[5]=l*d,n[9]=-u*d,n[2]=-f*d,n[6]=_*p+v,n[10]=y-w*p}else if(t.order==="XZY"){let y=l*h,_=l*f,v=u*h,w=u*f;n[0]=h*d,n[4]=-p,n[8]=f*d,n[1]=y*p+w,n[5]=l*d,n[9]=_*p-v,n[2]=v*p-_,n[6]=u*d,n[10]=w*p+y}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(t){return this.compose(d7,t,m7)}lookAt(t,n,i){let r=this.elements;return fi.subVectors(t,n),fi.lengthSq()===0&&(fi.z=1),fi.normalize(),sa.crossVectors(i,fi),sa.lengthSq()===0&&(Math.abs(i.z)===1?fi.x+=1e-4:fi.z+=1e-4,fi.normalize(),sa.crossVectors(i,fi)),sa.normalize(),Cm.crossVectors(fi,sa),r[0]=sa.x,r[4]=Cm.x,r[8]=fi.x,r[1]=sa.y,r[5]=Cm.y,r[9]=fi.y,r[2]=sa.z,r[6]=Cm.z,r[10]=fi.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){let i=t.elements,r=n.elements,a=this.elements,l=i[0],u=i[4],h=i[8],f=i[12],d=i[1],p=i[5],y=i[9],_=i[13],v=i[2],w=i[6],E=i[10],M=i[14],R=i[3],z=i[7],D=i[11],C=i[15],N=r[0],k=r[4],$=r[8],q=r[12],X=r[1],tt=r[5],at=r[9],J=r[13],et=r[2],bt=r[6],G=r[10],nt=r[14],ft=r[3],ht=r[7],F=r[11],ot=r[15];return a[0]=l*N+u*X+h*et+f*ft,a[4]=l*k+u*tt+h*bt+f*ht,a[8]=l*$+u*at+h*G+f*F,a[12]=l*q+u*J+h*nt+f*ot,a[1]=d*N+p*X+y*et+_*ft,a[5]=d*k+p*tt+y*bt+_*ht,a[9]=d*$+p*at+y*G+_*F,a[13]=d*q+p*J+y*nt+_*ot,a[2]=v*N+w*X+E*et+M*ft,a[6]=v*k+w*tt+E*bt+M*ht,a[10]=v*$+w*at+E*G+M*F,a[14]=v*q+w*J+E*nt+M*ot,a[3]=R*N+z*X+D*et+C*ft,a[7]=R*k+z*tt+D*bt+C*ht,a[11]=R*$+z*at+D*G+C*F,a[15]=R*q+z*J+D*nt+C*ot,this}multiplyScalar(t){let n=this.elements;return n[0]*=t,n[4]*=t,n[8]*=t,n[12]*=t,n[1]*=t,n[5]*=t,n[9]*=t,n[13]*=t,n[2]*=t,n[6]*=t,n[10]*=t,n[14]*=t,n[3]*=t,n[7]*=t,n[11]*=t,n[15]*=t,this}determinant(){let t=this.elements,n=t[0],i=t[4],r=t[8],a=t[12],l=t[1],u=t[5],h=t[9],f=t[13],d=t[2],p=t[6],y=t[10],_=t[14],v=t[3],w=t[7],E=t[11],M=t[15];return v*(+a*h*p-r*f*p-a*u*y+i*f*y+r*u*_-i*h*_)+w*(+n*h*_-n*f*y+a*l*y-r*l*_+r*f*d-a*h*d)+E*(+n*f*p-n*u*_-a*l*p+i*l*_+a*u*d-i*f*d)+M*(-r*u*d-n*h*p+n*u*y+r*l*p-i*l*y+i*h*d)}transpose(){let t=this.elements,n;return n=t[1],t[1]=t[4],t[4]=n,n=t[2],t[2]=t[8],t[8]=n,n=t[6],t[6]=t[9],t[9]=n,n=t[3],t[3]=t[12],t[12]=n,n=t[7],t[7]=t[13],t[13]=n,n=t[11],t[11]=t[14],t[14]=n,this}setPosition(t,n,i){let r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=n,r[14]=i),this}invert(){let t=this.elements,n=t[0],i=t[1],r=t[2],a=t[3],l=t[4],u=t[5],h=t[6],f=t[7],d=t[8],p=t[9],y=t[10],_=t[11],v=t[12],w=t[13],E=t[14],M=t[15],R=p*E*f-w*y*f+w*h*_-u*E*_-p*h*M+u*y*M,z=v*y*f-d*E*f-v*h*_+l*E*_+d*h*M-l*y*M,D=d*w*f-v*p*f+v*u*_-l*w*_-d*u*M+l*p*M,C=v*p*h-d*w*h-v*u*y+l*w*y+d*u*E-l*p*E,N=n*R+i*z+r*D+a*C;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let k=1/N;return t[0]=R*k,t[1]=(w*y*a-p*E*a-w*r*_+i*E*_+p*r*M-i*y*M)*k,t[2]=(u*E*a-w*h*a+w*r*f-i*E*f-u*r*M+i*h*M)*k,t[3]=(p*h*a-u*y*a-p*r*f+i*y*f+u*r*_-i*h*_)*k,t[4]=z*k,t[5]=(d*E*a-v*y*a+v*r*_-n*E*_-d*r*M+n*y*M)*k,t[6]=(v*h*a-l*E*a-v*r*f+n*E*f+l*r*M-n*h*M)*k,t[7]=(l*y*a-d*h*a+d*r*f-n*y*f-l*r*_+n*h*_)*k,t[8]=D*k,t[9]=(v*p*a-d*w*a-v*i*_+n*w*_+d*i*M-n*p*M)*k,t[10]=(l*w*a-v*u*a+v*i*f-n*w*f-l*i*M+n*u*M)*k,t[11]=(d*u*a-l*p*a-d*i*f+n*p*f+l*i*_-n*u*_)*k,t[12]=C*k,t[13]=(d*w*r-v*p*r+v*i*y-n*w*y-d*i*E+n*p*E)*k,t[14]=(v*u*r-l*w*r-v*i*h+n*w*h+l*i*E-n*u*E)*k,t[15]=(l*p*r-d*u*r+d*i*h-n*p*h-l*i*y+n*u*y)*k,this}scale(t){let n=this.elements,i=t.x,r=t.y,a=t.z;return n[0]*=i,n[4]*=r,n[8]*=a,n[1]*=i,n[5]*=r,n[9]*=a,n[2]*=i,n[6]*=r,n[10]*=a,n[3]*=i,n[7]*=r,n[11]*=a,this}getMaxScaleOnAxis(){let t=this.elements,n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(t,n,i){return this.set(1,0,0,t,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(t){let n=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(t){let n=Math.cos(t),i=Math.sin(t);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(t){let n=Math.cos(t),i=Math.sin(t);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,n){let i=Math.cos(n),r=Math.sin(n),a=1-i,l=t.x,u=t.y,h=t.z,f=a*l,d=a*u;return this.set(f*l+i,f*u-r*h,f*h+r*u,0,f*u+r*h,d*u+i,d*h-r*l,0,f*h-r*u,d*h+r*l,a*h*h+i,0,0,0,0,1),this}makeScale(t,n,i){return this.set(t,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,n,i,r,a,l){return this.set(1,i,a,0,t,1,l,0,n,r,1,0,0,0,0,1),this}compose(t,n,i){let r=this.elements,a=n._x,l=n._y,u=n._z,h=n._w,f=a+a,d=l+l,p=u+u,y=a*f,_=a*d,v=a*p,w=l*d,E=l*p,M=u*p,R=h*f,z=h*d,D=h*p,C=i.x,N=i.y,k=i.z;return r[0]=(1-(w+M))*C,r[1]=(_+D)*C,r[2]=(v-z)*C,r[3]=0,r[4]=(_-D)*N,r[5]=(1-(y+M))*N,r[6]=(E+R)*N,r[7]=0,r[8]=(v+z)*k,r[9]=(E-R)*k,r[10]=(1-(y+w))*k,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,n,i){let r=this.elements,a=Ol.set(r[0],r[1],r[2]).length(),l=Ol.set(r[4],r[5],r[6]).length(),u=Ol.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),t.x=r[12],t.y=r[13],t.z=r[14],Ki.copy(this);let h=1/a,f=1/l,d=1/u;return Ki.elements[0]*=h,Ki.elements[1]*=h,Ki.elements[2]*=h,Ki.elements[4]*=f,Ki.elements[5]*=f,Ki.elements[6]*=f,Ki.elements[8]*=d,Ki.elements[9]*=d,Ki.elements[10]*=d,n.setFromRotationMatrix(Ki),i.x=a,i.y=l,i.z=u,this}makePerspective(t,n,i,r,a,l){let u=this.elements,h=2*a/(n-t),f=2*a/(i-r),d=(n+t)/(n-t),p=(i+r)/(i-r),y=-(l+a)/(l-a),_=-2*l*a/(l-a);return u[0]=h,u[4]=0,u[8]=d,u[12]=0,u[1]=0,u[5]=f,u[9]=p,u[13]=0,u[2]=0,u[6]=0,u[10]=y,u[14]=_,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(t,n,i,r,a,l){let u=this.elements,h=1/(n-t),f=1/(i-r),d=1/(l-a),p=(n+t)*h,y=(i+r)*f,_=(l+a)*d;return u[0]=2*h,u[4]=0,u[8]=0,u[12]=-p,u[1]=0,u[5]=2*f,u[9]=0,u[13]=-y,u[2]=0,u[6]=0,u[10]=-2*d,u[14]=-_,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(t){let n=this.elements,i=t.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(t,n=0){for(let i=0;i<16;i++)this.elements[i]=t[i+n];return this}toArray(t=[],n=0){let i=this.elements;return t[n]=i[0],t[n+1]=i[1],t[n+2]=i[2],t[n+3]=i[3],t[n+4]=i[4],t[n+5]=i[5],t[n+6]=i[6],t[n+7]=i[7],t[n+8]=i[8],t[n+9]=i[9],t[n+10]=i[10],t[n+11]=i[11],t[n+12]=i[12],t[n+13]=i[13],t[n+14]=i[14],t[n+15]=i[15],t}},Ol=new Tt,Ki=new ca,d7=new Tt(0,0,0),m7=new Tt(1,1,1),sa=new Tt,Cm=new Tt,fi=new Tt;new ca;var g0=class{constructor(t=1,n=0,i=0){return this.radius=t,this.phi=n,this.theta=i,this}set(t,n,i){return this.radius=t,this.phi=n,this.theta=i,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,n,i){return this.radius=Math.sqrt(t*t+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(tv(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}},p7=class cC{constructor(t=0,n=0,i=0,r=1){cC.prototype.isVector4=!0,this.x=t,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,n,i,r){return this.x=t,this.y=n,this.z=i,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this.w=t.w+n.w,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this.w+=t.w*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this.w=t.w-n.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){let n=this.x,i=this.y,r=this.z,a=this.w,l=t.elements;return this.x=l[0]*n+l[4]*i+l[8]*r+l[12]*a,this.y=l[1]*n+l[5]*i+l[9]*r+l[13]*a,this.z=l[2]*n+l[6]*i+l[10]*r+l[14]*a,this.w=l[3]*n+l[7]*i+l[11]*r+l[15]*a,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);let n=Math.sqrt(1-t.w*t.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/n,this.y=t.y/n,this.z=t.z/n),this}setAxisAngleFromRotationMatrix(t){let n,i,r,a,l=t.elements,u=l[0],h=l[4],f=l[8],d=l[1],p=l[5],y=l[9],_=l[2],v=l[6],w=l[10];if(Math.abs(h-d)<.01&&Math.abs(f-_)<.01&&Math.abs(y-v)<.01){if(Math.abs(h+d)<.1&&Math.abs(f+_)<.1&&Math.abs(y+v)<.1&&Math.abs(u+p+w-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;let M=(u+1)/2,R=(p+1)/2,z=(w+1)/2,D=(h+d)/4,C=(f+_)/4,N=(y+v)/4;return M>R&&M>z?M<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(M),r=D/i,a=C/i):R>z?R<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(R),i=D/r,a=N/r):z<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(z),i=C/a,r=N/a),this.set(i,r,a,n),this}let E=Math.sqrt((v-y)*(v-y)+(f-_)*(f-_)+(d-h)*(d-h));return Math.abs(E)<.001&&(E=1),this.x=(v-y)/E,this.y=(f-_)/E,this.z=(d-h)/E,this.w=Math.acos((u+p+w-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this.w=Math.max(t.w,Math.min(n.w,this.w)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this.w=Math.max(t,Math.min(n,this.w)),this}clampLength(t,n){let i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this.w+=(t.w-this.w)*n,this}lerpVectors(t,n,i){return this.x=t.x+(n.x-t.x)*i,this.y=t.y+(n.y-t.y)*i,this.z=t.z+(n.z-t.z)*i,this.w=t.w+(n.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this.w=t[n+3],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t[n+3]=this.w,t}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},Se={LEFT:1,RIGHT:2,MIDDLE:4},K=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,SCREEN_PAN:4,OFFSET:8,DOLLY:16,ZOOM:32,TOUCH_ROTATE:64,TOUCH_TRUCK:128,TOUCH_SCREEN_PAN:256,TOUCH_OFFSET:512,TOUCH_DOLLY:1024,TOUCH_ZOOM:2048,TOUCH_DOLLY_TRUCK:4096,TOUCH_DOLLY_SCREEN_PAN:8192,TOUCH_DOLLY_OFFSET:16384,TOUCH_DOLLY_ROTATE:32768,TOUCH_ZOOM_TRUCK:65536,TOUCH_ZOOM_OFFSET:131072,TOUCH_ZOOM_SCREEN_PAN:262144,TOUCH_ZOOM_ROTATE:524288}),zl={NONE:0,IN:1,OUT:-1},Dl=Math.PI*2,hT=Math.PI/2,hC=1e-5,Fl=Math.PI/180;function tr(e,t,n){return Math.max(t,Math.min(n,e))}function ve(e,t=hC){return Math.abs(e)<t}function ue(e,t,n=hC){return ve(e-t,n)}function fT(e,t){return Math.round(e/t)*t}function Oh(e){return isFinite(e)?e:e<0?-Number.MAX_VALUE:Number.MAX_VALUE}function zh(e){return Math.abs(e)<Number.MAX_VALUE?e:e*(1/0)}function _7(e,t){return e.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}function Rm(e,t,n,i,r=1/0,a){i=Math.max(1e-4,i);let l=2/i,u=l*a,h=1/(1+u+.48*u*u+.235*u*u*u),f=e-t,d=t,p=r*i;f=tr(f,-p,p),t=e-f;let y=(n.value+l*f)*a;n.value=(n.value-l*y)*h;let _=t+(f+y)*h;return d-e>0==_>d&&(_=d,n.value=(_-d)/a),_}function dT(e,t,n,i,r=1/0,a,l){i=Math.max(1e-4,i);let u=2/i,h=u*a,f=1/(1+h+.48*h*h+.235*h*h*h),d=t.x,p=t.y,y=t.z,_=e.x-d,v=e.y-p,w=e.z-y,E=d,M=p,R=y,z=r*i,D=z*z,C=_*_+v*v+w*w;if(C>D){let bt=Math.sqrt(C);_=_/bt*z,v=v/bt*z,w=w/bt*z}d=e.x-_,p=e.y-v,y=e.z-w;let N=(n.x+u*_)*a,k=(n.y+u*v)*a,$=(n.z+u*w)*a;n.x=(n.x-u*N)*f,n.y=(n.y-u*k)*f,n.z=(n.z-u*$)*f,l.x=d+(_+N)*f,l.y=p+(v+k)*f,l.z=y+(w+$)*f;let q=E-e.x,X=M-e.y,tt=R-e.z,at=l.x-E,J=l.y-M,et=l.z-R;return q*at+X*J+tt*et>0&&(l.x=E,l.y=M,l.z=R,n.x=(l.x-E)/a,n.y=(l.y-M)/a,n.z=(l.z-R)/a),l}function Vy(e,t){t.set(0,0),e.forEach(n=>{t.x+=n.clientX,t.y+=n.clientY}),t.x/=e.length,t.y/=e.length}var mT=new ca,pT=new Tt,fC=class{constructor(e){H(this,"position");H(this,"quaternion");H(this,"up");H(this,"scale",new Tt(1,1,1));H(this,"matrix",new ca);H(this,"matrixWorld",new ca);H(this,"matrixWorldInverse",new ca);H(this,"projectionMatrix",new ca);H(this,"projectionMatrixInverse",new ca);H(this,"zoom",1);H(this,"matrixWorldNeedsUpdate",!0);H(this,"matrixAutoUpdate",!0);H(this,"matrixWorldAutoUpdate",!0);this.position=new Tt().fromArray(e.position),this.quaternion=new mc().fromArray(e.orientation),this.up=new Tt(0,1,0)}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e=!1){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1),this.matrixWorldInverse.copy(this.matrixWorld).invert()}lookAt(e){this.updateMatrixWorld(),pT.setFromMatrixPosition(this.matrixWorld),mT.lookAt(pT,e,this.up),this.quaternion.setFromRotationMatrix(mT)}},dC=class extends fC{constructor(t,n,i){super(t);H(this,"lens");this.lens=n,this.updateProjectionMatrix(i)}updateProjectionMatrix(t){let n=this.lens.nearPlane,i=n*Math.tan(Fl*.5*this.lens.fovy)/this.zoom,r=2*i,a=t*r,l=-.5*a;this.projectionMatrix.makePerspective(l,l+a,i,i-r,n,this.lens.farPlane),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},mC=class extends fC{constructor(t,n,i){super(t);H(this,"lens");H(this,"left",0);H(this,"right",0);H(this,"top",0);H(this,"bottom",0);this.lens=n,this.updateProjectionMatrix(i)}updateProjectionMatrix(t){this.left=-t*this.lens.zoomFactor[0],this.right=t*this.lens.zoomFactor[0],this.top=this.lens.zoomFactor[1],this.bottom=-this.lens.zoomFactor[1];let n=(this.right-this.left)/(2*this.zoom),i=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,a=(this.top+this.bottom)/2,l=r-n,u=r+n,h=a+i,f=a-i;this.projectionMatrix.makeOrthographic(l,u,h,f,this.lens.zNear,this.lens.zFar),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}};function io(e){return e instanceof dC}function cs(e){return e instanceof mC}function _T(e,t){return cs(e)?(console.warn(`${t} is not supported in OrthographicCamera`),!0):!1}var y7=class{constructor(){H(this,"_listeners",{})}addEventListener(e,t){let n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){let n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){let n=this._listeners[e];if(n!==void 0){let i=n.indexOf(t);i!==-1&&n.splice(i,1)}}removeAllEventListeners(e){if(!e){this._listeners={};return}Array.isArray(this._listeners[e])&&(this._listeners[e].length=0)}dispatchEvent(e){let t=this._listeners[e.type];if(t!==void 0){e.target=this;let n=t.slice(0);for(let i=0,r=n.length;i<r;i++)n[i].call(this,e)}}},g7="0.4.10",Om=1/8,kA,v7=/Mac/.test((kA=globalThis==null?void 0:globalThis.navigator)==null?void 0:kA.platform),$y=Object.freeze(new Tt(0,1,0)),yT=Object.freeze(new Tt(0,0,1)),di=new jh,$t=new Tt,re=new Tt,zm=new Tt,Hy=new Tt,os=new Tt,ls=new Tt,Ll=new Tt,x7=new Tt,b7=new Tt,Qi=new g0,Dm=new g0,w7=new uC,E7=new mc,gT=new mc,T7=class pC extends y7{constructor(n,i,r){super();H(this,"minPolarAngle",0);H(this,"maxPolarAngle",Math.PI);H(this,"minAzimuthAngle",-1/0);H(this,"maxAzimuthAngle",1/0);H(this,"minDistance",Number.EPSILON);H(this,"maxDistance",1/0);H(this,"infinityDolly",!1);H(this,"minZoom",.01);H(this,"maxZoom",1/0);H(this,"smoothTime",.25);H(this,"draggingSmoothTime",.125);H(this,"maxSpeed",1/0);H(this,"azimuthRotateSpeed",1);H(this,"polarRotateSpeed",1);H(this,"dollySpeed",1);H(this,"dollyDragInverted",!1);H(this,"truckSpeed",2);H(this,"scaleTruckSpeed",!0);H(this,"dollyToCursor",!1);H(this,"dragToOffset",!1);H(this,"boundaryFriction",0);H(this,"restThreshold",.01);H(this,"mouseButtons");H(this,"touches");H(this,"cancel",()=>{});H(this,"lockPointer");H(this,"unlockPointer");H(this,"_enabled",!0);H(this,"_camera");H(this,"_yAxisUpSpace");H(this,"_yAxisUpSpaceInverse");H(this,"_state",K.NONE);H(this,"_aspectRatio");H(this,"_domElement");H(this,"_viewport",null);H(this,"_target");H(this,"_targetEnd");H(this,"_focalOffset");H(this,"_focalOffsetEnd");H(this,"_spherical");H(this,"_sphericalEnd");H(this,"_lastDistance");H(this,"_zoom");H(this,"_zoomEnd");H(this,"_lastZoom");H(this,"_cameraUp0");H(this,"_target0");H(this,"_position0");H(this,"_zoom0");H(this,"_focalOffset0");H(this,"_dollyControlCoord");H(this,"_changedDolly",0);H(this,"_changedZoom",0);H(this,"_nearPlaneCorners");H(this,"_hasRested",!0);H(this,"_boundary");H(this,"_boundaryEnclosesCamera",!1);H(this,"_needsUpdate",!0);H(this,"_updatedLastTime",!1);H(this,"_elementRect",new DOMRect);H(this,"_isDragging",!1);H(this,"_dragNeedsUpdate",!0);H(this,"_activePointers",[]);H(this,"_lockedPointer",null);H(this,"_interactiveArea",new DOMRect(0,0,1,1));H(this,"_isUserControllingRotate",!1);H(this,"_isUserControllingDolly",!1);H(this,"_isUserControllingTruck",!1);H(this,"_isUserControllingOffset",!1);H(this,"_isUserControllingZoom",!1);H(this,"_lastDollyDirection",zl.NONE);H(this,"_thetaVelocity",{value:0});H(this,"_phiVelocity",{value:0});H(this,"_radiusVelocity",{value:0});H(this,"_targetVelocity",new Tt);H(this,"_focalOffsetVelocity",new Tt);H(this,"_zoomVelocity",{value:0});H(this,"_livelink_viewport");H(this,"getTargetDistance",()=>{if(!this.scaleTruckSpeed||cs(this._camera))return 1;let n=$t.copy(this._camera.position).sub(this._target),i=this._camera.lens.fovy*Fl;return n.length()*Math.tan(i*.5)});H(this,"_truckInternal",(n,i,r,a)=>{let l,u;if(io(this._camera)){let h=this.getTargetDistance();l=this.truckSpeed*n*h/this._elementRect.height,u=this.truckSpeed*i*h/this._elementRect.height}else if(cs(this._camera)){let h=this._camera;l=n*(h.right-h.left)/h.zoom/this._elementRect.width,u=i*(h.top-h.bottom)/h.zoom/this._elementRect.height}else return;a?(r?this.setFocalOffset(this._focalOffsetEnd.x+l,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(l,0,!0),this.forward(-u,!0)):r?this.setFocalOffset(this._focalOffsetEnd.x+l,this._focalOffsetEnd.y+u,this._focalOffsetEnd.z,!0):this.truck(l,u,!0)});H(this,"_rotateInternal",(n,i)=>{let r=Dl*this.azimuthRotateSpeed*n/this._elementRect.height,a=Dl*this.polarRotateSpeed*i/this._elementRect.height;this.rotate(r,a,!0)});H(this,"_dollyInternal",(n,i,r)=>{let a=Math.pow(.95,-n*this.dollySpeed),l=this._sphericalEnd.radius,u=this._sphericalEnd.radius*a,h=tr(u,this.minDistance,this.maxDistance),f=h-u;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(u,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed(f,!0),this._dollyToNoClamp(h,!0)):this._dollyToNoClamp(h,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?u:h)-l,this._dollyControlCoord.set(i,r)),this._lastDollyDirection=Math.sign(-n)});H(this,"_zoomInternal",(n,i,r)=>{let a=Math.pow(.95,n*this.dollySpeed),l=this._zoom,u=this._zoom*a;this.zoomTo(u,!0),this.dollyToCursor&&(this._changedZoom+=u-l,this._dollyControlCoord.set(i,r))});let a="fovy"in i;this._aspectRatio=r.aspect_ratio,this._livelink_viewport=r,this._camera=a?new dC(n,i,this._aspectRatio):new mC(n,i,this._aspectRatio),this._yAxisUpSpace=new mc().setFromUnitVectors(this._camera.up,$y),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=K.NONE,this._target=new Tt,this._targetEnd=this._target.clone(),this._focalOffset=new Tt,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new g0().setFromVector3($t.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new Tt,new Tt,new Tt,new Tt],this._updateNearPlaneCorners(),this._boundary=new uC(new Tt(-1/0,-1/0,-1/0),new Tt(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new jh,this.mouseButtons={left:K.ROTATE,middle:K.DOLLY,right:K.TRUCK,wheel:io(this._camera)?K.DOLLY:cs(this._camera)?K.ZOOM:K.NONE},this.touches={one:K.TOUCH_ROTATE,two:io(this._camera)?K.TOUCH_DOLLY_TRUCK:cs(this._camera)?K.TOUCH_ZOOM_TRUCK:K.NONE,three:K.TOUCH_TRUCK};let l=new jh,u=new jh,h=new jh,f=D=>{if(!this._enabled||!this._domElement||D.target!==this._domElement&&this._livelink_viewport.overlay_dom_elements.every(k=>!k.contains(D.target)))return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){let k=this._domElement.getBoundingClientRect(),$=D.clientX/k.width,q=D.clientY/k.height;if($<this._interactiveArea.left||$>this._interactiveArea.right||q<this._interactiveArea.top||q>this._interactiveArea.bottom)return}let C=D.pointerType!=="mouse"?null:(D.buttons&Se.LEFT)===Se.LEFT?Se.LEFT:(D.buttons&Se.MIDDLE)===Se.MIDDLE?Se.MIDDLE:(D.buttons&Se.RIGHT)===Se.RIGHT?Se.RIGHT:null;if(C!==null){let k=this._findPointerByMouseButton(C);k&&this._disposePointer(k)}if((D.buttons&Se.LEFT)===Se.LEFT&&this._lockedPointer)return;let N={pointerId:D.pointerId,clientX:D.clientX,clientY:D.clientY,deltaX:0,deltaY:0,mouseButton:C};this._activePointers.push(N),D.stopPropagation(),this._domElement.ownerDocument.removeEventListener("pointermove",d,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",p),this._domElement.ownerDocument.addEventListener("pointermove",d,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",p),this._isDragging=!0,w(D)},d=D=>{D.cancelable&&D.preventDefault();let C=D.pointerId,N=this._lockedPointer||this._findPointerById(C);if(N){if(N.clientX=D.clientX,N.clientY=D.clientY,N.deltaX=D.movementX,N.deltaY=D.movementY,this._state=0,D.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(D.buttons&Se.LEFT)===Se.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(D.buttons&Se.MIDDLE)===Se.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(D.buttons&Se.RIGHT)===Se.RIGHT&&(this._state=this._state|this.mouseButtons.right);E()}},p=D=>{let C=this._findPointerById(D.pointerId);if(!(C&&C===this._lockedPointer)){if(C&&this._disposePointer(C),D.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=K.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=K.NONE;M()}},y=-1,_=D=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===K.NONE||D.target!==this._domElement&&this._livelink_viewport.overlay_dom_elements.every(q=>!q.contains(D.target)))return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){let q=this._domElement.getBoundingClientRect(),X=D.clientX/q.width,tt=D.clientY/q.height;if(X<this._interactiveArea.left||X>this._interactiveArea.right||tt<this._interactiveArea.top||tt>this._interactiveArea.bottom)return}if(D.preventDefault(),D.stopPropagation(),this.dollyToCursor||this.mouseButtons.wheel===K.ROTATE||this.mouseButtons.wheel===K.TRUCK){let q=performance.now();y-q<1e3&&this._getClientRect(this._elementRect),y=q}let C=v7?-1:-3,N=D.deltaMode===1?D.deltaY/C:D.deltaY/(C*10),k=this.dollyToCursor?(D.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,$=this.dollyToCursor?(D.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case K.ROTATE:{this._rotateInternal(D.deltaX,D.deltaY),this._isUserControllingRotate=!0;break}case K.TRUCK:{this._truckInternal(D.deltaX,-D.deltaY,!1,!1),this._isUserControllingTruck=!0;break}case K.SCREEN_PAN:{this._truckInternal(D.deltaX,-D.deltaY,!1,!0),this._isUserControllingTruck=!0;break}case K.OFFSET:{this._truckInternal(D.deltaX,D.deltaY,!0,!1),this._isUserControllingOffset=!0;break}case K.DOLLY:{this._dollyInternal(-N,k,$),this._isUserControllingDolly=!0;break}case K.ZOOM:{this._zoomInternal(-N,k,$),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},v=D=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===pC.ACTION.NONE){let C=D instanceof PointerEvent?D.pointerId:0,N=this._findPointerById(C);N&&this._disposePointer(N),this._domElement.ownerDocument.removeEventListener("pointermove",d,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",p);return}D.preventDefault(),D.stopPropagation()}},w=D=>{if(this._enabled){if(Vy(this._activePointers,di),this._getClientRect(this._elementRect),l.copy(di),u.copy(di),this._activePointers.length>=2){let C=di.x-this._activePointers[1].clientX,N=di.y-this._activePointers[1].clientY,k=Math.sqrt(C*C+N*N);h.set(0,k);let $=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,q=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;u.set($,q)}if(this._state=0,!D)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in D&&D.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(D.buttons&Se.LEFT)===Se.LEFT&&(this._state=this._state|this.mouseButtons.left),(D.buttons&Se.MIDDLE)===Se.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(D.buttons&Se.RIGHT)===Se.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&K.ROTATE)===K.ROTATE||(this._state&K.TOUCH_ROTATE)===K.TOUCH_ROTATE||(this._state&K.TOUCH_DOLLY_ROTATE)===K.TOUCH_DOLLY_ROTATE||(this._state&K.TOUCH_ZOOM_ROTATE)===K.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&K.TRUCK)===K.TRUCK||(this._state&K.SCREEN_PAN)===K.SCREEN_PAN||(this._state&K.TOUCH_TRUCK)===K.TOUCH_TRUCK||(this._state&K.TOUCH_SCREEN_PAN)===K.TOUCH_SCREEN_PAN||(this._state&K.TOUCH_DOLLY_TRUCK)===K.TOUCH_DOLLY_TRUCK||(this._state&K.TOUCH_DOLLY_SCREEN_PAN)===K.TOUCH_DOLLY_SCREEN_PAN||(this._state&K.TOUCH_ZOOM_TRUCK)===K.TOUCH_ZOOM_TRUCK||(this._state&K.TOUCH_ZOOM_SCREEN_PAN)===K.TOUCH_DOLLY_SCREEN_PAN)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&K.DOLLY)===K.DOLLY||(this._state&K.TOUCH_DOLLY)===K.TOUCH_DOLLY||(this._state&K.TOUCH_DOLLY_TRUCK)===K.TOUCH_DOLLY_TRUCK||(this._state&K.TOUCH_DOLLY_SCREEN_PAN)===K.TOUCH_DOLLY_SCREEN_PAN||(this._state&K.TOUCH_DOLLY_OFFSET)===K.TOUCH_DOLLY_OFFSET||(this._state&K.TOUCH_DOLLY_ROTATE)===K.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&K.ZOOM)===K.ZOOM||(this._state&K.TOUCH_ZOOM)===K.TOUCH_ZOOM||(this._state&K.TOUCH_ZOOM_TRUCK)===K.TOUCH_ZOOM_TRUCK||(this._state&K.TOUCH_ZOOM_SCREEN_PAN)===K.TOUCH_ZOOM_SCREEN_PAN||(this._state&K.TOUCH_ZOOM_OFFSET)===K.TOUCH_ZOOM_OFFSET||(this._state&K.TOUCH_ZOOM_ROTATE)===K.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&K.OFFSET)===K.OFFSET||(this._state&K.TOUCH_OFFSET)===K.TOUCH_OFFSET||(this._state&K.TOUCH_DOLLY_OFFSET)===K.TOUCH_DOLLY_OFFSET||(this._state&K.TOUCH_ZOOM_OFFSET)===K.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})}},E=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,Vy(this._activePointers,di);let D=this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,C=D?-D.deltaX:u.x-di.x,N=D?-D.deltaY:u.y-di.y;if(u.copy(di),((this._state&K.ROTATE)===K.ROTATE||(this._state&K.TOUCH_ROTATE)===K.TOUCH_ROTATE||(this._state&K.TOUCH_DOLLY_ROTATE)===K.TOUCH_DOLLY_ROTATE||(this._state&K.TOUCH_ZOOM_ROTATE)===K.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(C,N),this._isUserControllingRotate=!0),(this._state&K.DOLLY)===K.DOLLY||(this._state&K.ZOOM)===K.ZOOM){let k=this.dollyToCursor?(l.x-this._elementRect.x)/this._elementRect.width*2-1:0,$=this.dollyToCursor?(l.y-this._elementRect.y)/this._elementRect.height*-2+1:0,q=this.dollyDragInverted?-1:1;(this._state&K.DOLLY)===K.DOLLY?(this._dollyInternal(q*N*Om,k,$),this._isUserControllingDolly=!0):(this._zoomInternal(q*N*Om,k,$),this._isUserControllingZoom=!0)}if((this._state&K.TOUCH_DOLLY)===K.TOUCH_DOLLY||(this._state&K.TOUCH_ZOOM)===K.TOUCH_ZOOM||(this._state&K.TOUCH_DOLLY_TRUCK)===K.TOUCH_DOLLY_TRUCK||(this._state&K.TOUCH_ZOOM_TRUCK)===K.TOUCH_ZOOM_TRUCK||(this._state&K.TOUCH_DOLLY_SCREEN_PAN)===K.TOUCH_DOLLY_SCREEN_PAN||(this._state&K.TOUCH_ZOOM_SCREEN_PAN)===K.TOUCH_ZOOM_SCREEN_PAN||(this._state&K.TOUCH_DOLLY_OFFSET)===K.TOUCH_DOLLY_OFFSET||(this._state&K.TOUCH_ZOOM_OFFSET)===K.TOUCH_ZOOM_OFFSET||(this._state&K.TOUCH_DOLLY_ROTATE)===K.TOUCH_DOLLY_ROTATE||(this._state&K.TOUCH_ZOOM_ROTATE)===K.TOUCH_ZOOM_ROTATE){let k=di.x-this._activePointers[1].clientX,$=di.y-this._activePointers[1].clientY,q=Math.sqrt(k*k+$*$),X=h.y-q;h.set(0,q);let tt=this.dollyToCursor?(u.x-this._elementRect.x)/this._elementRect.width*2-1:0,at=this.dollyToCursor?(u.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&K.TOUCH_DOLLY)===K.TOUCH_DOLLY||(this._state&K.TOUCH_DOLLY_ROTATE)===K.TOUCH_DOLLY_ROTATE||(this._state&K.TOUCH_DOLLY_TRUCK)===K.TOUCH_DOLLY_TRUCK||(this._state&K.TOUCH_DOLLY_SCREEN_PAN)===K.TOUCH_DOLLY_SCREEN_PAN||(this._state&K.TOUCH_DOLLY_OFFSET)===K.TOUCH_DOLLY_OFFSET?(this._dollyInternal(X*Om,tt,at),this._isUserControllingDolly=!0):(this._zoomInternal(X*Om,tt,at),this._isUserControllingZoom=!0)}((this._state&K.TRUCK)===K.TRUCK||(this._state&K.TOUCH_TRUCK)===K.TOUCH_TRUCK||(this._state&K.TOUCH_DOLLY_TRUCK)===K.TOUCH_DOLLY_TRUCK||(this._state&K.TOUCH_ZOOM_TRUCK)===K.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(C,N,!1,!1),this._isUserControllingTruck=!0),((this._state&K.SCREEN_PAN)===K.SCREEN_PAN||(this._state&K.TOUCH_SCREEN_PAN)===K.TOUCH_SCREEN_PAN||(this._state&K.TOUCH_DOLLY_SCREEN_PAN)===K.TOUCH_DOLLY_SCREEN_PAN||(this._state&K.TOUCH_ZOOM_SCREEN_PAN)===K.TOUCH_ZOOM_SCREEN_PAN)&&(this._truckInternal(C,N,!1,!0),this._isUserControllingTruck=!0),((this._state&K.OFFSET)===K.OFFSET||(this._state&K.TOUCH_OFFSET)===K.TOUCH_OFFSET||(this._state&K.TOUCH_DOLLY_OFFSET)===K.TOUCH_DOLLY_OFFSET||(this._state&K.TOUCH_ZOOM_OFFSET)===K.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(C,N,!0,!1),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},M=()=>{Vy(this._activePointers,di),u.copy(di),this._dragNeedsUpdate=!1,(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",d,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",p),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",d,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",p),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",R),this._domElement.ownerDocument.addEventListener("pointerlockerror",z),this._domElement.ownerDocument.addEventListener("pointermove",d,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",p),w())},this.unlockPointer=()=>{var D,C,N;this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),(D=this._domElement)==null||D.ownerDocument.exitPointerLock(),(C=this._domElement)==null||C.ownerDocument.removeEventListener("pointerlockchange",R),(N=this._domElement)==null||N.ownerDocument.removeEventListener("pointerlockerror",z),this.cancel()};let R=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},z=()=>{this.unlockPointer()};this._addAllEventListeners=D=>{this._domElement=D,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",f),this._domElement.addEventListener("pointercancel",p),this._domElement.addEventListener("wheel",_,{passive:!1}),this._domElement.addEventListener("contextmenu",v)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",f),this._domElement.removeEventListener("pointercancel",p),this._domElement.removeEventListener("wheel",_,{passive:!1}),this._domElement.removeEventListener("contextmenu",v),this._domElement.ownerDocument.removeEventListener("pointermove",d,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",p),this._domElement.ownerDocument.removeEventListener("pointerlockchange",R),this._domElement.ownerDocument.removeEventListener("pointerlockerror",z))},this.cancel=()=>{this._state!==K.NONE&&(this._state=K.NONE,this._activePointers.length=0,M())},this.connect(r.dom_element),this.update(0)}static get ACTION(){return K}get position(){return this._camera.position}get orientation(){return this._camera.quaternion}get direction(){return this._getCameraDirection(new Tt).normalize()}updateTransform(n,i){this._camera.position.fromArray(n),this._camera.quaternion.fromArray(i),this.applyCameraUp(),this._needsUpdate=!0}set aspectRatio(n){this._aspectRatio=n,this._camera.updateProjectionMatrix(this._aspectRatio),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._domElement&&(n?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(n){this._spherical.radius===n&&this._sphericalEnd.radius===n||(this._spherical.radius=n,this._sphericalEnd.radius=n,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(n){this._spherical.theta===n&&this._sphericalEnd.theta===n||(this._spherical.theta=n,this._sphericalEnd.theta=n,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(n){this._spherical.phi===n&&this._sphericalEnd.phi===n||(this._spherical.phi=n,this._sphericalEnd.phi=n,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(n){this._boundaryEnclosesCamera=n,this._needsUpdate=!0}set interactiveArea(n){this._interactiveArea.width=tr(n.width,0,1),this._interactiveArea.height=tr(n.height,0,1),this._interactiveArea.x=tr(n.x,0,1-this._interactiveArea.width),this._interactiveArea.y=tr(n.y,0,1-this._interactiveArea.height)}addEventListener(n,i){super.addEventListener(n,i)}removeEventListener(n,i){super.removeEventListener(n,i)}rotate(n,i,r=!1){return this.rotateTo(this._sphericalEnd.theta+n,this._sphericalEnd.phi+i,r)}rotateAzimuthTo(n,i=!1){return this.rotateTo(n,this._sphericalEnd.phi,i)}rotatePolarTo(n,i=!1){return this.rotateTo(this._sphericalEnd.theta,n,i)}rotateTo(n,i,r=!1){this._isUserControllingRotate=!1;let a=tr(n,this.minAzimuthAngle,this.maxAzimuthAngle),l=tr(i,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=a,this._sphericalEnd.phi=l,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,r||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);let u=!r||ue(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&ue(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(u)}dolly(n,i=!1){return this.dollyTo(this._sphericalEnd.radius-n,i)}dollyTo(n,i=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=zl.NONE,this._changedDolly=0,this._dollyToNoClamp(tr(n,this.minDistance,this.maxDistance),i)}_dollyToNoClamp(n,i=!1){this._sphericalEnd.radius=n,this._needsUpdate=!0,i||(this._spherical.radius=this._sphericalEnd.radius);let r=!i||ue(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(r)}dollyInFixed(n,i=!1){this._targetEnd.add(this._getCameraDirection(Hy).multiplyScalar(n)),i||this._target.copy(this._targetEnd);let r=!i||ue(this._target.x,this._targetEnd.x,this.restThreshold)&&ue(this._target.y,this._targetEnd.y,this.restThreshold)&&ue(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(r)}zoom(n,i=!1){return this.zoomTo(this._zoomEnd+n,i)}zoomTo(n,i=!1){this._isUserControllingZoom=!1,this._zoomEnd=tr(n,this.minZoom,this.maxZoom),this._needsUpdate=!0,i||(this._zoom=this._zoomEnd);let r=!i||ue(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(r)}pan(n,i,r=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(n,i,r)}truck(n,i,r=!1){this._camera.updateMatrix(),os.setFromMatrixColumn(this._camera.matrix,0),ls.setFromMatrixColumn(this._camera.matrix,1),os.multiplyScalar(n),ls.multiplyScalar(-i);let a=$t.copy(os).add(ls),l=re.copy(this._targetEnd).add(a);return this.moveTo(l.x,l.y,l.z,r)}forward(n,i=!1){$t.setFromMatrixColumn(this._camera.matrix,0),$t.crossVectors(this._camera.up,$t),$t.multiplyScalar(n);let r=re.copy(this._targetEnd).add($t);return this.moveTo(r.x,r.y,r.z,i)}elevate(n,i=!1){return $t.copy(this._camera.up).multiplyScalar(n),this.moveTo(this._targetEnd.x+$t.x,this._targetEnd.y+$t.y,this._targetEnd.z+$t.z,i)}moveTo(n,i,r,a=!1){this._isUserControllingTruck=!1;let l=$t.set(n,i,r).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,l,this.boundaryFriction),this._needsUpdate=!0,a||this._target.copy(this._targetEnd);let u=!a||ue(this._target.x,this._targetEnd.x,this.restThreshold)&&ue(this._target.y,this._targetEnd.y,this.restThreshold)&&ue(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(u)}lookInDirectionOf(n,i,r,a=!1){let l=$t.set(n,i,r).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius).add(this._targetEnd);return this.setPosition(l.x,l.y,l.z,a)}fitToBox(n,i,{cover:r=!1,paddingLeft:a=0,paddingRight:l=0,paddingBottom:u=0,paddingTop:h=0}={}){let f=[];n.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());let d=fT(this._sphericalEnd.theta,hT),p=fT(this._sphericalEnd.phi,hT);f.push(this.rotateTo(d,p,i));let y=$t.setFromSpherical(this._sphericalEnd).normalize(),_=E7.setFromUnitVectors(y,yT),v=ue(Math.abs(y.y),1);v&&_.multiply(gT.setFromAxisAngle($y,d)),_.multiply(this._yAxisUpSpaceInverse);let w=w7.makeEmpty();re.copy(n.min).applyQuaternion(_),w.expandByPoint(re),re.copy(n.min).setX(n.max.x).applyQuaternion(_),w.expandByPoint(re),re.copy(n.min).setY(n.max.y).applyQuaternion(_),w.expandByPoint(re),re.copy(n.max).setZ(n.min.z).applyQuaternion(_),w.expandByPoint(re),re.copy(n.min).setZ(n.max.z).applyQuaternion(_),w.expandByPoint(re),re.copy(n.max).setY(n.min.y).applyQuaternion(_),w.expandByPoint(re),re.copy(n.max).setX(n.min.x).applyQuaternion(_),w.expandByPoint(re),re.copy(n.max).applyQuaternion(_),w.expandByPoint(re),w.min.x-=a,w.min.y-=u,w.max.x+=l,w.max.y+=h,_.setFromUnitVectors(yT,y),v&&_.premultiply(gT.invert()),_.premultiply(this._yAxisUpSpace);let E=w.getSize($t),M=w.getCenter(re).applyQuaternion(_);if(io(this._camera)){let R=this.getDistanceToFitBox(E.x,E.y,E.z,r);f.push(this.moveTo(M.x,M.y,M.z,i)),f.push(this.dollyTo(R,i)),f.push(this.setFocalOffset(0,0,0,i))}else if(cs(this._camera)){let R=this._camera,z=R.right-R.left,D=R.top-R.bottom,C=r?Math.max(z/E.x,D/E.y):Math.min(z/E.x,D/E.y);f.push(this.moveTo(M.x,M.y,M.z,i)),f.push(this.zoomTo(C,i)),f.push(this.setFocalOffset(0,0,0,i))}return Promise.all(f)}fitToSphere(n,i){let r=[];if(r.push(this.moveTo(n.center.x,n.center.y,n.center.z,i)),io(this._camera)){let a=this.getDistanceToFitSphere(n.radius);r.push(this.dollyTo(a,i))}else if(cs(this._camera)){let a=this._camera.right-this._camera.left,l=this._camera.top-this._camera.bottom,u=2*n.radius,h=Math.min(a/u,l/u);r.push(this.zoomTo(h,i))}return r.push(this.setFocalOffset(0,0,0,i)),Promise.all(r)}setLookAt(n,i,r,a,l,u,h=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=zl.NONE,this._changedDolly=0;let f=re.set(a,l,u),d=$t.set(n,i,r);this._targetEnd.copy(f),this._sphericalEnd.setFromVector3(d.sub(f).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,h||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));let p=!h||ue(this._target.x,this._targetEnd.x,this.restThreshold)&&ue(this._target.y,this._targetEnd.y,this.restThreshold)&&ue(this._target.z,this._targetEnd.z,this.restThreshold)&&ue(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&ue(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&ue(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(p)}lerpLookAt(n,i,r,a,l,u,h,f,d,p,y,_,v,w=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=zl.NONE,this._changedDolly=0;let E=$t.set(a,l,u),M=re.set(n,i,r);Qi.setFromVector3(M.sub(E).applyQuaternion(this._yAxisUpSpace));let R=zm.set(p,y,_),z=re.set(h,f,d);Dm.setFromVector3(z.sub(R).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(E.lerp(R,v));let D=Dm.theta-Qi.theta,C=Dm.phi-Qi.phi,N=Dm.radius-Qi.radius;this._sphericalEnd.set(Qi.radius+N*v,Qi.phi+C*v,Qi.theta+D*v),this.normalizeRotations(),this._needsUpdate=!0,w||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));let k=!w||ue(this._target.x,this._targetEnd.x,this.restThreshold)&&ue(this._target.y,this._targetEnd.y,this.restThreshold)&&ue(this._target.z,this._targetEnd.z,this.restThreshold)&&ue(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&ue(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&ue(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(k)}setPosition(n,i,r,a=!1){return this.setLookAt(n,i,r,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,a)}setTarget(n,i,r,a=!1){let l=this.getPosition($t),u=this.setLookAt(l.x,l.y,l.z,n,i,r,a);return this._sphericalEnd.phi=tr(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),u}setFocalOffset(n,i,r,a=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(n,i,r),this._needsUpdate=!0,a||this._focalOffset.copy(this._focalOffsetEnd);let l=!a||ue(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&ue(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&ue(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(l)}setOrbitPoint(n,i,r){this._camera.updateMatrixWorld(),os.setFromMatrixColumn(this._camera.matrixWorldInverse,0),ls.setFromMatrixColumn(this._camera.matrixWorldInverse,1),Ll.setFromMatrixColumn(this._camera.matrixWorldInverse,2);let a=$t.set(n,i,r),l=a.distanceTo(this._camera.position),u=a.sub(this._camera.position);os.multiplyScalar(u.x),ls.multiplyScalar(u.y),Ll.multiplyScalar(u.z),$t.copy(os).add(ls).add(Ll),$t.z=$t.z+l,this.dollyTo(l,!1),this.setFocalOffset(-$t.x,$t.y,-$t.z,!1),this.moveTo(n,i,r,!1)}setBoundary(n){if(!n){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(n),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(n,i,r,a){if(n===null){this._viewport=null;return}this._viewport=this._viewport||new p7,typeof n=="number"?this._viewport.set(n,i,r,a):this._viewport.copy(n)}getDistanceToFitBox(n,i,r,a=!1){if(_T(this._camera,"getDistanceToFitBox"))return this._spherical.radius;let l=n/i,u=this._camera.lens.fovy*Fl,h=this._aspectRatio;return((a?l>h:l<h)?i:n/h)*.5/Math.tan(u*.5)+r*.5}getDistanceToFitSphere(n){if(_T(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;let i=this._camera.lens.fovy*Fl,r=Math.atan(Math.tan(i*.5)*this._aspectRatio)*2,a=1<this._aspectRatio?i:r;return n/Math.sin(a*.5)}getTarget(n,i=!0){return(n&&n.isVector3?n:new Tt).copy(i?this._targetEnd:this._target)}getPosition(n,i=!0){return(n&&n.isVector3?n:new Tt).setFromSpherical(i?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(i?this._targetEnd:this._target)}getSpherical(n,i=!0){return(n||new g0).copy(i?this._sphericalEnd:this._spherical)}getFocalOffset(n,i=!0){return(n&&n.isVector3?n:new Tt).copy(i?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%Dl,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=Dl),this._spherical.theta+=Dl*Math.round((this._sphericalEnd.theta-this._spherical.theta)/Dl)}stop(){this._focalOffset.copy(this._focalOffsetEnd),this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd),this._zoom=this._zoomEnd}reset(n=!1){if(!ue(this._camera.up.x,this._cameraUp0.x)||!ue(this._camera.up.y,this._cameraUp0.y)||!ue(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);let r=this.getPosition($t);this.updateCameraUp(),this.setPosition(r.x,r.y,r.z)}let i=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,n),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,n),this.zoomTo(this._zoom0,n)];return Promise.all(i)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,$y),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){let n=$t.subVectors(this._target,this._camera.position).normalize(),i=re.crossVectors(n,this._camera.up);this._camera.up.crossVectors(i,n).normalize(),this._camera.updateMatrixWorld();let r=this.getPosition($t);this.updateCameraUp(),this.setPosition(r.x,r.y,r.z)}update(n){let i=this._sphericalEnd.theta-this._spherical.theta,r=this._sphericalEnd.phi-this._spherical.phi,a=this._sphericalEnd.radius-this._spherical.radius,l=x7.subVectors(this._targetEnd,this._target),u=b7.subVectors(this._focalOffsetEnd,this._focalOffset),h=this._zoomEnd-this._zoom;if(ve(i))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{let d=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=Rm(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,d,1/0,n),this._needsUpdate=!0}if(ve(r))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{let d=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=Rm(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,d,1/0,n),this._needsUpdate=!0}if(ve(a))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{let d=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=Rm(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,d,this.maxSpeed,n),this._needsUpdate=!0}if(ve(l.x)&&ve(l.y)&&ve(l.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{let d=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;dT(this._target,this._targetEnd,this._targetVelocity,d,this.maxSpeed,n,this._target),this._needsUpdate=!0}if(ve(u.x)&&ve(u.y)&&ve(u.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{let d=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;dT(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,d,this.maxSpeed,n,this._focalOffset),this._needsUpdate=!0}if(ve(h))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{let d=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=Rm(this._zoom,this._zoomEnd,this._zoomVelocity,d,1/0,n)}if(this.dollyToCursor){if(io(this._camera)&&this._changedDolly!==0){let d=this._spherical.radius-this._lastDistance,p=this._camera,y=this._getCameraDirection(Hy),_=$t.copy(y).cross(p.up).normalize();_.lengthSq()===0&&(_.x=1);let v=re.crossVectors(_,y),w=this._sphericalEnd.radius*Math.tan(p.lens.fovy*Fl*.5),E=(this._sphericalEnd.radius-d-this._sphericalEnd.radius)/this._sphericalEnd.radius,M=zm.copy(this._targetEnd).add(_.multiplyScalar(this._dollyControlCoord.x*w*this._aspectRatio)).add(v.multiplyScalar(this._dollyControlCoord.y*w)),R=$t.copy(this._targetEnd).lerp(M,E),z=this._lastDollyDirection===zl.IN&&this._spherical.radius<=this.minDistance,D=this._lastDollyDirection===zl.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(z||D)){this._sphericalEnd.radius-=d,this._spherical.radius-=d;let N=re.copy(y).multiplyScalar(-d);R.add(N)}this._boundary.clampPoint(R,R);let C=re.subVectors(R,this._targetEnd);this._targetEnd.copy(R),this._target.add(C),this._changedDolly-=d,ve(this._changedDolly)&&(this._changedDolly=0)}else if(cs(this._camera)&&this._changedZoom!==0){let d=this._zoom-this._lastZoom,p=this._camera,y=_7($t.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(p.lens.zNear+p.lens.zFar)/(p.lens.zNear-p.lens.zFar)),p),_=re.set(0,0,-1).applyQuaternion(p.quaternion),v=zm.copy(y).add(_.multiplyScalar(-y.dot(p.up))),w=-(this._zoom-d-this._zoom)/this._zoom,E=this._getCameraDirection(Hy),M=this._targetEnd.dot(E),R=$t.copy(this._targetEnd).lerp(v,w),z=R.dot(E),D=E.multiplyScalar(z-M);R.sub(D),this._boundary.clampPoint(R,R);let C=re.subVectors(R,this._targetEnd);this._targetEnd.copy(R),this._target.add(C),this._changedZoom-=d,ve(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(this._aspectRatio),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0,this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!ve(this._focalOffset.x)||!ve(this._focalOffset.y)||!ve(this._focalOffset.z))&&(this._camera.updateMatrixWorld(),os.setFromMatrixColumn(this._camera.matrix,0),ls.setFromMatrixColumn(this._camera.matrix,1),Ll.setFromMatrixColumn(this._camera.matrix,2),os.multiplyScalar(this._focalOffset.x),ls.multiplyScalar(-this._focalOffset.y),Ll.multiplyScalar(this._focalOffset.z),$t.copy(os).add(ls).add(Ll),this._camera.position.add($t)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),$t.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);let f=this._needsUpdate;return f&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):f?(this.dispatchEvent({type:"update"}),ve(i,this.restThreshold)&&ve(r,this.restThreshold)&&ve(a,this.restThreshold)&&ve(l.x,this.restThreshold)&&ve(l.y,this.restThreshold)&&ve(l.z,this.restThreshold)&&ve(u.x,this.restThreshold)&&ve(u.y,this.restThreshold)&&ve(u.z,this.restThreshold)&&ve(h,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!f&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=f,this._needsUpdate=!1,f}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:Oh(this.maxDistance),minZoom:this.minZoom,maxZoom:Oh(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:Oh(this.maxPolarAngle),minAzimuthAngle:Oh(this.minAzimuthAngle),maxAzimuthAngle:Oh(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,scaleTruckSpeed:this.scaleTruckSpeed,dollyToCursor:this.dollyToCursor,target:this._targetEnd.toArray(),position:$t.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(n,i=!1){let r=JSON.parse(n);this.enabled=r.enabled,this.minDistance=r.minDistance,this.maxDistance=zh(r.maxDistance),this.minZoom=r.minZoom,this.maxZoom=zh(r.maxZoom),this.minPolarAngle=r.minPolarAngle,this.maxPolarAngle=zh(r.maxPolarAngle),this.minAzimuthAngle=zh(r.minAzimuthAngle),this.maxAzimuthAngle=zh(r.maxAzimuthAngle),this.smoothTime=r.smoothTime,this.draggingSmoothTime=r.draggingSmoothTime,this.dollySpeed=r.dollySpeed,this.truckSpeed=r.truckSpeed,this.scaleTruckSpeed=r.scaleTruckSpeed,this.dollyToCursor=r.dollyToCursor,this._target0.fromArray(r.target0),this._position0.fromArray(r.position0),this._zoom0=r.zoom0,this._focalOffset0.fromArray(r.focalOffset0),this.moveTo(r.target[0],r.target[1],r.target[2],i),Qi.setFromVector3($t.fromArray(r.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(Qi.theta,Qi.phi,i),this.dollyTo(Qi.radius,i),this.zoomTo(r.zoom,i),this.setFocalOffset(r.focalOffset[0],r.focalOffset[1],r.focalOffset[2],i),this._needsUpdate=!0}connect(n){if(this._domElement){console.warn("camera-controls is already connected.");return}n.setAttribute("data-camera-controls-version",g7),this._addAllEventListeners(n),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(n){return n.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(n){return this._getTargetDirection(n).negate()}_findPointerById(n){return this._activePointers.find(i=>i.pointerId===n)}_findPointerByMouseButton(n){return this._activePointers.find(i=>i.mouseButton===n)}_disposePointer(n){this._activePointers.splice(this._activePointers.indexOf(n),1)}_encloseToBoundary(n,i,r){let a=i.lengthSq();if(a===0)return n;let l=re.copy(i).add(n),u=this._boundary.clampPoint(l,zm).sub(l),h=u.lengthSq();if(h===0)return n.add(i);if(h===a)return n;if(r===0)return n.add(i).add(u);{let f=1+r*h/i.dot(u);return n.add(re.copy(i).multiplyScalar(f)).add(u.multiplyScalar(1-r))}}_updateNearPlaneCorners(){if(io(this._camera)){let n=this._camera,i=n.lens.nearPlane,r=n.lens.fovy*Fl,a=Math.tan(r*.5)*i,l=a*this._aspectRatio;this._nearPlaneCorners[0].set(-l,-a,0),this._nearPlaneCorners[1].set(l,-a,0),this._nearPlaneCorners[2].set(l,a,0),this._nearPlaneCorners[3].set(-l,a,0)}else if(cs(this._camera)){let n=this._camera,i=1/n.zoom,r=n.left*i,a=n.right*i,l=n.top*i,u=n.bottom*i;this._nearPlaneCorners[0].set(r,l,0),this._nearPlaneCorners[1].set(a,l,0),this._nearPlaneCorners[2].set(a,u,0),this._nearPlaneCorners[3].set(r,u,0)}}_getClientRect(n){if(!this._domElement)return;let i=this._domElement.getBoundingClientRect();return n.x=i.left,n.y=i.top,this._viewport?(n.x+=this._viewport.x,n.y+=i.height-this._viewport.w-this._viewport.y,n.width=this._viewport.z,n.height=this._viewport.w):(n.width=i.width,n.height=i.height),n}_createOnRestPromise(n){return n?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(i=>{let r=()=>{this.removeEventListener("rest",r),i()};this.addEventListener("rest",r)}))}_addAllEventListeners(n){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(n){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(n){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}},qh;(function(e){e.HOLD_START="holdStart",e.HOLD_END="holdEnd",e.HOLDING="holding"})(qh||(qh={}));var M7=class{constructor(){H(this,"_listeners",{})}addEventListener(t,n){let i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(n)===-1&&i[t].push(n)}removeEventListener(t,n){let i=this._listeners[t];if(i!==void 0){let r=i.indexOf(n);r!==-1&&i.splice(r,1)}}dispatchEvent(t){let n=this._listeners[t.type];if(n!==void 0){t.target=this;let i=n.slice(0);for(let r=0,a=i.length;r<a;r++)i[r].call(this,t)}}},S7=class extends M7{constructor(n){super();H(this,"holdIntervalDelay");H(this,"_enabled",!0);H(this,"_holding",!1);H(this,"_intervalId",-1);H(this,"_deltaTime",0);H(this,"_elapsedTime",0);H(this,"_lastTime",0);H(this,"_holdStart",n=>{if(!this._enabled||this._holding)return;this._deltaTime=0,this._elapsedTime=0,this._lastTime=performance.now(),this.dispatchEvent({type:qh.HOLD_START,deltaTime:this._deltaTime,elapsedTime:this._elapsedTime,originalEvent:n}),this._holding=!0;let i=()=>{this._intervalId=this.holdIntervalDelay?window.setTimeout(i,this.holdIntervalDelay):window.requestAnimationFrame(i);let r=performance.now();this._deltaTime=r-this._lastTime,this._elapsedTime+=this._deltaTime,this._lastTime=performance.now(),this.dispatchEvent({type:qh.HOLDING,deltaTime:this._deltaTime,elapsedTime:this._elapsedTime,originalEvent:n})};this._intervalId=this.holdIntervalDelay?window.setTimeout(i,this.holdIntervalDelay):window.requestAnimationFrame(i)});H(this,"_holdEnd",n=>{if(this._holding){let i=performance.now();this._deltaTime=i-this._lastTime,this._elapsedTime+=this._deltaTime,this._lastTime=performance.now(),this.dispatchEvent({type:qh.HOLD_END,deltaTime:this._deltaTime,elapsedTime:this._elapsedTime,originalEvent:n}),this._holding=!1}window.clearTimeout(this._intervalId),window.cancelAnimationFrame(this._intervalId)});this.holdIntervalDelay=n}get enabled(){return this._enabled}set enabled(n){this._enabled!==n&&(this._enabled=n,this._enabled||this._holdEnd())}get holding(){return this._holding}},Di=class extends S7{constructor(t,n){if(typeof t!="string"){console.error("KeyboardKeyHold: the first argument has to be a KeyboardEvent.code string.");return}super(n),this._holdStart=this._holdStart.bind(this),this._holdEnd=this._holdEnd.bind(this);let i=a=>{A7(a)||a.code===t&&this._holdStart(a)},r=a=>{a.code===t&&this._holdEnd(a)};document.addEventListener("keydown",i),document.addEventListener("keyup",r),window.addEventListener("blur",this._holdEnd)}};function A7(e){let t=e.target;return t.tagName==="INPUT"||t.tagName==="SELECT"||t.tagName==="TEXTAREA"||t.isContentEditable}var Li={W:"KeyW",A:"KeyA",S:"KeyS",D:"KeyD",E:"KeyE",Q:"KeyQ",ARROW_LEFT:"ArrowLeft",ARROW_UP:"ArrowUp",ARROW_RIGHT:"ArrowRight",ARROW_DOWN:"ArrowDown",SHIFT_RIGHT:"ShiftRight",CONTROL_RIGHT:"ControlRight"},Ui=16.666,Zn,C7=(Zn=class{constructor(t,n){H(this,"_cameraControls");H(this,"_clock");H(this,"speedMultiplier",2e-5);H(this,"_truckLeft",t=>{t&&(this._cameraControls.truck(-this.speedMultiplier*-this._cameraControls.truckSpeed*t.deltaTime,0,!1),this._updateClock())});H(this,"_truckRight",t=>{t&&(this._cameraControls.truck(this.speedMultiplier*-this._cameraControls.truckSpeed*t.deltaTime,0,!1),this._updateClock())});H(this,"_moveUp",t=>{t&&(this._cameraControls.elevate(this.speedMultiplier*-this._cameraControls.truckSpeed*t.deltaTime,!1),this._updateClock())});H(this,"_moveDown",t=>{t&&(this._cameraControls.elevate(-this.speedMultiplier*-this._cameraControls.truckSpeed*t.deltaTime,!1),this._updateClock())});H(this,"_moveFront",t=>{if(!t)return;let n=this.speedMultiplier*-this._cameraControls.truckSpeed*t.deltaTime,i=this._cameraControls.direction.multiplyScalar(n);i.add(this._cameraControls.getPosition(new Tt)),this._cameraControls.moveTo(...i.toArray(),!1),this._updateClock()});H(this,"_moveBack",t=>{if(!t)return;let n=this.speedMultiplier*this._cameraControls.truckSpeed*t.deltaTime,i=this._cameraControls.direction.multiplyScalar(n);i.add(this._cameraControls.getPosition(new Tt)),this._cameraControls.moveTo(...i.toArray(),!1),this._updateClock()});this._cameraControls=t,this._clock=n,Object.keys(Zn._keys).length===0&&(Zn._keys={q:new Di(Li.Q,Ui),w:new Di(Li.W,Ui),s:new Di(Li.S,Ui),a:new Di(Li.A,Ui),d:new Di(Li.D,Ui),e:new Di(Li.E,Ui),up:new Di(Li.ARROW_UP,Ui),right:new Di(Li.ARROW_RIGHT,Ui),down:new Di(Li.ARROW_DOWN,Ui),left:new Di(Li.ARROW_LEFT,Ui),shift:new Di(Li.SHIFT_RIGHT,Ui),ctrl:new Di(Li.CONTROL_RIGHT,Ui)});let{w:i,a:r,s:a,d:l,e:u,q:h,up:f,right:d,down:p,left:y,shift:_,ctrl:v}=Zn._keys;r.addEventListener("holding",this._truckLeft),l.addEventListener("holding",this._truckRight),i.addEventListener("holding",this._moveFront),a.addEventListener("holding",this._moveBack),h.addEventListener("holding",this._moveDown),u.addEventListener("holding",this._moveUp),y.addEventListener("holding",this._truckLeft),d.addEventListener("holding",this._truckRight),f.addEventListener("holding",this._moveFront),p.addEventListener("holding",this._moveBack),v.addEventListener("holding",this._moveDown),_.addEventListener("holding",this._moveUp)}dispose(){let{w:t,a:n,s:i,d:r,e:a,q:l,up:u,right:h,down:f,left:d,ctrl:p,shift:y}=Zn._keys;n.removeEventListener("holding",this._truckLeft),r.removeEventListener("holding",this._truckRight),t.removeEventListener("holding",this._moveFront),i.removeEventListener("holding",this._moveBack),l.removeEventListener("holding",this._moveDown),a.removeEventListener("holding",this._moveUp),d.removeEventListener("holding",this._truckLeft),h.removeEventListener("holding",this._truckRight),u.removeEventListener("holding",this._moveFront),f.removeEventListener("holding",this._moveBack),p.removeEventListener("holding",this._moveDown),y.removeEventListener("holding",this._moveUp)}enable(){Object.keys(Zn._keys).forEach(t=>{Zn._keys[t].enabled=!0})}disable(){Object.keys(Zn._keys).forEach(t=>{Zn._keys[t].enabled=!1})}_updateClock(){let t=this._clock.getDelta();return this._cameraControls.update(t)}},H(Zn,"_keys",{}),Zn),R7=class{constructor(e=!0){H(this,"autoStart");H(this,"startTime");H(this,"oldTime");H(this,"elapsedTime");H(this,"running");this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=vT(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=vT();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}};function vT(){return performance.now()}typeof window<"u"&&(window.__LIVELINK__||(window.__LIVELINK__={}),Object.prototype.hasOwnProperty.call(window.__LIVELINK__,"@3dverse/livelink-camera-controls")?console.warn("⚠️ WARNING ⚠️ Multiple instances of Livelink Camera Controls being imported."):window.__LIVELINK__["@3dverse/livelink-camera-controls"]="0.4.10");var _C={};dc(_C,{fly:()=>z7,orbital:()=>yC,pointer_locked_orbital:()=>O7});var yC=Object.freeze({init_options:{target:[0,0,0]}}),O7=Object.freeze({mouseButtons:{left:K.ROTATE,middle:K.DOLLY,wheel:K.DOLLY,right:K.TRUCK},touches:{one:K.TOUCH_ROTATE,two:K.TOUCH_DOLLY_TRUCK,three:K.TOUCH_TRUCK},truckSpeed:-2,dollyToCursor:!0,infinityDolly:!0,minDistance:.5,maxDistance:1/0,invert_middle_button_dolly:!0,orbit_on_cursor:{enabled:!0,cancel_target_offset:!0},lock_pointer:{aim:"on-drag",on_drag_threshold_in_pixels:10}}),z7=Object.freeze({mouseButtons:{left:K.SCREEN_PAN,middle:K.TRUCK,wheel:K.SCREEN_PAN,right:K.ROTATE},touches:{one:K.TOUCH_ROTATE,two:K.TOUCH_TRUCK,three:K.TOUCH_SCREEN_PAN},truckSpeed:-3/.001,infinityDolly:!0,minDistance:.5,maxDistance:1/0,lock_pointer:{aim:"on-drag",on_drag_threshold_in_pixels:10},init_options:{forward_target_distance:.001,keyboard_fly_controls:{enabled:!0,speed_multiplier:2e-6}}}),ba,wr,Fu,wa,Er,rr,ce,oo,Xg,gC,Z0,Zg,s0,ju,Vu,Pf,Bf,Ea,vC,xC,Ff,jf,$u,bC,wC,PA,D7=(PA=class extends T7{constructor({camera_entity:t,viewport:n,activate:i=!0,preset:r=yC}){super(t.local_transform,L7(t),n);V(this,ce);V(this,ba);V(this,wr);V(this,Fu,new R7);V(this,wa,null);H(this,"invert_middle_button_dolly",!1);H(this,"orbit_on_cursor",{enabled:!1,cancel_target_offset:!1});V(this,Er,{orbit_point:[0,0,0],wheel_timer:0});H(this,"lock_pointer",{aim:"off",on_drag_threshold_in_pixels:0});V(this,rr,{count:0,down_position:null});H(this,"init_options",{});H(this,"keyboard_fly_controls",null);H(this,"onViewportResize",()=>{this.aspectRatio=x(this,wr).aspect_ratio});V(this,Z0,()=>{this.position.toArray(x(this,ba).global_transform.position),this.orientation.toArray(x(this,ba).global_transform.orientation)});V(this,ju,()=>{x(this,ce,oo)||xt(this,ce,s0).call(this)});V(this,Vu,()=>{setTimeout(()=>{xt(this,ce,Zg).call(this)},500)});V(this,Pf,t=>{this._domElement&&(this.lock_pointer.aim!=="always"&&x(this,rr).count++,!(x(this,ce,oo)||this.lock_pointer.aim==="off")&&(x(this,rr).down_position=[t.clientX,t.clientY],this._domElement.addEventListener("mousemove",x(this,Ea)),this.lock_pointer.aim!=="always"&&this._domElement.addEventListener("mouseup",x(this,Bf))))});V(this,Bf,t=>{if(x(this,rr).count>0&&x(this,rr).count--,!(x(this,rr).count>0||!this._domElement)){if(!x(this,ce,oo)){this._domElement.removeEventListener("mousemove",x(this,Ea));return}x(this,rr).count===0&&xt(this,ce,s0).call(this)}});V(this,Ea,t=>{var r;let{on_drag_threshold_in_pixels:n}=this.lock_pointer,{down_position:i}=x(this,rr);if(!i||!this._domElement||x(this,ce,oo)){(r=this._domElement)==null||r.removeEventListener("mousemove",x(this,Ea));return}if(n>0){let{clientX:a,clientY:l}=t;if(Math.sqrt(Math.pow(a-i[0],2)+Math.pow(l-i[1],2))<n)return}this._domElement.removeEventListener("mousemove",x(this,Ea)),xt(this,ce,s0).call(this),xt(this,ce,Zg).call(this)});V(this,Ff,t=>{this.invert_middle_button_dolly&&t.button===1&&this.mouseButtons.middle===K.DOLLY&&(this.dollySpeed=-Math.abs(this.dollySpeed)),this.orbit_on_cursor.enabled&&xt(this,ce,xC).call(this,t)&&xt(this,ce,wC).call(this,t)});V(this,jf,t=>{this.invert_middle_button_dolly&&t.button===1&&this.mouseButtons.middle===K.DOLLY&&(this.dollySpeed=Math.abs(this.dollySpeed))});V(this,$u,t=>{t.stopPropagation()});ut(this,ba,t),ut(this,wr,n),x(this,wr).is_camera_controlled_by_current_client=!0,xt(this,ce,Xg).call(this,this,r),xt(this,ce,gC).call(this),i&&this.activate(),x(this,wr).rendering_surface.addEventListener("on-rendering-surface-resized",this.onViewportResize)}release(){var t;x(this,wr).is_camera_controlled_by_current_client=!1,x(this,wr).rendering_surface.removeEventListener("on-rendering-surface-resized",this.onViewportResize),this.deactivate(),this.dispose(),(t=this.keyboard_fly_controls)==null||t.dispose()}activate(){var t,n,i,r;x(this,wa)||(ut(this,wa,setInterval(()=>{this.update(x(this,Fu).getDelta())},1e3/60)),(t=this._domElement)==null||t.addEventListener("pointerdown",x(this,Ff)),(n=this._domElement)==null||n.addEventListener("pointerup",x(this,jf)),(i=this._domElement)==null||i.addEventListener("mousedown",x(this,Pf)),(r=this.keyboard_fly_controls)==null||r.enable())}deactivate(){var t,n,i,r,a,l;(t=this._domElement)==null||t.removeEventListener("pointerdown",x(this,Ff)),(n=this._domElement)==null||n.removeEventListener("pointerup",x(this,jf)),(i=this._domElement)==null||i.removeEventListener("mousedown",x(this,Pf)),(r=this._domElement)==null||r.removeEventListener("mouseup",x(this,Bf)),(a=this._domElement)==null||a.removeEventListener("mousemove",x(this,Ea)),(l=this.keyboard_fly_controls)==null||l.disable(),x(this,wa)&&(clearInterval(x(this,wa)),ut(this,wa,null))}},ba=new WeakMap,wr=new WeakMap,Fu=new WeakMap,wa=new WeakMap,Er=new WeakMap,rr=new WeakMap,ce=new WeakSet,oo=function(){var t;return((t=this._domElement)==null?void 0:t.ownerDocument.pointerLockElement)===this._domElement},Xg=function(t,...n){let i=r=>typeof r=="object"&&r!==null&&!Array.isArray(r);return n.forEach(r=>{i(r)&&Reflect.ownKeys(r).forEach(a=>{let l=t[a],u=r[a],h;i(l)&&i(u)?h=xt(this,ce,Xg).call(this,Object.create(Object.getPrototypeOf(l)),l,u):h=window.structuredClone(u),t[a]=h})}),t},gC=function(){let{target:t}=this.init_options;t&&this.setLookAt(...x(this,ba).local_transform.position,...t);let{forward_target_distance:n}=this.init_options;if(n!==void 0){let r=new mc(...x(this,ba).local_transform.orientation),a=new Tt(0,0,-1).applyQuaternion(r);a.multiplyScalar(n);let l=this.getPosition(new Tt).add(a);this.setTarget(...l.toArray())}let{keyboard_fly_controls:i}=this.init_options;if(i!=null&&i.enabled){let{speed_multiplier:r}=i;this.keyboard_fly_controls=new C7(this,x(this,Fu)),r!==void 0&&(this.keyboard_fly_controls.speedMultiplier=r)}this.saveState(),this.addEventListener("update",x(this,Z0))},Z0=new WeakMap,Zg=function(){var n,i;if(!this._domElement)return;let{ownerDocument:t}=this._domElement;x(this,ce,oo)||((i=(n=this._domElement).requestPointerLock)==null||i.call(n),t.removeEventListener("pointerlockchange",x(this,ju)),t.removeEventListener("pointerlockerror",x(this,Vu)),t.addEventListener("pointerlockchange",x(this,ju)),t.addEventListener("pointerlockerror",x(this,Vu)))},s0=function(){var n;if(!this._domElement)return;let{ownerDocument:t}=this._domElement;t.removeEventListener("pointerlockchange",x(this,ju)),t.removeEventListener("pointerlockerror",x(this,Vu)),x(this,rr).count=0,x(this,ce,oo)&&((n=t.exitPointerLock)==null||n.call(t))},ju=new WeakMap,Vu=new WeakMap,Pf=new WeakMap,Bf=new WeakMap,Ea=new WeakMap,vC=function({event:t,touch_actions:n,mouse_actions:i}){if(n&&n.length>0&&t.pointerType==="touch"){let a=n.reduce((l,u)=>l|u,0);switch(this._activePointers.length){case 1:return(this.touches.one|a)>0;case 2:return(this.touches.two|a)>0;case 3:return(this.touches.three|a)>0;default:return!1}}if(!i||i.length===0)return!1;let r=K.NONE;switch(t.button){case 0:r=this.mouseButtons.left;break;case 2:r=this.mouseButtons.right;break;case 1:r=this.mouseButtons.middle;break;default:return!1}return i.includes(r)},xC=function(t){let{ROTATE:n,TOUCH_ROTATE:i,TOUCH_ZOOM_ROTATE:r,TOUCH_DOLLY_ROTATE:a}=K;return xt(this,ce,vC).call(this,{event:t,touch_actions:[i,r,a],mouse_actions:[n]})},Ff=new WeakMap,jf=new WeakMap,$u=new WeakMap,bC=async function(t){var h;if(!this._domElement)return;let{clientX:n,clientY:i}=t,{left:r,top:a}=this._domElement.getBoundingClientRect(),l=[(n-r)/this._domElement.clientWidth,(i-a)/this._domElement.clientHeight],u=(h=await x(this,wr).castScreenSpaceRay({screen_position:l,mode:"None"}))==null?void 0:h.world_position;u?(x(this,Er).orbit_point=u,this.setOrbitPoint(...u)):this.orbit_on_cursor.cancel_target_offset&&this.setOrbitPoint(...x(this,Er).orbit_point),this.update(x(this,Fu).getDelta())},wC=async function(t){x(this,Er).rotate_speed||(x(this,Er).rotate_speed={azimuth:this.azimuthRotateSpeed,polar:this.polarRotateSpeed}),this.polarRotateSpeed=0,this.azimuthRotateSpeed=0,document.removeEventListener("pointermove",x(this,$u),!0),document.addEventListener("pointermove",x(this,$u),{capture:!0,once:!0});try{await xt(this,ce,bC).call(this,t)}finally{if(document.removeEventListener("pointermove",x(this,$u),!0),x(this,Er).rotate_speed){let{azimuth:n,polar:i}=x(this,Er).rotate_speed;x(this,Er).rotate_speed=void 0,this.azimuthRotateSpeed=n,this.polarRotateSpeed=i}}},PA);function L7(e){let t=e.perspective_lens||e.orthographic_lens;if(!t)throw new Error("Camera entity must have a perspective or orthographic lens");return t}var U7=1e5,Hu,Iu,Ta,Vf,ps,$f,K0,Jn,TC,MC,SC,AC,CC,RC,BA,EC=(BA=class{constructor({camera_entity:e,viewport:t}){V(this,Jn);H(this,"camera_entity");H(this,"viewport");V(this,Hu,[0,0,0]);V(this,Iu,[0,0,0,1]);V(this,Ta,cn.create());V(this,Vf,cn.create());V(this,ps,cn.create());V(this,$f,cn.create());V(this,K0,e=>{e.isAnyComponentDirty({components:["perspective_lens","orthographic_lens"]})&&this.updateProjectionMatrix()});xt(this,Jn,TC).call(this,{camera_entity:e}),this.camera_entity=e,this.viewport=t,this.updateProjectionMatrix(),e.addEventListener("on-entity-updated",x(this,K0))}get clip_from_view_matrix(){return x(this,Ta)}get view_from_clip_matrix(){return x(this,Vf)}get clip_from_world_matrix(){return x(this,ps)}get world_from_clip_matrix(){return cn.invert(cn.create(),x(this,ps))}get world_from_view_matrix(){return x(this,$f)}get world_position(){return x(this,Hu)}get world_orientation(){return x(this,Iu)}get world_euler_orientation(){return Ih(x(this,Iu))}projectWorldToClip({world_position:e,out_clip_position:t=Dt.create()}){return Dt.transformMat4(t,e,x(this,ps)),t}projectClipToWorld({clip_position:e,out_world_position:t=Dt.create()}){return Dt.transformMat4(t,e,this.world_from_clip_matrix),t}computeRayFromScreenPosition({screen_position:e}){let t=xt(this,Jn,AC).call(this,{screen_position:e});return this.computeRayFromClipPosition({clip_position:t})}computeRayFromClipPosition({clip_position:e}){if(this.camera_entity.perspective_lens)return xt(this,Jn,MC).call(this,{clip_position:e});if(this.camera_entity.orthographic_lens)return xt(this,Jn,SC).call(this,{lens:this.camera_entity.orthographic_lens,clip_position:e});throw new Error("Camera entity must have a perspective or orthographic lens component")}updateProjectionMatrix(){this.camera_entity.perspective_lens?xt(this,Jn,CC).call(this,{lens:this.camera_entity.perspective_lens}):this.camera_entity.orthographic_lens&&xt(this,Jn,RC).call(this,{lens:this.camera_entity.orthographic_lens}),cn.invert(x(this,Vf),x(this,Ta))}updateFromFrameCameraTransform({frame_camera_transform:e}){ut(this,Hu,e.world_position),ut(this,Iu,e.world_orientation),ut(this,$f,Array.from(e.world_from_view_matrix));let t=x(this,ps),n=cn.invert(t,e.world_from_view_matrix);n||(console.warn("Failed to invert world_from_view_matrix from frame_camera_transform, using identity matrix instead",e),n=cn.identity(t)),ut(this,ps,cn.multiply(x(this,ps),x(this,Ta),n))}},Hu=new WeakMap,Iu=new WeakMap,Ta=new WeakMap,Vf=new WeakMap,ps=new WeakMap,$f=new WeakMap,K0=new WeakMap,Jn=new WeakSet,TC=function({camera_entity:e}){if(!e.camera)throw new Error("Camera entity must have a camera component");if(!e.perspective_lens&&!e.orthographic_lens)throw new Error("Camera entity must have a perspective or orthographic lens component")},MC=function({clip_position:e}){let t={origin:Dt.fromValues(...x(this,Hu)),direction:Dt.create()};return this.projectClipToWorld({clip_position:e,out_world_position:t.direction}),Dt.sub(t.direction,t.direction,t.origin),Dt.normalize(t.direction,t.direction),t},SC=function({lens:e,clip_position:t}){let{zNear:n,zFar:i}=e,r={origin:Dt.fromValues(t[0],t[1],(n+i)/(n-i)),direction:Dt.fromValues(0,0,-1)};this.projectClipToWorld({clip_position:t,out_world_position:r.origin});let a=Fg.fromMat4(Fg.create(),this.world_from_view_matrix);return Dt.transformMat3(r.direction,r.direction,a),r},AC=function({screen_position:e}){return Dt.fromValues(e[0]*2-1,1-e[1]*2,.5)},CC=function({lens:e}){cn.perspective(x(this,Ta),a4.toRadian(e.fovy),this.viewport.aspect_ratio,e.nearPlane,e.farPlane||U7)},RC=function({lens:e}){cn.ortho(x(this,Ta),-this.viewport.aspect_ratio*e.zoomFactor[0],this.viewport.aspect_ratio*e.zoomFactor[0],-e.zoomFactor[1],e.zoomFactor[1],e.zNear,e.zFar)},BA),Ca;function N7(){Ca=this,Ca||(typeof window<"u"?Ca=window:typeof self<"u"&&(Ca=self))}N7();var aa="https://cdn.3dverse.com/legacy/sdk/avc.wasm",k7=function(e,t){var n=typeof n<"u"?n:{},i={},r;for(r in n)n.hasOwnProperty(r)&&(i[r]=n[r]);n.arguments=[],n.thisProgram="./this.program",n.quit=function(_t,gt){throw gt},n.preRun=[],n.postRun=[];var a=!1,l=!1,u=!1,h=!1;if(n.ENVIRONMENT)if(n.ENVIRONMENT==="WEB")a=!0;else if(n.ENVIRONMENT==="WORKER")l=!0;else if(n.ENVIRONMENT==="NODE")u=!0;else if(n.ENVIRONMENT==="SHELL")h=!0;else throw new Error("Module['ENVIRONMENT'] value is not valid. must be one of: WEB|WORKER|NODE|SHELL.");else a=typeof window=="object",l=typeof importScripts=="function",u=typeof process=="object"&&!1,h=!a&&!u&&!l;if(h)typeof read<"u"&&(n.read=function(_t){return read(_t)}),n.readBinary=function(_t){var gt;return typeof readbuffer=="function"?new Uint8Array(readbuffer(_t)):(gt=read(_t,"binary"),w(typeof gt=="object"),gt)},typeof scriptArgs<"u"?n.arguments=scriptArgs:typeof arguments<"u"&&(n.arguments=arguments),typeof quit=="function"&&(n.quit=function(_t,gt){quit(_t)});else if(a||l)n.read=function(_t){var gt=new XMLHttpRequest;return gt.open("GET",_t,!1),gt.send(null),gt.responseText},l&&(n.readBinary=function(_t){var gt=new XMLHttpRequest;return gt.open("GET",_t,!1),gt.responseType="arraybuffer",gt.send(null),new Uint8Array(gt.response)}),n.readAsync=function(_t,gt,jt){var St=new XMLHttpRequest;St.open("GET",_t,!0),St.responseType="arraybuffer",St.onload=function(){if(St.status==200||St.status==0&&St.response){gt(St.response);return}jt()},St.onerror=jt,St.send(null)},n.setWindowTitle=function(_t){document.title=_t};else throw new Error("not compiled for this environment");n.print=typeof console<"u"?console.log.bind(console):typeof print<"u"?print:null,n.printErr=typeof printErr<"u"?printErr:typeof console<"u"&&console.warn.bind(console)||n.print,n.print=n.print,n.printErr=n.printErr;for(r in i)i.hasOwnProperty(r)&&(n[r]=i[r]);i=void 0;var f=16;function d(_t){w(!bt);var gt=et;return et=et+_t+15&-16,gt}function p(_t,gt){gt||(gt=f);var jt=_t=Math.ceil(_t/gt)*gt;return jt}var y={"f64-rem":function(_t,gt){return _t%gt},debugger:function(){debugger}};new Array(0);var _=1024,v=0;function w(_t,gt){_t||_n("Assertion failed: "+gt)}function E(_t,gt){if(gt===0||!_t)return"";for(var jt=0,St,qt=0;St=$[_t+qt>>0],jt|=St,!(St==0&&!gt||(qt++,gt&&qt==gt)););gt||(gt=qt);var Wt="";if(jt<128){for(var ye=1024,Je;gt>0;)Je=String.fromCharCode.apply(String,$.subarray(_t,_t+Math.min(gt,ye))),Wt=Wt?Wt+Je:Je,_t+=ye,gt-=ye;return Wt}return z(_t)}var M=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function R(_t,gt){for(var jt=gt;_t[jt];)++jt;if(jt-gt>16&&_t.subarray&&M)return M.decode(_t.subarray(gt,jt));for(var St,qt,Wt,ye,Je,ni,ii="";;){if(St=_t[gt++],!St)return ii;if(!(St&128)){ii+=String.fromCharCode(St);continue}if(qt=_t[gt++]&63,(St&224)==192){ii+=String.fromCharCode((St&31)<<6|qt);continue}if(Wt=_t[gt++]&63,(St&240)==224?St=(St&15)<<12|qt<<6|Wt:(ye=_t[gt++]&63,(St&248)==240?St=(St&7)<<18|qt<<12|Wt<<6|ye:(Je=_t[gt++]&63,(St&252)==248?St=(St&3)<<24|qt<<18|Wt<<12|ye<<6|Je:(ni=_t[gt++]&63,St=(St&1)<<30|qt<<24|Wt<<18|ye<<12|Je<<6|ni))),St<65536)ii+=String.fromCharCode(St);else{var jn=St-65536;ii+=String.fromCharCode(55296|jn>>10,56320|jn&1023)}}}function z(_t){return R($,_t)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le");var D=65536,C=16777216;function N(_t,gt){return _t%gt>0&&(_t+=gt-_t%gt),_t}var k,$,q,X;function tt(_t){n.buffer=k=_t}function at(){n.HEAP8=new Int8Array(k),n.HEAP16=q=new Int16Array(k),n.HEAP32=X=new Int32Array(k),n.HEAPU8=$=new Uint8Array(k),n.HEAPU16=new Uint16Array(k),n.HEAPU32=new Uint32Array(k),n.HEAPF32=new Float32Array(k),n.HEAPF64=new Float64Array(k)}var J,et,bt,G,nt,ft,ht,F;J=et=G=nt=ft=ht=F=0,bt=!1;function ot(){_n("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+Mt+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function vt(){ot()}var wt=n.TOTAL_STACK||5242880,Mt=n.TOTAL_MEMORY||52428800;Mt<wt&&n.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+Mt+"! (TOTAL_STACK="+wt+")"),n.buffer?k=n.buffer:(typeof WebAssembly=="object"&&typeof WebAssembly.Memory=="function"?(n.wasmMemory=new WebAssembly.Memory({initial:Mt/D,maximum:Mt/D}),k=n.wasmMemory.buffer):k=new ArrayBuffer(Mt),n.buffer=k),at();function It(){return Mt}if(X[0]=1668509029,q[1]=25459,$[2]!==115||$[3]!==99)throw"Runtime error: expected the system to be little-endian!";function Rt(_t){for(;_t.length>0;){var gt=_t.shift();if(typeof gt=="function"){gt();continue}var jt=gt.func;typeof jt=="number"?gt.arg===void 0?n.dynCall_v(jt):n.dynCall_vi(jt,gt.arg):jt(gt.arg===void 0?null:gt.arg)}}var Ye=[],Xt=[],Bn=[],Ds=[],Vr=[],$r=!1;function bi(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)Cc(n.preRun.shift());Rt(Ye)}function qi(){$r||($r=!0,Rt(Xt))}function Sc(){Rt(Bn)}function Ac(){Rt(Ds)}function pn(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)$o(n.postRun.shift());Rt(Vr)}function Cc(_t){Ye.unshift(_t)}function $o(_t){Vr.unshift(_t)}var ei=0,An=null;function Fn(_t){ei++,n.monitorRunDependencies&&n.monitorRunDependencies(ei)}function Ls(_t){if(ei--,n.monitorRunDependencies&&n.monitorRunDependencies(ei),ei==0&&An){var gt=An;An=null,gt()}}n.preloadedImages={},n.preloadedAudios={};var Ho="data:application/octet-stream;base64,";function Cn(_t){return String.prototype.startsWith?_t.startsWith(Ho):_t.indexOf(Ho)===0}function Hr(){var _t="avc.wast",gt="avc.temp.asm.js";typeof n.locateFile=="function"&&(Cn(_t)||(_t=n.locateFile(_t)),Cn(aa)||(aa=n.locateFile(aa)),Cn(gt)||(gt=n.locateFile(gt)));var jt=64*1024,St={global:null,env:null,asm2wasm:y,parent:n},qt=null;function Wt(ae){var he=n.buffer;ae.byteLength<he.byteLength&&n.printErr("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here");var wi=new Int8Array(he),tn=new Int8Array(ae);tn.set(wi),tt(ae),at()}function ye(){try{if(n.wasmBinary)return new Uint8Array(n.wasmBinary);if(n.readBinary)return n.readBinary(aa);throw"on the web, we need the wasm binary to be preloaded and set on Module['wasmBinary']. emcc.py will do that for you when generating HTML (but not JS)"}catch(ae){_n(ae)}}function Je(){return!n.wasmBinary&&(a||l)&&typeof fetch=="function"?fetch(aa,{}).then(function(ae){if(!ae.ok)throw"failed to load wasm binary file at '"+aa+"'";return ae.arrayBuffer()}).catch(function(){return ye()}):new Promise(function(ae,he){ae(ye())})}function ni(ae,he,wi){if(typeof WebAssembly!="object")return n.printErr("no native wasm support detected"),!1;if(!(n.wasmMemory instanceof WebAssembly.Memory))return n.printErr("no native wasm Memory in use"),!1;he.memory=n.wasmMemory,St.global={NaN:NaN,Infinity:1/0},St["global.Math"]=Math,St.env=he;function tn(ri,Us){qt=ri.exports,qt.memory&&Wt(qt.memory),n.asm=qt,n.usingWasm=!0,Ls()}if(Fn(),n.instantiateWasm)try{return n.instantiateWasm(St,tn)}catch(ri){return n.printErr("Module.instantiateWasm callback failed with error: "+ri),!1}function Rn(ri){tn(ri.instance,ri.module)}function we(ri){Je().then(function(Us){return WebAssembly.instantiate(Us,St)}).then(ri).catch(function(Us){n.printErr("failed to asynchronously prepare wasm: "+Us),_n(Us)})}return!n.wasmBinary&&typeof WebAssembly.instantiateStreaming=="function"&&!Cn(aa)&&typeof fetch=="function"?WebAssembly.instantiateStreaming(fetch(aa,{}),St).then(Rn).catch(function(ri){n.printErr("wasm streaming compile failed: "+ri),n.printErr("falling back to ArrayBuffer instantiation"),we(Rn)}):we(Rn),{}}n.asmPreload=n.asm;var ii=n.reallocBuffer,jn=function(ae){var he=n.usingWasm?D:C;ae=N(ae,he);var wi=n.buffer,tn=wi.byteLength;if(n.usingWasm)try{var Rn=n.wasmMemory.grow((ae-tn)/jt);return Rn!==-1?n.buffer=n.wasmMemory.buffer:null}catch{return null}};n.reallocBuffer=function(ae){return Gi==="asmjs"?ii(ae):jn(ae)};var Gi="";n.asm=function(ae,he,wi){if(he=he,!he.table){var tn=n.wasmTableSize;tn===void 0&&(tn=1024);var Rn=n.wasmMaxTableSize;typeof WebAssembly=="object"&&typeof WebAssembly.Table=="function"?Rn!==void 0?he.table=new WebAssembly.Table({initial:tn,maximum:Rn,element:"anyfunc"}):he.table=new WebAssembly.Table({initial:tn,element:"anyfunc"}):he.table=new Array(tn),n.wasmTable=he.table}he.memoryBase||(he.memoryBase=n.STATIC_BASE),he.tableBase||(he.tableBase=0);var we;return we=ni(ae,he),w(we,"no binaryen method succeeded."),we}}Hr(),J=_,et=J+9888,Xt.push();var L=9888;n.STATIC_BASE=J,n.STATIC_BUMP=L,et+=16;var T={varargs:0,get:function(_t){T.varargs+=4;var gt=X[T.varargs-4>>2];return gt},getStr:function(){var _t=E(T.get());return _t},get64:function(){var _t=T.get(),gt=T.get();return _t>=0?w(gt===0):w(gt===-1),_t},getZero:function(){w(T.get()===0)}};function S(_t,gt){T.varargs=gt;try{var jt=T.getStreamFromFD(),St=T.get(),qt=T.get(),Wt=T.get(),ye=T.get(),Je=qt;return FS.llseek(jt,Je,ye),X[Wt>>2]=jt.position,jt.getdents&&Je===0&&ye===0&&(jt.getdents=null),0}catch(ni){return(typeof FS>"u"||!(ni instanceof FS.ErrnoError))&&_n(ni),-ni.errno}}function P(_t,gt){T.varargs=gt;try{var jt=T.get(),St=T.get(),qt=T.get(),Wt=0;P.buffers||(P.buffers=[null,[],[]],P.printChar=function(jn,Gi){var ae=P.buffers[jn];w(ae),Gi===0||Gi===10?((jn===1?n.print:n.printErr)(R(ae,0)),ae.length=0):ae.push(Gi)});for(var ye=0;ye<qt;ye++){for(var Je=X[St+ye*8>>2],ni=X[St+(ye*8+4)>>2],ii=0;ii<ni;ii++)P.printChar(jt,$[Je+ii]);Wt+=ni}return Wt}catch(jn){return(typeof FS>"u"||!(jn instanceof FS.ErrnoError))&&_n(jn),-jn.errno}}function Y(_t,gt){T.varargs=gt;try{return 0}catch(jt){return(typeof FS>"u"||!(jt instanceof FS.ErrnoError))&&_n(jt),-jt.errno}}function lt(_t,gt){T.varargs=gt;try{var jt=T.getStreamFromFD();return FS.close(jt),0}catch(St){return(typeof FS>"u"||!(St instanceof FS.ErrnoError))&&_n(St),-St.errno}}function mt(){e()}n._broadwayOnHeadersDecoded=mt;function Nt(_t,gt,jt){t(_t,gt,jt)}n._broadwayOnPictureDecoded=Nt;function Qt(_t,gt,jt){return $.set($.subarray(gt,gt+jt),_t),_t}function ee(_t){return n.___errno_location&&(X[n.___errno_location()>>2]=_t),_t}F=d(4),G=nt=p(et),ft=G+wt,ht=p(ft),X[F>>2]=ht,bt=!0,n.wasmTableSize=10,n.wasmMaxTableSize=10,n.asmGlobalArg={},n.asmLibraryArg={abort:_n,enlargeMemory:vt,getTotalMemory:It,abortOnCannotGrowMemory:ot,___setErrNo:ee,___syscall140:S,___syscall146:P,___syscall54:Y,___syscall6:lt,_broadwayOnHeadersDecoded:mt,_broadwayOnPictureDecoded:Nt,_emscripten_memcpy_big:Qt,DYNAMICTOP_PTR:F,STACKTOP:nt};var ne=n.asm(n.asmGlobalArg,n.asmLibraryArg,k);n.asm=ne,n._broadwayCreateStream=function(){return n.asm._broadwayCreateStream.apply(null,arguments)},n._broadwayExit=function(){return n.asm._broadwayExit.apply(null,arguments)},n._broadwayGetMajorVersion=function(){return n.asm._broadwayGetMajorVersion.apply(null,arguments)},n._broadwayGetMinorVersion=function(){return n.asm._broadwayGetMinorVersion.apply(null,arguments)},n._broadwayInit=function(){return n.asm._broadwayInit.apply(null,arguments)},n._broadwayPlayStream=function(){return n.asm._broadwayPlayStream.apply(null,arguments)},n.asm=ne;function Zt(_t){this.name="ExitStatus",this.message="Program terminated with exit("+_t+")",this.status=_t}Zt.prototype=new Error,Zt.prototype.constructor=Zt;var md;An=function _t(){n.calledRun||Io(),n.calledRun||(An=_t)};function Io(_t){if(_t=_t||n.arguments,ei>0||(bi(),ei>0)||n.calledRun)return;function gt(){n.calledRun||(n.calledRun=!0,!v&&(qi(),Sc(),n.onRuntimeInitialized&&n.onRuntimeInitialized(),pn()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),gt()},1)):gt()}n.run=Io;function Rc(_t,gt){gt&&n.noExitRuntime&&_t===0||(n.noExitRuntime||(v=!0,nt=md,Ac(),n.onExit&&n.onExit(_t)),u&&process.exit(_t),n.quit(_t,new Zt(_t)))}n.exit=Rc;function _n(_t){throw n.onAbort&&n.onAbort(_t),_t!==void 0?(n.print(_t),n.printErr(_t),_t=JSON.stringify(_t)):_t="",v=!0,"abort("+_t+"). Build with -s ASSERTIONS=1 for more info."}if(n.abort=_n,n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();n.noExitRuntime=!0,Io();var Ir;typeof Ca<"u"&&Ca.Module&&(Ir=Ca.Module),typeof n<"u"&&(Ir=n),Ir._broadwayOnHeadersDecoded=e,Ir._broadwayOnPictureDecoded=t;var Oc=!1,qo,zc=function(){Oc=!0,qo&&qo(Ir)};return Ir.onRuntimeInitialized=function(){zc()},function(_t){Oc?_t(Ir):qo=_t}},Ar=function(){return new Date().getTime()};typeof performance<"u"&&performance.now&&(Ar=function(){return performance.now()});var ap=function(e){this.options=e||{},this.now=Ar;var t,n={},i,r,a=(function(d,p,y){var _=this.pictureBuffers[d];_||(_=this.pictureBuffers[d]=i(d,p*y*3/2));var v,w=!1;if(this.infoAr.length&&(w=!0,v=this.infoAr),this.infoAr=[],this.options.rgb){t||(t=P7(p,y)),t.inp.set(_),t.doit();var E=new Uint8Array(t.outSize);E.set(t.out),w&&(v[0].finishDecoding=Ar()),this.onPictureDecoded(E,p,y,v);return}w&&(v[0].finishDecoding=Ar()),this.onPictureDecoded(_,p,y,v)}).bind(this);this.options.sliceMode&&(a=(function(d,p,y,_){{var v=this.pictureBuffers[d];v||(v=this.pictureBuffers[d]=i(d,p*y*3/2));var w=this.pictureBuffers[_];w||(w=this.pictureBuffers[_]=r(_,18));var E;this.infoAr.length&&(E=this.infoAr),this.infoAr=[],E[0].finishDecoding=Ar();for(var M=[],R=0;R<20;++R)M.push(w[R]);E[0].sliceInfoAr=M,this.onPictureDecoded(v,p,y,E)}}).bind(this));var l=k7.apply(n,[function(){},a]),u=1024*1024,h=this;this.onPictureDecoded=function(d,p,y,_){},this.onDecoderReady=function(){};var f=[];this.decode=function(d,p,y){f.push([d,p,y])},l(function(d){d.HEAP8;var p=d.HEAPU8;d.HEAP16,d.HEAP32,d._broadwayInit(),i=function(v,w){return p.subarray(v,v+w)},r=function(v,w){return new Uint32Array(p.buffer,v,w)},h.streamBuffer=i(d._broadwayCreateStream(u),u),h.pictureBuffers={},h.infoAr=[];var y=0;if(h.options.sliceMode?(y=h.options.sliceNum,h.decode=function(v,w,E){h.infoAr.push(w),w.startDecoding=Ar();var M=w.nals,R;if(!M){M=[],w.nals=M;var z=v.length,D=!1,C=0,N=0;for(R=0;R<z;++R)if(v[R]===1&&v[R-1]===0&&v[R-2]===0){var k=R-2;v[R-3]===0&&(k=R-3),D&&M.push({offset:C,end:k,type:v[N]&31}),C=k,N=k+3,v[R-3]===0&&(N=k+4),D=!0}D&&M.push({offset:C,end:R,type:v[N]&31})}var $=0,q,X=0;for(R=0;R<M.length;++R)M[R].type===1||M[R].type===5?($===y&&(q=v.subarray(M[R].offset,M[R].end),h.streamBuffer[X]=0,X+=1,h.streamBuffer.set(q,X),X+=q.length),$+=1):(q=v.subarray(M[R].offset,M[R].end),h.streamBuffer[X]=0,X+=1,h.streamBuffer.set(q,X),X+=q.length,d._broadwayPlayStream(X),X=0);E(),d._broadwayPlayStream(X)}):h.decode=function(v,w){w&&(h.infoAr.push(w),w.startDecoding=Ar()),h.streamBuffer.set(v),d._broadwayPlayStream(v.length)},f.length){var _=0;for(_=0;_<f.length;++_)h.decode(f[_][0],f[_][1],f[_][2]);f=[]}h.onDecoderReady(h)})};ap.prototype={};var Iy={},P7=function(e,t){var n=""+e+"x"+t;if(Iy[n])return Iy[n];for(var i=e*t,r=(i|0)>>2,a=i+r+r,l=e*t*4,u=Math.pow(2,24)*4,h=a+l+u,f=Math.pow(2,24),d=f;d<h;)d+=f;var p=new ArrayBuffer(d),y=B7(Ca,{},p);return y.init(e,t),Iy[n]=y,y.heap=p,y.out=new Uint8Array(p,0,l),y.inp=new Uint8Array(p,l,a),y.outSize=l,y};function B7(e,t,n){var i=e.Math.imul,r=e.Math.min,a=e.Math.max,l=e.Math.pow;new e.Uint8Array(n),new e.Uint32Array(n);var u=new e.Uint8Array(n);new e.Uint8Array(n);var h=new e.Uint32Array(n),f=0,d=0,p=0,y=0,_=0,v=0,w=0,E=0,M=0,R=0;function z(N,k){N=N|0,k=k|0;var $=0,q=0;for(f=N,M=i(N,4)|0,d=k,p=i(f|0,d|0)|0,y=(p|0)>>2,v=i(i(f,d)|0,4)|0,_=p+y|0+y|0,E=0,w=E+v|0,R=w+_|0,q=~~+l(2,24),q=i(q,4)|0,$=0;($|0)<(q|0)|0;$=$+4|0)h[(R+$|0)>>2]=0}function D(){var N=0,k=0,$=0,q=0,X=0,tt=0,at=0,J=0,et=0,bt=0,G=0,nt=0;for(G=E|0,N=w|0,k=N+p|0|0,$=k+y|0,et=0;(et|0)<(d|0);et=et+2|0){for(bt=0;(bt|0)<(f|0);bt=bt+2|0)q=u[N>>0]|0,X=u[(N+f|0)>>0]|0,tt=u[k>>0]|0,at=u[$>>0]|0,nt=((q<<16|0)+(tt<<8|0)|0)+at|0,J=h[(R+nt|0)>>2]|0,J||(J=C(q,tt,at)|0,h[(R+nt|0)>>2]=J|0),h[G>>2]=J,nt=((X<<16|0)+(tt<<8|0)|0)+at|0,J=h[(R+nt|0)>>2]|0,J||(J=C(X,tt,at)|0,h[(R+nt|0)>>2]=J|0),h[(G+M|0)>>2]=J,G=G+4|0,N=N+1|0,q=u[N>>0]|0,X=u[(N+f|0)>>0]|0,nt=((q<<16|0)+(tt<<8|0)|0)+at|0,J=h[(R+nt|0)>>2]|0,J||(J=C(q,tt,at)|0,h[(R+nt|0)>>2]=J|0),h[G>>2]=J,nt=((X<<16|0)+(tt<<8|0)|0)+at|0,J=h[(R+nt|0)>>2]|0,J||(J=C(X,tt,at)|0,h[(R+nt|0)>>2]=J|0),h[(G+M|0)>>2]=J,G=G+4|0,N=N+1|0,k=k+1|0,$=$+1|0;G=G+M|0,N=N+f|0}}function C(N,k,$){N=N|0,k=k|0,$=$|0;var q=0,X=0,tt=0,at=0,J=0,et=0,bt=0,G=0,nt=0;return J=i(1192,N-16|0)|0,et=i(1634,$-128|0)|0,bt=i(832,$-128|0)|0,G=i(400,k-128|0)|0,nt=i(2066,k-128|0)|0,q=(J+et|0)>>10|0,X=((J-bt|0)-G|0)>>10|0,tt=(J+nt|0)>>10|0,(q&255|0)!=(q|0)|0&&(q=r(255,a(0,q|0)|0)|0),(X&255|0)!=(X|0)|0&&(X=r(255,a(0,X|0)|0)|0),(tt&255|0)!=(tt|0)|0&&(tt=r(255,a(0,tt|0)|0)|0),at=255,at=at<<8|0,at=at+tt|0,at=at<<8|0,at=at+X|0,at=at<<8|0,at=at+q|0,at|0}return{init:z,doit:D}}typeof self<"u"&&(qy=!1,Lm=!1,Dh=!1,Lh=0,Um=0,Nm=0,Uh=0,km=[],Nh=[],Yy=function(e){if(Nh.length){for(var t=Nh.shift();t&&t.byteLength!==e;)t=Nh.shift();if(t)return t}return new ArrayBuffer(e)},Bm=function(e,t,n,i,r){var a=function(d,p){var y=0;for(y=0;y<16;++y){var _=d+i*y,v=p+i*y;t.set(e.subarray(_,v),_)}},l=function(d,p){var y=0;for(y=0;y<8;++y){var _=d+i/2*y,v=p+i/2*y;t.set(e.subarray(_,v),_)}},u=function(d,p){t.set(e.subarray(d,p),d)},h=n[0],f=n[1];f>0&&(a(h,f),l(n[2],n[3]),l(n[4],n[5])),h=n[6],f=n[7],f>0&&(a(h,f),l(n[8],n[9]),l(n[10],n[11])),h=n[12],f=n[15],f>0&&(u(h,f),u(n[13],n[16]),u(n[14],n[17]))},Xy=function(e){Um=e,Nm=Um-1},self.addEventListener("message",function(e){if(qy){if(Lm&&e.data.reuse&&Nh.push(e.data.reuse),e.data.buf){Dh&&Uh!==0?km.push(e.data):Ul.decode(new Uint8Array(e.data.buf,e.data.offset||0,e.data.length),e.data.info,function(){Dh&&Lh!==Nm&&postMessage(e.data,[e.data.buf])});return}if(e.data.slice){var t=Ar();if(Bm(new Uint8Array(e.data.slice),Gy,e.data.infos[0].sliceInfoAr,e.data.width,e.data.height),e.data.theOne&&(Bm(Gy,new Uint8Array(e.data.slice),xT,e.data.width,e.data.height),Pm>e.data.infos[0].timeDecoding&&(e.data.infos[0].timeDecoding=Pm),e.data.infos[0].timeCopy+=Ar()-t),postMessage(e.data,[e.data.slice]),Uh-=1,Uh===0&&km.length){var n=km.shift();Ul.decode(new Uint8Array(n.buf,n.offset||0,n.length),n.info,function(){Dh&&Lh!==Nm&&postMessage(n,[n.buf])})}return}if(e.data.setSliceCnt){Xy(e.data.sliceCnt);return}}else e.data&&e.data.type==="Broadway.js - Worker init"&&(qy=!0,Ul=new ap(e.data.options),e.data.options.sliceMode?(Lm=!0,Dh=!0,Lh=e.data.options.sliceNum,Xy(e.data.options.sliceCnt),Ul.onPictureDecoded=function(i,r,a,l){var u=new Uint8Array(Yy(i.length));Bm(i,u,l[0].sliceInfoAr,r,a),bT=l[0].startDecoding,wT=l[0].finishDecoding,Pm=wT-bT,l[0].timeDecoding=Pm,l[0].timeCopy=0,postMessage({slice:u.buffer,sliceNum:Lh,width:r,height:a,infos:l},[u.buffer]),Uh=Um-1,Gy=i,xT=l[0].sliceInfoAr}):e.data.options.reuseMemory?(Lm=!0,Ul.onPictureDecoded=function(i,r,a,l){var u=new Uint8Array(Yy(i.length));u.set(i,0,i.length),postMessage({buf:u.buffer,length:i.length,width:r,height:a,infos:l},[u.buffer])}):Ul.onPictureDecoded=function(i,r,a,l){i&&(i=new Uint8Array(i));var u=new Uint8Array(i.length);u.set(i,0,i.length),postMessage({buf:u.buffer,length:i.length,width:r,height:a,infos:l},[u.buffer])},postMessage({consoleLog:"broadway worker initialized"}))},!1));var qy,Ul,Lm,Dh,Lh,Um,Nm,xT,Gy,Uh,km,bT,wT,Pm,Nh,Yy,Bm,Xy;ap.nowValue=Ar;var F7=ap,j7=q6(G6()),Hf,hc,zC,DC,FA,OC=(FA=class{constructor({decoded_frame_consumer:t}){V(this,hc);V(this,Hf,null);ut(this,Hf,t)}_onFrameDecoded({decoded_frame:t}){var n;xt(this,hc,zC).call(this,{meta_data:t.meta_data}),(n=x(this,Hf))==null||n.consumeDecodedFrame({decoded_frame:t})}},Hf=new WeakMap,hc=new WeakSet,zC=function({meta_data:t}){var n;xt(this,hc,DC).call(this,{meta_data:t});for(let i of t.viewport_layout_camera_entities)(n=i.viewport.camera_projection)==null||n.updateFromFrameCameraTransform({frame_camera_transform:i})},DC=function({meta_data:t}){for(let{camera_entity:n,world_position:i,world_orientation:r}of t.other_clients_camera_entities)n._setGlobalTransform({global_transform:{position:i,orientation:r},change_source:"external"})},FA),If,_s,Ma,Q0,jA,V7=(jA=class extends OC{constructor({decoded_frame_consumer:t}){super({decoded_frame_consumer:t});V(this,If,new F7);V(this,_s,null);V(this,Ma,null);V(this,Q0,(t,n,i,r)=>{let a=n,l=i,u=n/2,h=i/2,f=a*l,d=u*h;x(this,Ma).drawNextOutputPicture({yData:t.subarray(0,f),uData:t.subarray(f,f+d),vData:t.subarray(f+d,f+d+d),yDataPerRow:a,yRowCnt:l,uDataPerRow:u,uRowCnt:h});let p=r[0];super._onFrameDecoded({decoded_frame:{pixels:x(this,_s),dimensions_in_pixels:[n,i],meta_data:p}})})}configure({codec:t,frame_dimensions:n}){if(t!=="h264")throw new Error("Software decoder supports only h264 encoding");return ut(this,_s,new OffscreenCanvas(n[0],n[1])),ut(this,Ma,new j7.default({canvas:x(this,_s),width:n[0],height:n[1]})),x(this,If).onPictureDecoded=x(this,Q0),Promise.resolve(this)}resize({frame_dimensions:t}){x(this,_s)&&(x(this,_s).width=t[0],x(this,_s).height=t[1]),x(this,Ma)&&(x(this,Ma).width=t[0],x(this,Ma).height=t[1])}release(){}consumeEncodedFrame({encoded_frame:t}){let n=new Uint8Array(t.video_stream.buffer,t.video_stream.byteOffset,t.video_stream.byteLength);x(this,If).decode(n,t.meta_data)}},If=new WeakMap,_s=new WeakMap,Ma=new WeakMap,Q0=new WeakMap,jA),Es,Rr,a0,Kg,ys,Tr,qu,Gu,Ao,W0,ET=(Rr=class extends OC{constructor({decoded_frame_consumer:n}){super({decoded_frame_consumer:n});V(this,ys,null);V(this,Tr,null);V(this,qu,!0);V(this,Gu,new Map);V(this,Ao,null);V(this,W0,n=>{x(this,Ao)&&x(this,Ao).close();let i=x(this,Gu).get(n.timestamp);if(!i){console.error("No meta data for frame",n.timestamp);return}super._onFrameDecoded({decoded_frame:{pixels:n,dimensions_in_pixels:[n.displayWidth,n.displayHeight],meta_data:i}}),x(this,Gu).delete(n.timestamp),ut(this,Ao,n)})}static async findSupportedCodec(){var n;if(typeof VideoDecoder>"u")return null;for(let i of x(this,Es,a0).keys()){let r=await xt(n=Rr,Es,Kg).call(n,{codec:i});if(r)return r.codec,i}return null}async configure({codec:n,frame_dimensions:i}){var a;this.release();let r=await xt(a=Rr,Es,Kg).call(a,{codec:n,frame_dimensions:i});if(!r)throw new Error("Codec not supported");return ut(this,ys,new VideoDecoder({output:x(this,W0),error:l=>console.error(l.message)})),ut(this,Tr,r),x(this,ys).configure(x(this,Tr)),x(this,Tr),this}resize({frame_dimensions:n}){x(this,ys)&&x(this,Tr)&&(x(this,Tr).codedWidth=n[0],x(this,Tr).codedHeight=n[1],ut(this,qu,!1),x(this,ys).configure(x(this,Tr)))}release(){var n,i;(n=x(this,Ao))==null||n.close(),(i=x(this,ys))==null||i.close()}consumeEncodedFrame({encoded_frame:n}){let i=new EncodedVideoChunk({timestamp:n.meta_data.frame_counter,type:x(this,qu)?"key":"delta",data:new Uint8Array(n.video_stream.buffer,n.video_stream.byteOffset,n.video_stream.byteLength)});ut(this,qu,!1),x(this,Gu).set(n.meta_data.frame_counter,n.meta_data),x(this,ys).decode(i)}},Es=new WeakSet,a0=function(){return Object.freeze(new Map([["h265",["hvc1.1.6.L123.00"]],["h264",["avc1.42001E","avc1.42002A","avc1.42E01E","avc1.64001f","avc1.42002A"]]]))},Kg=async function({codec:n,frame_dimensions:i}){if(typeof VideoDecoder>"u"||!x(Rr,Es,a0).has(n))return null;let r=x(Rr,Es,a0).get(n),a={codec:"",codedWidth:i==null?void 0:i[0],codedHeight:i==null?void 0:i[1],optimizeForLatency:!0},l=["prefer-hardware","prefer-software","no-preference"];for(let u of l)if(!(n==="h264"&&u==="prefer-hardware"))for(let h of r){a.codec=h;let f=await VideoDecoder.isConfigSupported({...a,hardwareAcceleration:u});if(f.supported&&f.config)return f.config}return null},ys=new WeakMap,Tr=new WeakMap,qu=new WeakMap,Gu=new WeakMap,Ao=new WeakMap,W0=new WeakMap,V(Rr,Es),Rr),ev=class{refreshSize(){}},$7=class extends ev{constructor(t,n){super();H(this,"_canvas");H(this,"_context2D");let i=t.getContext("2d",n);if(i===null)throw new Error(`Cannot create a 2d context from canvas ${t}`);this._canvas=t,this._context2D=i}drawFrameSection({frame_section:t,viewport:n}){let i=t.section.left*t.dimensions_in_pixels[0],r=t.section.top*t.dimensions_in_pixels[1],a=t.section.width*t.dimensions_in_pixels[0],l=t.section.height*t.dimensions_in_pixels[1],u=n.left*this._canvas.width,h=n.top*this._canvas.height,f=n.width*this._canvas.width,d=n.height*this._canvas.height;this._context2D.drawImage(t.pixels,i,r,a,l,u,h,f,d)}release(){this._context2D.reset()}},H7=class extends ev{constructor(t,n="webgl",i){super();H(this,"_canvas");H(this,"_context");H(this,"_texture_ref",null);H(this,"_shader_program",null);H(this,"_frame_buffer",null);let r=t.getContext(n,i);if(r===null)throw new Error(`Cannot create a ${n} context from canvas`);this._canvas=t,this._context=r,this._initShaderProgram(),this._initBuffers(),this._initTexture()}get native(){return this._context}set frame_buffer(t){this._frame_buffer=t}drawFrameSection({frame_section:t}){let n=this._context;this._frame_buffer!==null&&n.bindFramebuffer(n.FRAMEBUFFER,this._frame_buffer),n.clearColor(1,0,0,1),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT);let i=n.getUniformLocation(this._shader_program,"size"),r=n.getUniformLocation(this._shader_program,"offset");n.uniform2fv(i,[t.section.width,t.section.height]),n.uniform2fv(r,[t.section.left,t.section.top]),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,this._texture_ref),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t.pixels),n.drawArrays(n.TRIANGLE_STRIP,0,4)}refreshSize(){this._context.viewport(0,0,this._canvas.width,this._canvas.height)}release(){let t=this._context;t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}_initShaderProgram(){let t=this._context,n=`
            attribute vec2 position;
            varying vec2 texCoord;
            uniform vec2 size;
            uniform vec2 offset;

            void main() {
                texCoord = (position + 1.0) * 0.5;
                texCoord.y = 1.0 - texCoord.y;
                texCoord = size * texCoord + offset;
                gl_Position = vec4(position, 0.0, 1.0);
            }`,i=t.createShader(t.VERTEX_SHADER);t.shaderSource(i,n),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)||console.error("Vertex shader failed to compile: "+t.getShaderInfoLog(i));let r=`
            precision mediump float;
            varying vec2 texCoord;
            uniform sampler2D texture;

            void main() {
                gl_FragColor = texture2D(texture, texCoord);
            }`,a=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(a,r),t.compileShader(a),t.getShaderParameter(a,t.COMPILE_STATUS)||console.error("Fragment shader failed to compile: "+t.getShaderInfoLog(a));let l=t.createProgram();t.attachShader(l,i),t.attachShader(l,a),t.linkProgram(l),t.useProgram(l),t.getProgramParameter(l,t.LINK_STATUS)||console.error("Program failed to compile: "+t.getProgramInfoLog(l)),t.useProgram(l),this._shader_program=l}_initBuffers(){let t=this._context,n=t.createBuffer(),i=new Float32Array([1,1,-1,1,1,-1,-1,-1]);t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW);let r=t.getAttribLocation(this._shader_program,"position");t.enableVertexAttribArray(r),t.vertexAttribPointer(r,2,t.FLOAT,!1,0,0)}_initTexture(){let t=this._context;this._texture_ref=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this._texture_ref),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.bindTexture(t.TEXTURE_2D,null);let n=t.getUniformLocation(this._shader_program,"texture");t.uniform1i(n,0)}},Co,VA,LC=(VA=class extends sc{constructor(){super(...arguments);H(this,"viewports",[]);V(this,Co,null);H(this,"relative_rect",new Ts({left:0,top:0,width:1,height:1}))}get dimensions(){return[this.width,this.height]}addViewport({viewport:t}){this.viewports.push(t)}removeViewport({viewport:t}){let n=this.viewports.indexOf(t);n!==-1&&this.viewports.splice(n,1)}release(){ut(this,Co,null);for(let t of this.viewports)t.release()}isValid(){return this.viewports.length>0&&this.viewports.every(t=>t.isValid())}drawFrame({decoded_frame:t}){ut(this,Co,t),this._drawFrame({decoded_frame:t})}redrawLastFrame(){x(this,Co)!==null&&this._drawFrame({decoded_frame:x(this,Co)})}_getViewportConfigs({width:t,height:n}){if(!this.isValid())throw new Error("Invalid config");let i=[this.relative_rect.left*t,this.relative_rect.top*n];return this.viewports.map(r=>({camera_rtid:r.camera_projection.camera_entity.rtid,left:(i[0]+r.relative_rect.left*this.width)/t,top:(i[1]+r.relative_rect.top*this.height)/n,width:r.width/t,height:r.height/n,render_target_index:r.render_target_index,z_index:r.z_index}))}},Co=new WeakMap,VA),Ln,Yu,Xu,J0,qf,tp,ep,np,UC,$A,I7=($A=class{constructor({canvas:e,onResized:t}){V(this,np);V(this,Ln);V(this,Yu);V(this,Xu,null);V(this,J0,500);V(this,qf);V(this,tp,()=>{x(this,Xu)&&clearTimeout(x(this,Xu)),ut(this,Xu,setTimeout(x(this,ep),x(this,J0)))});V(this,ep,()=>{let e=[x(this,Ln).width,x(this,Ln).height];x(this,Ln).width=x(this,Ln).clientWidth,x(this,Ln).height=x(this,Ln).clientHeight;let t=[x(this,Ln).width,x(this,Ln).height];x(this,Ln).width===0||x(this,Ln).height===0||xt(this,np,UC).call(this,e,t)&&x(this,qf).call(this,{old_size:e,new_size:t})});ut(this,Ln,e),ut(this,Yu,new ResizeObserver(x(this,tp))),ut(this,qf,t),x(this,Yu).observe(x(this,Ln))}release(){x(this,Yu).disconnect()}},Ln=new WeakMap,Yu=new WeakMap,Xu=new WeakMap,J0=new WeakMap,qf=new WeakMap,tp=new WeakMap,ep=new WeakMap,np=new WeakSet,UC=function(e,t){return e.some((n,i)=>n!==t[i])},$A),NC=class extends Event{constructor(){super("on-rendering-surface-resized")}},gs,sr,Gf,ip,HA,q7=(HA=class extends LC{constructor({canvas_element:t,context_type:n,context_attributes:i}){super();V(this,gs);V(this,sr);V(this,Gf);V(this,ip,t=>{x(this,sr).refreshSize(),this._dispatchEvent(new NC);for(let n of this.viewports)n._onResize()});let r=typeof t=="string"?document.getElementById(t):t;if(r===null)throw new Error(`Cannot find canvas ${t}`);if(r.nodeName!=="CANVAS")throw new Error(`HTML element ${t} is a '${r.nodeName}', it MUST be CANVAS`);switch(ut(this,gs,r),n){case"2d":ut(this,sr,new $7(x(this,gs)));break;case"webgl":case"webgl2":ut(this,sr,new H7(x(this,gs),n,i));break}this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight,ut(this,Gf,new I7({canvas:this.canvas,onResized:x(this,ip)})),x(this,sr).refreshSize()}get width(){return x(this,gs).clientWidth}get height(){return x(this,gs).clientHeight}get canvas(){return x(this,gs)}release(){super.release(),x(this,Gf).release(),x(this,sr).release()}getContext(){return x(this,sr)}getBoundingRect(){let t=this.canvas.getClientRects()[0];return t&&(t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height)),new K1(t??{width:this.canvas.width,height:this.canvas.height})}_drawFrame({decoded_frame:t}){x(this,sr).drawFrameSection({frame_section:{pixels:t.pixels,dimensions_in_pixels:t.dimensions_in_pixels,meta_data:t.meta_data,section:this.relative_rect},viewport:Ts.default});for(let n of this.viewports){let i=n._drawOverlays();i&&x(this,sr).drawFrameSection({frame_section:{pixels:i,dimensions_in_pixels:[i.width,i.height],meta_data:t.meta_data,section:Ts.default},viewport:n.relative_rect})}}},gs=new WeakMap,sr=new WeakMap,Gf=new WeakMap,ip=new WeakMap,HA),ar,Sa,vs,IA,G7=(IA=class extends LC{constructor({width:t,height:n,context_constructor:i,context_type:r,context_options:a,resolution_scale:l=1}){super();V(this,ar);V(this,Sa);V(this,vs);ut(this,ar,document.createElement("canvas")),x(this,ar).width=t,x(this,ar).height=n,ut(this,Sa,new i(x(this,ar),r,a)),ut(this,vs,l)}get width(){return Math.floor(x(this,ar).width*x(this,vs))}get height(){return Math.floor(x(this,ar).height*x(this,vs))}get context(){return x(this,Sa)}get cameras(){return this.viewports.map(t=>{var n;return(n=t.camera_projection)!=null&&n.camera_entity?t.camera_projection.camera_entity:null}).filter(t=>t!==null)}release(){super.release(),x(this,Sa).release()}_drawFrame({decoded_frame:t}){x(this,Sa).drawFrameSection({frame_section:{pixels:t.pixels,section:this.relative_rect,dimensions_in_pixels:t.dimensions_in_pixels,meta_data:t.meta_data},viewport:Ts.default})}getBoundingRect(){return new K1({width:this.width,height:this.height})}resize(t,n){x(this,ar).width=t,x(this,ar).height=n,x(this,Sa).refreshSize()}get resolution_scale(){return x(this,vs)}set resolution_scale(t){x(this,vs)!==t&&(ut(this,vs,t),this._dispatchEvent(new NC))}},ar=new WeakMap,Sa=new WeakMap,vs=new WeakMap,IA);typeof window<"u"&&(window.__LIVELINK__||(window.__LIVELINK__={}),Object.prototype.hasOwnProperty.call(window.__LIVELINK__,"@3dverse/livelink")?console.warn("⚠️ WARNING ⚠️ Multiple instances of Livelink being imported."):window.__LIVELINK__["@3dverse/livelink"]="0.8.46");var Ms=ZA(),Y7=Object.defineProperty,X7=(e,t)=>{for(var n in t)Y7(e,n,{get:t[n],enumerable:!0})},ti=O.createContext({instance:null,isConnecting:!1,isDisconnected:!1,disconnect:()=>{}});function Z7({sceneId:e,sessionId:t,isTransient:n,token:i,LoadingPanel:r,InactivityWarningPanel:a,ConnectionErrorPanel:l,autoJoinExisting:u=!0,clientType:h,children:f}){let[d,p]=O.useState(null),[y,_]=O.useState(!0),[v,w]=O.useState(!1),[E,M]=O.useState(null),[R,z]=O.useState("Unknown error"),D=O.useRef(new Map),C=O.useCallback(()=>d==null?void 0:d.disconnect(),[d]);return O.useEffect(()=>{let N=async({autoJoinExisting:X,sceneId:tt,sessionId:at,clientType:J})=>{if(at){let et=await y0.findById({session_id:at,token:i});if(!et)throw new Error(`Session '${at}' not found on scene '${tt}'`);return ji.join({session:et})}if(tt)return X?ji.join_or_start({scene_id:tt,token:i,is_transient:n}):ji.start({scene_id:tt,token:i,is_transient:n});if(J==="guest"){let et=await y0.findByGuestToken({guest_token:i});if(!et)throw new Error(`No session available for guest token '${i}'`);return ji.join({session:et})}throw new Error("What are we doing here?!")},k=X=>{let tt=Q7(X),at=D.current.get(tt);return at||(at=N(X).then(J=>(D.current.delete(tt),J)),D.current.set(tt,at)),at},$=new AbortController,q=()=>{M(null)};return k({autoJoinExisting:u,sceneId:e,sessionId:t,token:i,clientType:h}).then(X=>{$.signal.aborted||(K7(X),p(X),X.TO_REMOVE__setReadyCallback(async()=>{X.startStreaming(),_(!1)}),X.session.addEventListener("on-inactivity-warning",M),X.session.addEventListener("on-activity-detected",q))}).catch(X=>{_(!1),w(!0),z(X)}),()=>{$.abort(),d==null||d.session.removeEventListener("on-inactivity-warning",M),d==null||d.session.removeEventListener("on-activity-detected",q),p(null),_(!0),w(!1),M(null)}},[i,u,e,t,n,h]),O.useEffect(()=>{if(!d)return;let N=k=>{w(!0),M(null),z(k.reason)};return d.session.addEventListener("on-disconnected",N),()=>{d.session.removeEventListener("on-disconnected",N)}},[d]),O.useEffect(()=>()=>{d==null||d.disconnect()},[d]),At.createElement(ti.Provider,{value:{instance:d,isConnecting:y,isDisconnected:v,disconnect:C}},y&&r&&At.createElement(r,{stage:""}),v&&l&&At.createElement(l,{error:R}),E&&a&&At.createElement(a,{warningDuration:E.seconds_remaining,onActivityDetected:()=>{E.resetTimer(),M(null)}}),f)}function K7(e){let t=async()=>{e.session.removeEventListener("TO_REMOVE__viewports-added",t);let n=await ET.findSupportedCodec();await e.configureRemoteServer({codec:n||void 0}),await e.setEncodedFrameConsumer({encoded_frame_consumer:n!==null?new ET({decoded_frame_consumer:e.default_decoded_frame_consumer}):new V7({decoded_frame_consumer:e.default_decoded_frame_consumer})}),e.TO_REMOVE__startIfReady()};e.session.addEventListener("TO_REMOVE__viewports-added",t)}function Q7(e){return JSON.stringify(e)}function Un(e,t=[]){let{instance:n}=O.useContext(ti),[i,r]=O.useState(null),[a,l]=O.useState(!0),[,u]=O.useReducer(f=>f+1,0),h=e;return O.useEffect(()=>n?((async()=>"components"in e?await n.scene.newEntity(e):"linkage"in h?await n.scene.findEntity({entity_uuid:h.euid,linkage:h.linkage}):"euid"in h?(await n.scene.findEntities({entity_uuid:h.euid}))[0]:"name"in h&&h.name?(await n.scene.findEntitiesByNames({entity_names:[h.name]}))[0]:"mandatory_components"in h?(await n.scene.findEntitiesWithComponents({mandatory_components:h.mandatory_components,forbidden_components:h.forbidden_components}))[0]:null)().then(f=>r(f)).finally(()=>l(!1)),()=>{r(null),l(!0)}):void 0,[n,JSON.stringify(h)]),O.useEffect(()=>{let f=t==="any",d=t.length===0;if(!i||d)return;let p=f?u:y=>{y.isAnyComponentDirty({components:t})&&u()};return i.addEventListener("on-entity-updated",p),()=>{i.removeEventListener("on-entity-updated",p)}},[i,t]),O.useEffect(()=>{if(i)return i.addEventListener("on-entity-visibility-changed",u),()=>{i.removeEventListener("on-entity-visibility-changed",u)}},[i]),{isPending:a,entity:i}}function W7(){let{instance:e}=O.useContext(ti),[t,n]=O.useState([]);return O.useEffect(()=>{if(!e)return;let i=()=>n(e.session.other_clients);return e.session.addEventListener("on-client-joined",i),e.session.addEventListener("on-client-left",i),i(),()=>{e.session.removeEventListener("on-client-joined",i),e.session.removeEventListener("on-client-left",i),n([])}},[e]),{clients:t}}function Qg(e={},t=[]){let{name:n="Camera",position:i=[0,1,5],orientation:r=[0,0,0,1],eulerOrientation:a=[0,0,0],renderGraphRef:l="398ee642-030a-45e7-95df-7147f6c43392",settings:u={grid:!0,skybox:!1,gradient:!0},renderTargetIndex:h=-1,perspective_lens:f={fovy:60,nearPlane:.1,farPlane:1e4}}=e,d="orientation"in e?r:void 0,p=!d&&"eulerOrientation"in e?a:void 0,y="orthographic_lens"in e?e.orthographic_lens:void 0,_=y?void 0:f,{isPending:v,entity:w}=Un({name:n,components:{local_transform:{position:i,orientation:d,eulerOrientation:p},camera:{renderGraphRef:l,dataJSON:u,renderTargetIndex:h},perspective_lens:_,orthographic_lens:y},options:{auto_broadcast:!1,delete_on_client_disconnection:!0}},t);return{isPending:v,cameraEntity:w}}var Wg=O.createContext({canvas:null,renderingSurface:null});function J7({children:e,contextType:t="2d",contextAttributes:n,width:i,height:r,...a}){let{instance:l}=O.useContext(ti),{canvas:u}=O.useContext(Wg),[h,f]=O.useState(null),d=O.useRef(null);return O.useEffect(()=>{if(!l||!d.current)return;let p=d.current.getBoundingClientRect();if(!p.width||!p.height){console.error(`Canvas element has an invalid size : [${p.width} x ${p.height}] it will not be mounted as a rendering surface.`,d.current);return}let y=new q7({canvas_element:d.current,context_type:t,context_attributes:n});return f(y),()=>{y.release(),f(null)}},[l,t,n]),At.createElement(Wg.Provider,{value:{canvas:d.current,renderingSurface:h}},At.createElement("div",{"data-role":"canvas-container",style:tU({parentCanvas:u,width:i,height:r}),...a},At.createElement("canvas",{ref:d,style:{position:"absolute",width:"100%",height:"100%",pointerEvents:"none"}}),e))}function tU({parentCanvas:e,width:t,height:n}){return{overflow:"clip",...e?{position:"absolute",width:t,height:n}:{position:"relative",width:t??"100%",height:n??"100%"}}}var v0=O.createContext({viewport:null,viewportDomElement:null,zIndex:0,camera:null}),TT=O.forwardRef(function({setHoveredEntity:e,setPickedEntity:t,renderTargetIndex:n=-1,children:i,...r},a){let{cameraEntity:l,client:u,cameraIndex:h,...f}=r,{instance:d}=O.useContext(ti),{renderingSurface:p,canvas:y}=O.useContext(Wg),{zIndex:_=0}=O.useContext(v0),[v,w]=O.useState(null),[E,M]=O.useState(null),[R,z]=O.useState(null),D=O.useRef(null);O.useImperativeHandle(a,()=>v??void 0,[v]);let C=O.useCallback(()=>{!D.current||!y||!v||(D.current,v.relative_rect=Ts.from_dom_elements({element:D.current,parent:y}))},[v,y,D.current]);O.useEffect(()=>{if(!D.current)return;let k=new ResizeObserver(C);return k.observe(D.current),()=>{k.disconnect()}},[D.current,C]),O.useEffect(()=>{if(p)return p.addEventListener("on-rendering-surface-resized",C),()=>{p.removeEventListener("on-rendering-surface-resized",C)}},[p,C]);let N=_+1;return O.useEffect(()=>{if(!(!d||!p||!y||!D.current))try{let k=Ts.from_dom_elements({element:D.current,parent:y}),$=new sC({core:d,rendering_surface:p,options:{rect:k,z_index:N,render_target_index:n,dom_element:D.current}});return $.width,$.height,d.addViewports({viewports:[$]}),w($),()=>{d.removeViewport({viewport:$}),$.release(),w(null)}}catch(k){k instanceof t4?console.error("A viewport MUST be contained into its parent Canvas bounds",D.current,y):k instanceof JA?console.error(`Viewport element has an invalid size : [${k.rect.width} x ${k.rect.height}].`,y):console.error("Failed to mount viewport",D.current,k)}},[d,p,y,N]),O.useEffect(()=>{u?u.getCameraEntities().then(k=>{M(k[h??0])}):M(l??null)},[l,u,h]),O.useEffect(()=>{!v||!E||(v.camera_projection=new EC({camera_entity:E,viewport:v}),z(v.camera_projection))},[v,E]),O.useEffect(()=>{if(!v)return;let k=q=>t==null?void 0:t(q.picked_entity&&q.ws_position&&q.ws_normal?{entity:q.picked_entity,ws_position:q.ws_position,ws_normal:q.ws_normal}:null);t&&(v.activatePicking(),v.addEventListener("on-entity-picked",k));let $=q=>e==null?void 0:e(q.hovered_entity&&q.ws_position&&q.ws_normal?{entity:q.hovered_entity,ws_position:q.ws_position,ws_normal:q.ws_normal}:null);return e&&(v.activateHovering(),v.addEventListener("on-entity-hovered",$)),()=>{t&&(v.removeEventListener("on-entity-picked",k),v.deactivatePicking()),e&&(v.removeEventListener("on-entity-hovered",$),v.deactivateHovering())}},[v,t,e]),At.createElement(v0.Provider,{value:{viewport:v,viewportDomElement:D.current,zIndex:N,camera:R}},At.createElement("div",{ref:D,"data-role":"viewport",...f},i))}),eU=O.createContext({cameraController:void 0}),MT=O.forwardRef(function({preset:e=_C.orbital,children:t},n){let{viewport:i,camera:r}=O.useContext(v0),[a,l]=O.useState(void 0);return O.useImperativeHandle(n,()=>a,[a]),O.useEffect(()=>{if(!i||!r)return;let u=new D7({camera_entity:r.camera_entity,viewport:i,preset:e});return l(u),()=>{u.release(),l(void 0)}},[i,r,e]),At.createElement(eU.Provider,{value:{cameraController:a}},t)}),Zy=1e-6,x0=typeof Float32Array<"u"?Float32Array:Array,ST=Math.random;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var kC={};X7(kC,{add:()=>aU,angle:()=>CU,bezier:()=>xU,ceil:()=>oU,clone:()=>nU,copy:()=>rU,create:()=>PC,cross:()=>yU,dist:()=>kU,distance:()=>$C,div:()=>NU,divide:()=>VC,dot:()=>qC,equals:()=>DU,exactEquals:()=>zU,floor:()=>lU,forEach:()=>jU,fromValues:()=>iU,hermite:()=>vU,inverse:()=>pU,len:()=>BU,length:()=>BC,lerp:()=>gU,max:()=>cU,min:()=>uU,mul:()=>UU,multiply:()=>jC,negate:()=>mU,normalize:()=>_U,random:()=>bU,rotateX:()=>MU,rotateY:()=>SU,rotateZ:()=>AU,round:()=>hU,scale:()=>fU,scaleAndAdd:()=>dU,set:()=>sU,sqrDist:()=>PU,sqrLen:()=>FU,squaredDistance:()=>HC,squaredLength:()=>IC,str:()=>OU,sub:()=>LU,subtract:()=>FC,transformMat3:()=>EU,transformMat4:()=>wU,transformQuat:()=>TU,zero:()=>RU});function PC(){var e=new x0(3);return x0!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function nU(e){var t=new x0(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function BC(e){var t=e[0],n=e[1],i=e[2];return Math.hypot(t,n,i)}function iU(e,t,n){var i=new x0(3);return i[0]=e,i[1]=t,i[2]=n,i}function rU(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function sU(e,t,n,i){return e[0]=t,e[1]=n,e[2]=i,e}function aU(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function FC(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function jC(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function VC(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function oU(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function lU(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function uU(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function cU(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function hU(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function fU(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function dU(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e}function $C(e,t){var n=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2];return Math.hypot(n,i,r)}function HC(e,t){var n=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2];return n*n+i*i+r*r}function IC(e){var t=e[0],n=e[1],i=e[2];return t*t+n*n+i*i}function mU(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function pU(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function _U(e,t){var n=t[0],i=t[1],r=t[2],a=n*n+i*i+r*r;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e}function qC(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function yU(e,t,n){var i=t[0],r=t[1],a=t[2],l=n[0],u=n[1],h=n[2];return e[0]=r*h-a*u,e[1]=a*l-i*h,e[2]=i*u-r*l,e}function gU(e,t,n,i){var r=t[0],a=t[1],l=t[2];return e[0]=r+i*(n[0]-r),e[1]=a+i*(n[1]-a),e[2]=l+i*(n[2]-l),e}function vU(e,t,n,i,r,a){var l=a*a,u=l*(2*a-3)+1,h=l*(a-2)+a,f=l*(a-1),d=l*(3-2*a);return e[0]=t[0]*u+n[0]*h+i[0]*f+r[0]*d,e[1]=t[1]*u+n[1]*h+i[1]*f+r[1]*d,e[2]=t[2]*u+n[2]*h+i[2]*f+r[2]*d,e}function xU(e,t,n,i,r,a){var l=1-a,u=l*l,h=a*a,f=u*l,d=3*a*u,p=3*h*l,y=h*a;return e[0]=t[0]*f+n[0]*d+i[0]*p+r[0]*y,e[1]=t[1]*f+n[1]*d+i[1]*p+r[1]*y,e[2]=t[2]*f+n[2]*d+i[2]*p+r[2]*y,e}function bU(e,t){t=t||1;var n=ST()*2*Math.PI,i=ST()*2-1,r=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(n)*r,e[1]=Math.sin(n)*r,e[2]=i*t,e}function wU(e,t,n){var i=t[0],r=t[1],a=t[2],l=n[3]*i+n[7]*r+n[11]*a+n[15];return l=l||1,e[0]=(n[0]*i+n[4]*r+n[8]*a+n[12])/l,e[1]=(n[1]*i+n[5]*r+n[9]*a+n[13])/l,e[2]=(n[2]*i+n[6]*r+n[10]*a+n[14])/l,e}function EU(e,t,n){var i=t[0],r=t[1],a=t[2];return e[0]=i*n[0]+r*n[3]+a*n[6],e[1]=i*n[1]+r*n[4]+a*n[7],e[2]=i*n[2]+r*n[5]+a*n[8],e}function TU(e,t,n){var i=n[0],r=n[1],a=n[2],l=n[3],u=t[0],h=t[1],f=t[2],d=r*f-a*h,p=a*u-i*f,y=i*h-r*u,_=r*y-a*p,v=a*d-i*y,w=i*p-r*d,E=l*2;return d*=E,p*=E,y*=E,_*=2,v*=2,w*=2,e[0]=u+d+_,e[1]=h+p+v,e[2]=f+y+w,e}function MU(e,t,n,i){var r=[],a=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],a[0]=r[0],a[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),a[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e}function SU(e,t,n,i){var r=[],a=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],a[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),a[1]=r[1],a[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e}function AU(e,t,n,i){var r=[],a=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],a[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),a[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),a[2]=r[2],e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e}function CU(e,t){var n=e[0],i=e[1],r=e[2],a=t[0],l=t[1],u=t[2],h=Math.sqrt(n*n+i*i+r*r),f=Math.sqrt(a*a+l*l+u*u),d=h*f,p=d&&qC(e,t)/d;return Math.acos(Math.min(Math.max(p,-1),1))}function RU(e){return e[0]=0,e[1]=0,e[2]=0,e}function OU(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function zU(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function DU(e,t){var n=e[0],i=e[1],r=e[2],a=t[0],l=t[1],u=t[2];return Math.abs(n-a)<=Zy*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-l)<=Zy*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(r-u)<=Zy*Math.max(1,Math.abs(r),Math.abs(u))}var LU=FC,UU=jC,NU=VC,kU=$C,PU=HC,BU=BC,FU=IC,jU=function(){var e=PC();return function(t,n,i,r,a,l){var u,h;for(n||(n=3),i||(i=0),r?h=Math.min(r*n+i,t.length):h=t.length,u=i;u<h;u+=n)e[0]=t[u],e[1]=t[u+1],e[2]=t[u+2],a(e,e,l),t[u]=e[0],t[u+1]=e[1],t[u+2]=e[2];return t}}();function VU(e){return t=>At.createElement($U,{overlay:e,...t})}var ur,Yf,Jg,$U=(ur=class extends At.Component{constructor(){super(...arguments);V(this,Yf);H(this,"state",{screen_position:kC.create(),z_index:0,scale:1,is_visible:!1,translation:[0,0]})}componentDidMount(){xt(this,Yf,Jg).call(this),this.props.overlay._registerElement(this)}componentDidUpdate(n){(n.worldPosition.some((i,r)=>i!==this.props.worldPosition[r])||n.anchor!==this.props.anchor||n.scaleFactor!==this.props.scaleFactor)&&(xt(this,Yf,Jg).call(this),this.props.overlay._updateElement())}componentWillUnmount(){this.props.overlay._unregisterElement(this)}get screen_position(){return this.state.screen_position}get world_position(){return this.props.worldPosition}get scale_factor(){return this.props.scaleFactor}setProjection(n){this.setState(n)}render(){if(!this.state.is_visible)return null;let n=`
            translate(${this.state.translation[0]}%, ${this.state.translation[1]}%)
            translate(${this.state.screen_position[0]}px, ${this.state.screen_position[1]}px)`;return Ms.createPortal(At.createElement("div",{style:{position:"absolute",transform:n,zIndex:this.state.z_index,pointerEvents:"auto"}},this.scale_factor?At.createElement("div",{style:{transform:`scale(${this.state.scale})`}},this.props.children):this.props.children),this.props.overlay.container)}},Yf=new WeakSet,Jg=function(){if(this.props.anchor==="center"){this.setState({translation:[ur.HorizontalAnchorPositions.center,ur.VerticalAnchorPositions.center]});return}let[n,i]=this.props.anchor.split("-");this.setState({translation:[ur.HorizontalAnchorPositions[n],ur.VerticalAnchorPositions[i]]})},H(ur,"VerticalAnchorPositions",{top:0,center:-50,bottom:-100}),H(ur,"HorizontalAnchorPositions",{left:0,center:-50,right:-100}),ur),HU=1e5,Ro,xs,Xf,fc,GC,YC,qA,IU=(qA=class{constructor({container:t,viewport:n}){V(this,fc);H(this,"container");V(this,Ro,new Set);V(this,xs);V(this,Xf);this.container=t,ut(this,xs,n),ut(this,Xf,VU(this))}get DOM3DElement(){return x(this,Xf)}_registerElement(t){x(this,Ro).add(t),x(this,xs).rendering_surface.redrawLastFrame()}_unregisterElement(t){x(this,Ro).delete(t)||console.warn("Element ref not found in dom overlay")}_updateElement(){x(this,xs).rendering_surface.redrawLastFrame()}resize({width:t,height:n}){this.container.style.width=t+"px",this.container.style.height=n+"px"}draw(){return x(this,xs).isValid()&&this.updateElements(),null}updateElements(){let t=[];for(let n of x(this,Ro).values()){let i=xt(this,fc,GC).call(this,{react_element:n});t.push({projection:i,react_element:n})}t.sort((n,i)=>i.projection.screen_position[2]-n.projection.screen_position[2]),t.forEach(({projection:n,react_element:i},r)=>{i.setProjection({...n,z_index:r})})}release(){setTimeout(()=>{x(this,Ro).clear()},0)}},Ro=new WeakMap,xs=new WeakMap,Xf=new WeakMap,fc=new WeakSet,GC=function({react_element:t}){let n=x(this,xs).projectWorldToScreen({world_position:t.world_position,out_screen_position:t.screen_position}),i=t.scale_factor?xt(this,fc,YC).call(this,{screen_position:n,scale_factor:t.scale_factor}):1,r=n[2]<1&&n[2]>0;return{screen_position:n,scale:i,is_visible:r}},YC=function({screen_position:t,scale_factor:n}){var a,l,u;let i=(a=x(this,xs).camera_projection)==null?void 0:a.camera_entity;if(!i)throw new Error("Viewport has no camera");let r=(i.perspective_lens?i.perspective_lens.nearPlane:(l=i.orthographic_lens)==null?void 0:l.zFar)??0;return(((i.perspective_lens?i.perspective_lens.farPlane||HU:(u=i.orthographic_lens)==null?void 0:u.zNear)??1)-r)*(1-t[2])*n},qA),XC=O.createContext(null);function ZC({children:e,...t}){let n=O.useRef(null),[i,r]=O.useState(null),{viewport:a}=O.useContext(v0);return O.useEffect(()=>{if(!a||!n.current)return;let l=new IU({container:n.current,viewport:a});return a.addOverlay({overlay:l}),r(l),()=>{a.removeOverlay({overlay:l})}},[a,n]),At.createElement(XC.Provider,{value:i},At.createElement("div",{ref:n,"data-role":"dom-3d-overlay",style:{position:"absolute",width:"100%",height:"100%",top:"0",pointerEvents:"none",padding:"inherit",overflow:"hidden"},...t},e))}function qU({worldPosition:e,anchor:t="center",scaleFactor:n,children:i}){let r=O.useContext(XC);return r?At.createElement(r.DOM3DElement,{worldPosition:e,anchor:t,scaleFactor:n},i):null}function hs({entity:e,scaleFactor:t,anchor:n,children:i}){let[r,a]=O.useState(e?e.global_transform.position:[0,0,0]),[l,u]=O.useState(e?e.is_visible:!1);return O.useEffect(()=>{if(!e)return;let h=()=>a(e.global_transform.position),f=()=>u(e.is_visible);return h(),f(),e.addEventListener("on-entity-updated",h),e.addEventListener("on-entity-visibility-changed",f),()=>{e.removeEventListener("on-entity-updated",h),e.removeEventListener("on-entity-visibility-changed",f)}},[e]),!e||!l?null:At.createElement(qU,{worldPosition:r,anchor:n,scaleFactor:t},i)}typeof window<"u"&&(window.__LIVELINK__||(window.__LIVELINK__={}),Object.prototype.hasOwnProperty.call(window.__LIVELINK__,"@3dverse/livelink-react")?console.warn("⚠️ WARNING ⚠️ Multiple instances of Livelink React ⚛️ being imported."):window.__LIVELINK__["@3dverse/livelink-react"]="0.2.50");var Ky,AT;function GU(){if(AT)return Ky;AT=1;const e=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);return Ky=t=>!e.has(t&&t.code),Ky}var YU=GU();const XU=YA(YU);function CT(e,t,n,i,r,a,l){try{var u=e[a](l),h=u.value}catch(f){n(f);return}u.done?t(h):Promise.resolve(h).then(i,r)}function KC(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var a=e.apply(t,n);function l(h){CT(a,i,r,l,u,"next",h)}function u(h){CT(a,i,r,l,u,"throw",h)}l(void 0)})}}function RT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Qy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(n),!0).forEach(function(i){ZU(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RT(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function ZU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QC="axios-retry";function nv(e){var t=["ERR_CANCELED","ECONNABORTED"];return!e.response&&!!e.code&&!t.includes(e.code)&&XU(e)}var WC=["get","head","options"],KU=WC.concat(["put","delete"]);function iv(e){return e.code!=="ECONNABORTED"&&(!e.response||e.response.status>=500&&e.response.status<=599)}function QU(e){return e.config?iv(e)&&WC.indexOf(e.config.method)!==-1:!1}function rv(e){return e.config?iv(e)&&KU.indexOf(e.config.method)!==-1:!1}function JC(e){return nv(e)||rv(e)}function WU(){return 0}function JU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100,n=Math.pow(2,e)*t,i=n*.2*Math.random();return n+i}var t9={retries:3,retryCondition:JC,retryDelay:WU,shouldResetTimeout:!1,onRetry:()=>{}};function e9(e,t){return Qy(Qy(Qy({},t9),t),e[QC])}function OT(e,t){var n=e9(e,t);return n.retryCount=n.retryCount||0,e[QC]=n,n}function n9(e,t){e.defaults.agent===t.agent&&delete t.agent,e.defaults.httpAgent===t.httpAgent&&delete t.httpAgent,e.defaults.httpsAgent===t.httpsAgent&&delete t.httpsAgent}function i9(e,t){return t1.apply(this,arguments)}function t1(){return t1=KC(function*(e,t){var{retries:n,retryCondition:i}=e,r=e.retryCount<n&&i(t);if(typeof r=="object")try{var a=yield r;return a!==!1}catch{return!1}return r}),t1.apply(this,arguments)}function za(e,t){var n=e.interceptors.request.use(r=>{var a=OT(r,t);return a.lastRequestTime=Date.now(),r}),i=e.interceptors.response.use(null,function(){var r=KC(function*(a){var{config:l}=a;if(!l)return Promise.reject(a);var u=OT(l,t);if(yield i9(u,a)){u.retryCount+=1;var{retryDelay:h,shouldResetTimeout:f,onRetry:d}=u,p=h(u.retryCount,a);if(n9(e,l),!f&&l.timeout&&u.lastRequestTime){var y=Date.now()-u.lastRequestTime,_=l.timeout-y-p;if(_<=0)return Promise.reject(a);l.timeout=_}return l.transformRequest=[v=>v],yield d(u.retryCount,a,l),new Promise(v=>setTimeout(()=>v(e(l)),p))}return Promise.reject(a)});return function(a){return r.apply(this,arguments)}}());return{requestInterceptorId:n,responseInterceptorId:i}}za.isNetworkError=nv;za.isSafeRequestError=QU;za.isIdempotentRequestError=rv;za.isNetworkOrIdempotentRequestError=JC;za.exponentialDelay=JU;za.isRetryableError=iv;function tR(e,t){return function(){return e.apply(t,arguments)}}const{toString:r9}=Object.prototype,{getPrototypeOf:sv}=Object,{iterator:op,toStringTag:eR}=Symbol,lp=(e=>t=>{const n=r9.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),hr=e=>(e=e.toLowerCase(),t=>lp(t)===e),up=e=>t=>typeof t===e,{isArray:pc}=Array,Jh=up("undefined");function nd(e){return e!==null&&!Jh(e)&&e.constructor!==null&&!Jh(e.constructor)&&Qn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const nR=hr("ArrayBuffer");function s9(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&nR(e.buffer),t}const a9=up("string"),Qn=up("function"),iR=up("number"),id=e=>e!==null&&typeof e=="object",o9=e=>e===!0||e===!1,o0=e=>{if(lp(e)!=="object")return!1;const t=sv(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(eR in e)&&!(op in e)},l9=e=>{if(!id(e)||nd(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},u9=hr("Date"),c9=hr("File"),h9=hr("Blob"),f9=hr("FileList"),d9=e=>id(e)&&Qn(e.pipe),m9=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Qn(e.append)&&((t=lp(e))==="formdata"||t==="object"&&Qn(e.toString)&&e.toString()==="[object FormData]"))},p9=hr("URLSearchParams"),[_9,y9,g9,v9]=["ReadableStream","Request","Response","Headers"].map(hr),x9=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function rd(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,r;if(typeof e!="object"&&(e=[e]),pc(e))for(i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else{if(nd(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),l=a.length;let u;for(i=0;i<l;i++)u=a[i],t.call(null,e[u],u,e)}}function rR(e,t){if(nd(e))return null;t=t.toLowerCase();const n=Object.keys(e);let i=n.length,r;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const co=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,sR=e=>!Jh(e)&&e!==co;function e1(){const{caseless:e}=sR(this)&&this||{},t={},n=(i,r)=>{const a=e&&rR(t,r)||r;o0(t[a])&&o0(i)?t[a]=e1(t[a],i):o0(i)?t[a]=e1({},i):pc(i)?t[a]=i.slice():t[a]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&rd(arguments[i],n);return t}const b9=(e,t,n,{allOwnKeys:i}={})=>(rd(t,(r,a)=>{n&&Qn(r)?e[a]=tR(r,n):e[a]=r},{allOwnKeys:i}),e),w9=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),E9=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},T9=(e,t,n,i)=>{let r,a,l;const u={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)l=r[a],(!i||i(l,e,t))&&!u[l]&&(t[l]=e[l],u[l]=!0);e=n!==!1&&sv(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},M9=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},S9=e=>{if(!e)return null;if(pc(e))return e;let t=e.length;if(!iR(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},A9=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&sv(Uint8Array)),C9=(e,t)=>{const i=(e&&e[op]).call(e);let r;for(;(r=i.next())&&!r.done;){const a=r.value;t.call(e,a[0],a[1])}},R9=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},O9=hr("HTMLFormElement"),z9=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),zT=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),D9=hr("RegExp"),aR=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};rd(n,(r,a)=>{let l;(l=t(r,a,e))!==!1&&(i[a]=l||r)}),Object.defineProperties(e,i)},L9=e=>{aR(e,(t,n)=>{if(Qn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(Qn(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},U9=(e,t)=>{const n={},i=r=>{r.forEach(a=>{n[a]=!0})};return pc(e)?i(e):i(String(e).split(t)),n},N9=()=>{},k9=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function P9(e){return!!(e&&Qn(e.append)&&e[eR]==="FormData"&&e[op])}const B9=e=>{const t=new Array(10),n=(i,r)=>{if(id(i)){if(t.indexOf(i)>=0)return;if(nd(i))return i;if(!("toJSON"in i)){t[r]=i;const a=pc(i)?[]:{};return rd(i,(l,u)=>{const h=n(l,r+1);!Jh(h)&&(a[u]=h)}),t[r]=void 0,a}}return i};return n(e,0)},F9=hr("AsyncFunction"),j9=e=>e&&(id(e)||Qn(e))&&Qn(e.then)&&Qn(e.catch),oR=((e,t)=>e?setImmediate:t?((n,i)=>(co.addEventListener("message",({source:r,data:a})=>{r===co&&a===n&&i.length&&i.shift()()},!1),r=>{i.push(r),co.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Qn(co.postMessage)),V9=typeof queueMicrotask<"u"?queueMicrotask.bind(co):typeof process<"u"&&process.nextTick||oR,$9=e=>e!=null&&Qn(e[op]),ct={isArray:pc,isArrayBuffer:nR,isBuffer:nd,isFormData:m9,isArrayBufferView:s9,isString:a9,isNumber:iR,isBoolean:o9,isObject:id,isPlainObject:o0,isEmptyObject:l9,isReadableStream:_9,isRequest:y9,isResponse:g9,isHeaders:v9,isUndefined:Jh,isDate:u9,isFile:c9,isBlob:h9,isRegExp:D9,isFunction:Qn,isStream:d9,isURLSearchParams:p9,isTypedArray:A9,isFileList:f9,forEach:rd,merge:e1,extend:b9,trim:x9,stripBOM:w9,inherits:E9,toFlatObject:T9,kindOf:lp,kindOfTest:hr,endsWith:M9,toArray:S9,forEachEntry:C9,matchAll:R9,isHTMLForm:O9,hasOwnProperty:zT,hasOwnProp:zT,reduceDescriptors:aR,freezeMethods:L9,toObjectSet:U9,toCamelCase:z9,noop:N9,toFiniteNumber:k9,findKey:rR,global:co,isContextDefined:sR,isSpecCompliantForm:P9,toJSONObject:B9,isAsyncFn:F9,isThenable:j9,setImmediate:oR,asap:V9,isIterable:$9};function kt(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}ct.inherits(kt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ct.toJSONObject(this.config),code:this.code,status:this.status}}});const lR=kt.prototype,uR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{uR[e]={value:e}});Object.defineProperties(kt,uR);Object.defineProperty(lR,"isAxiosError",{value:!0});kt.from=(e,t,n,i,r,a)=>{const l=Object.create(lR);return ct.toFlatObject(e,l,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),kt.call(l,e.message,t,n,i,r),l.cause=e,l.name=e.name,a&&Object.assign(l,a),l};const H9=null;function n1(e){return ct.isPlainObject(e)||ct.isArray(e)}function cR(e){return ct.endsWith(e,"[]")?e.slice(0,-2):e}function DT(e,t,n){return e?e.concat(t).map(function(r,a){return r=cR(r),!n&&a?"["+r+"]":r}).join(n?".":""):t}function I9(e){return ct.isArray(e)&&!e.some(n1)}const q9=ct.toFlatObject(ct,{},null,function(t){return/^is[A-Z]/.test(t)});function cp(e,t,n){if(!ct.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ct.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,E){return!ct.isUndefined(E[w])});const i=n.metaTokens,r=n.visitor||d,a=n.dots,l=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&ct.isSpecCompliantForm(t);if(!ct.isFunction(r))throw new TypeError("visitor must be a function");function f(v){if(v===null)return"";if(ct.isDate(v))return v.toISOString();if(ct.isBoolean(v))return v.toString();if(!h&&ct.isBlob(v))throw new kt("Blob is not supported. Use a Buffer instead.");return ct.isArrayBuffer(v)||ct.isTypedArray(v)?h&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,w,E){let M=v;if(v&&!E&&typeof v=="object"){if(ct.endsWith(w,"{}"))w=i?w:w.slice(0,-2),v=JSON.stringify(v);else if(ct.isArray(v)&&I9(v)||(ct.isFileList(v)||ct.endsWith(w,"[]"))&&(M=ct.toArray(v)))return w=cR(w),M.forEach(function(z,D){!(ct.isUndefined(z)||z===null)&&t.append(l===!0?DT([w],D,a):l===null?w:w+"[]",f(z))}),!1}return n1(v)?!0:(t.append(DT(E,w,a),f(v)),!1)}const p=[],y=Object.assign(q9,{defaultVisitor:d,convertValue:f,isVisitable:n1});function _(v,w){if(!ct.isUndefined(v)){if(p.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));p.push(v),ct.forEach(v,function(M,R){(!(ct.isUndefined(M)||M===null)&&r.call(t,M,ct.isString(R)?R.trim():R,w,y))===!0&&_(M,w?w.concat(R):[R])}),p.pop()}}if(!ct.isObject(e))throw new TypeError("data must be an object");return _(e),t}function LT(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function av(e,t){this._pairs=[],e&&cp(e,this,t)}const hR=av.prototype;hR.append=function(t,n){this._pairs.push([t,n])};hR.toString=function(t){const n=t?function(i){return t.call(this,i,LT)}:LT;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function G9(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fR(e,t,n){if(!t)return e;const i=n&&n.encode||G9;ct.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let a;if(r?a=r(t,n):a=ct.isURLSearchParams(t)?t.toString():new av(t,n).toString(i),a){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class UT{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ct.forEach(this.handlers,function(i){i!==null&&t(i)})}}const dR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Y9=typeof URLSearchParams<"u"?URLSearchParams:av,X9=typeof FormData<"u"?FormData:null,Z9=typeof Blob<"u"?Blob:null,K9={isBrowser:!0,classes:{URLSearchParams:Y9,FormData:X9,Blob:Z9},protocols:["http","https","file","blob","url","data"]},ov=typeof window<"u"&&typeof document<"u",i1=typeof navigator=="object"&&navigator||void 0,Q9=ov&&(!i1||["ReactNative","NativeScript","NS"].indexOf(i1.product)<0),W9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",J9=ov&&window.location.href||"http://localhost",tN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ov,hasStandardBrowserEnv:Q9,hasStandardBrowserWebWorkerEnv:W9,navigator:i1,origin:J9},Symbol.toStringTag,{value:"Module"})),Mn={...tN,...K9};function eN(e,t){return cp(e,new Mn.classes.URLSearchParams,{visitor:function(n,i,r,a){return Mn.isNode&&ct.isBuffer(n)?(this.append(i,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function nN(e){return ct.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function iN(e){const t={},n=Object.keys(e);let i;const r=n.length;let a;for(i=0;i<r;i++)a=n[i],t[a]=e[a];return t}function mR(e){function t(n,i,r,a){let l=n[a++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),h=a>=n.length;return l=!l&&ct.isArray(r)?r.length:l,h?(ct.hasOwnProp(r,l)?r[l]=[r[l],i]:r[l]=i,!u):((!r[l]||!ct.isObject(r[l]))&&(r[l]=[]),t(n,i,r[l],a)&&ct.isArray(r[l])&&(r[l]=iN(r[l])),!u)}if(ct.isFormData(e)&&ct.isFunction(e.entries)){const n={};return ct.forEachEntry(e,(i,r)=>{t(nN(i),r,n,0)}),n}return null}function rN(e,t,n){if(ct.isString(e))try{return(t||JSON.parse)(e),ct.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const sd={transitional:dR,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,a=ct.isObject(t);if(a&&ct.isHTMLForm(t)&&(t=new FormData(t)),ct.isFormData(t))return r?JSON.stringify(mR(t)):t;if(ct.isArrayBuffer(t)||ct.isBuffer(t)||ct.isStream(t)||ct.isFile(t)||ct.isBlob(t)||ct.isReadableStream(t))return t;if(ct.isArrayBufferView(t))return t.buffer;if(ct.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return eN(t,this.formSerializer).toString();if((u=ct.isFileList(t))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return cp(u?{"files[]":t}:t,h&&new h,this.formSerializer)}}return a||r?(n.setContentType("application/json",!1),rN(t)):t}],transformResponse:[function(t){const n=this.transitional||sd.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(ct.isResponse(t)||ct.isReadableStream(t))return t;if(t&&ct.isString(t)&&(i&&!this.responseType||r)){const l=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(u){if(l)throw u.name==="SyntaxError"?kt.from(u,kt.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mn.classes.FormData,Blob:Mn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ct.forEach(["delete","get","head","post","put","patch"],e=>{sd.headers[e]={}});const sN=ct.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aN=e=>{const t={};let n,i,r;return e&&e.split(`
`).forEach(function(l){r=l.indexOf(":"),n=l.substring(0,r).trim().toLowerCase(),i=l.substring(r+1).trim(),!(!n||t[n]&&sN[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},NT=Symbol("internals");function kh(e){return e&&String(e).trim().toLowerCase()}function l0(e){return e===!1||e==null?e:ct.isArray(e)?e.map(l0):String(e)}function oN(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const lN=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Wy(e,t,n,i,r){if(ct.isFunction(i))return i.call(this,t,n);if(r&&(t=n),!!ct.isString(t)){if(ct.isString(i))return t.indexOf(i)!==-1;if(ct.isRegExp(i))return i.test(t)}}function uN(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function cN(e,t){const n=ct.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(r,a,l){return this[i].call(this,t,r,a,l)},configurable:!0})})}let Wn=class{constructor(t){t&&this.set(t)}set(t,n,i){const r=this;function a(u,h,f){const d=kh(h);if(!d)throw new Error("header name must be a non-empty string");const p=ct.findKey(r,d);(!p||r[p]===void 0||f===!0||f===void 0&&r[p]!==!1)&&(r[p||h]=l0(u))}const l=(u,h)=>ct.forEach(u,(f,d)=>a(f,d,h));if(ct.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(ct.isString(t)&&(t=t.trim())&&!lN(t))l(aN(t),n);else if(ct.isObject(t)&&ct.isIterable(t)){let u={},h,f;for(const d of t){if(!ct.isArray(d))throw TypeError("Object iterator must return a key-value pair");u[f=d[0]]=(h=u[f])?ct.isArray(h)?[...h,d[1]]:[h,d[1]]:d[1]}l(u,n)}else t!=null&&a(n,t,i);return this}get(t,n){if(t=kh(t),t){const i=ct.findKey(this,t);if(i){const r=this[i];if(!n)return r;if(n===!0)return oN(r);if(ct.isFunction(n))return n.call(this,r,i);if(ct.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=kh(t),t){const i=ct.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||Wy(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let r=!1;function a(l){if(l=kh(l),l){const u=ct.findKey(i,l);u&&(!n||Wy(i,i[u],u,n))&&(delete i[u],r=!0)}}return ct.isArray(t)?t.forEach(a):a(t),r}clear(t){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const a=n[i];(!t||Wy(this,this[a],a,t,!0))&&(delete this[a],r=!0)}return r}normalize(t){const n=this,i={};return ct.forEach(this,(r,a)=>{const l=ct.findKey(i,a);if(l){n[l]=l0(r),delete n[a];return}const u=t?uN(a):String(a).trim();u!==a&&delete n[a],n[u]=l0(r),i[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ct.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=t&&ct.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(r=>i.set(r)),i}static accessor(t){const i=(this[NT]=this[NT]={accessors:{}}).accessors,r=this.prototype;function a(l){const u=kh(l);i[u]||(cN(r,l),i[u]=!0)}return ct.isArray(t)?t.forEach(a):a(t),this}};Wn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ct.reduceDescriptors(Wn.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});ct.freezeMethods(Wn);function Jy(e,t){const n=this||sd,i=t||n,r=Wn.from(i.headers);let a=i.data;return ct.forEach(e,function(u){a=u.call(n,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function pR(e){return!!(e&&e.__CANCEL__)}function _c(e,t,n){kt.call(this,e??"canceled",kt.ERR_CANCELED,t,n),this.name="CanceledError"}ct.inherits(_c,kt,{__CANCEL__:!0});function _R(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new kt("Request failed with status code "+n.status,[kt.ERR_BAD_REQUEST,kt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function hN(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function fN(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r=0,a=0,l;return t=t!==void 0?t:1e3,function(h){const f=Date.now(),d=i[a];l||(l=f),n[r]=h,i[r]=f;let p=a,y=0;for(;p!==r;)y+=n[p++],p=p%e;if(r=(r+1)%e,r===a&&(a=(a+1)%e),f-l<t)return;const _=d&&f-d;return _?Math.round(y*1e3/_):void 0}}function dN(e,t){let n=0,i=1e3/t,r,a;const l=(f,d=Date.now())=>{n=d,r=null,a&&(clearTimeout(a),a=null),e(...f)};return[(...f)=>{const d=Date.now(),p=d-n;p>=i?l(f,d):(r=f,a||(a=setTimeout(()=>{a=null,l(r)},i-p)))},()=>r&&l(r)]}const b0=(e,t,n=3)=>{let i=0;const r=fN(50,250);return dN(a=>{const l=a.loaded,u=a.lengthComputable?a.total:void 0,h=l-i,f=r(h),d=l<=u;i=l;const p={loaded:l,total:u,progress:u?l/u:void 0,bytes:h,rate:f||void 0,estimated:f&&u&&d?(u-l)/f:void 0,event:a,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(p)},n)},kT=(e,t)=>{const n=e!=null;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},PT=e=>(...t)=>ct.asap(()=>e(...t)),mN=Mn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Mn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Mn.origin),Mn.navigator&&/(msie|trident)/i.test(Mn.navigator.userAgent)):()=>!0,pN=Mn.hasStandardBrowserEnv?{write(e,t,n,i,r,a){const l=[e+"="+encodeURIComponent(t)];ct.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),ct.isString(i)&&l.push("path="+i),ct.isString(r)&&l.push("domain="+r),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _N(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function yN(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function yR(e,t,n){let i=!_N(t);return e&&(i||n==!1)?yN(e,t):t}const BT=e=>e instanceof Wn?{...e}:e;function ko(e,t){t=t||{};const n={};function i(f,d,p,y){return ct.isPlainObject(f)&&ct.isPlainObject(d)?ct.merge.call({caseless:y},f,d):ct.isPlainObject(d)?ct.merge({},d):ct.isArray(d)?d.slice():d}function r(f,d,p,y){if(ct.isUndefined(d)){if(!ct.isUndefined(f))return i(void 0,f,p,y)}else return i(f,d,p,y)}function a(f,d){if(!ct.isUndefined(d))return i(void 0,d)}function l(f,d){if(ct.isUndefined(d)){if(!ct.isUndefined(f))return i(void 0,f)}else return i(void 0,d)}function u(f,d,p){if(p in t)return i(f,d);if(p in e)return i(void 0,f)}const h={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,d,p)=>r(BT(f),BT(d),p,!0)};return ct.forEach(Object.keys({...e,...t}),function(d){const p=h[d]||r,y=p(e[d],t[d],d);ct.isUndefined(y)&&p!==u||(n[d]=y)}),n}const gR=e=>{const t=ko({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:a,headers:l,auth:u}=t;t.headers=l=Wn.from(l),t.url=fR(yR(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let h;if(ct.isFormData(n)){if(Mn.hasStandardBrowserEnv||Mn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((h=l.getContentType())!==!1){const[f,...d]=h?h.split(";").map(p=>p.trim()).filter(Boolean):[];l.setContentType([f||"multipart/form-data",...d].join("; "))}}if(Mn.hasStandardBrowserEnv&&(i&&ct.isFunction(i)&&(i=i(t)),i||i!==!1&&mN(t.url))){const f=r&&a&&pN.read(a);f&&l.set(r,f)}return t},gN=typeof XMLHttpRequest<"u",vN=gN&&function(e){return new Promise(function(n,i){const r=gR(e);let a=r.data;const l=Wn.from(r.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:f}=r,d,p,y,_,v;function w(){_&&_(),v&&v(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let E=new XMLHttpRequest;E.open(r.method.toUpperCase(),r.url,!0),E.timeout=r.timeout;function M(){if(!E)return;const z=Wn.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),C={data:!u||u==="text"||u==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:z,config:e,request:E};_R(function(k){n(k),w()},function(k){i(k),w()},C),E=null}"onloadend"in E?E.onloadend=M:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(M)},E.onabort=function(){E&&(i(new kt("Request aborted",kt.ECONNABORTED,e,E)),E=null)},E.onerror=function(){i(new kt("Network Error",kt.ERR_NETWORK,e,E)),E=null},E.ontimeout=function(){let D=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const C=r.transitional||dR;r.timeoutErrorMessage&&(D=r.timeoutErrorMessage),i(new kt(D,C.clarifyTimeoutError?kt.ETIMEDOUT:kt.ECONNABORTED,e,E)),E=null},a===void 0&&l.setContentType(null),"setRequestHeader"in E&&ct.forEach(l.toJSON(),function(D,C){E.setRequestHeader(C,D)}),ct.isUndefined(r.withCredentials)||(E.withCredentials=!!r.withCredentials),u&&u!=="json"&&(E.responseType=r.responseType),f&&([y,v]=b0(f,!0),E.addEventListener("progress",y)),h&&E.upload&&([p,_]=b0(h),E.upload.addEventListener("progress",p),E.upload.addEventListener("loadend",_)),(r.cancelToken||r.signal)&&(d=z=>{E&&(i(!z||z.type?new _c(null,e,E):z),E.abort(),E=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const R=hN(r.url);if(R&&Mn.protocols.indexOf(R)===-1){i(new kt("Unsupported protocol "+R+":",kt.ERR_BAD_REQUEST,e));return}E.send(a||null)})},xN=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let i=new AbortController,r;const a=function(f){if(!r){r=!0,u();const d=f instanceof Error?f:this.reason;i.abort(d instanceof kt?d:new _c(d instanceof Error?d.message:d))}};let l=t&&setTimeout(()=>{l=null,a(new kt(`timeout ${t} of ms exceeded`,kt.ETIMEDOUT))},t);const u=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),e=null)};e.forEach(f=>f.addEventListener("abort",a));const{signal:h}=i;return h.unsubscribe=()=>ct.asap(u),h}},bN=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let i=0,r;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},wN=async function*(e,t){for await(const n of EN(e))yield*bN(n,t)},EN=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:i}=await t.read();if(n)break;yield i}}finally{await t.cancel()}},FT=(e,t,n,i)=>{const r=wN(e,t);let a=0,l,u=h=>{l||(l=!0,i&&i(h))};return new ReadableStream({async pull(h){try{const{done:f,value:d}=await r.next();if(f){u(),h.close();return}let p=d.byteLength;if(n){let y=a+=p;n(y)}h.enqueue(new Uint8Array(d))}catch(f){throw u(f),f}},cancel(h){return u(h),r.return()}},{highWaterMark:2})},hp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",vR=hp&&typeof ReadableStream=="function",TN=hp&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),xR=(e,...t)=>{try{return!!e(...t)}catch{return!1}},MN=vR&&xR(()=>{let e=!1;const t=new Request(Mn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),jT=64*1024,r1=vR&&xR(()=>ct.isReadableStream(new Response("").body)),w0={stream:r1&&(e=>e.body)};hp&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!w0[t]&&(w0[t]=ct.isFunction(e[t])?n=>n[t]():(n,i)=>{throw new kt(`Response type '${t}' is not supported`,kt.ERR_NOT_SUPPORT,i)})})})(new Response);const SN=async e=>{if(e==null)return 0;if(ct.isBlob(e))return e.size;if(ct.isSpecCompliantForm(e))return(await new Request(Mn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ct.isArrayBufferView(e)||ct.isArrayBuffer(e))return e.byteLength;if(ct.isURLSearchParams(e)&&(e=e+""),ct.isString(e))return(await TN(e)).byteLength},AN=async(e,t)=>{const n=ct.toFiniteNumber(e.getContentLength());return n??SN(t)},CN=hp&&(async e=>{let{url:t,method:n,data:i,signal:r,cancelToken:a,timeout:l,onDownloadProgress:u,onUploadProgress:h,responseType:f,headers:d,withCredentials:p="same-origin",fetchOptions:y}=gR(e);f=f?(f+"").toLowerCase():"text";let _=xN([r,a&&a.toAbortSignal()],l),v;const w=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let E;try{if(h&&MN&&n!=="get"&&n!=="head"&&(E=await AN(d,i))!==0){let C=new Request(t,{method:"POST",body:i,duplex:"half"}),N;if(ct.isFormData(i)&&(N=C.headers.get("content-type"))&&d.setContentType(N),C.body){const[k,$]=kT(E,b0(PT(h)));i=FT(C.body,jT,k,$)}}ct.isString(p)||(p=p?"include":"omit");const M="credentials"in Request.prototype;v=new Request(t,{...y,signal:_,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",credentials:M?p:void 0});let R=await fetch(v,y);const z=r1&&(f==="stream"||f==="response");if(r1&&(u||z&&w)){const C={};["status","statusText","headers"].forEach(q=>{C[q]=R[q]});const N=ct.toFiniteNumber(R.headers.get("content-length")),[k,$]=u&&kT(N,b0(PT(u),!0))||[];R=new Response(FT(R.body,jT,k,()=>{$&&$(),w&&w()}),C)}f=f||"text";let D=await w0[ct.findKey(w0,f)||"text"](R,e);return!z&&w&&w(),await new Promise((C,N)=>{_R(C,N,{data:D,headers:Wn.from(R.headers),status:R.status,statusText:R.statusText,config:e,request:v})})}catch(M){throw w&&w(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new kt("Network Error",kt.ERR_NETWORK,e,v),{cause:M.cause||M}):kt.from(M,M&&M.code,e,v)}}),s1={http:H9,xhr:vN,fetch:CN};ct.forEach(s1,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const VT=e=>`- ${e}`,RN=e=>ct.isFunction(e)||e===null||e===!1,bR={getAdapter:e=>{e=ct.isArray(e)?e:[e];const{length:t}=e;let n,i;const r={};for(let a=0;a<t;a++){n=e[a];let l;if(i=n,!RN(n)&&(i=s1[(l=String(n)).toLowerCase()],i===void 0))throw new kt(`Unknown adapter '${l}'`);if(i)break;r[l||"#"+a]=i}if(!i){const a=Object.entries(r).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=t?a.length>1?`since :
`+a.map(VT).join(`
`):" "+VT(a[0]):"as no adapter specified";throw new kt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:s1};function tg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _c(null,e)}function $T(e){return tg(e),e.headers=Wn.from(e.headers),e.data=Jy.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),bR.getAdapter(e.adapter||sd.adapter)(e).then(function(i){return tg(e),i.data=Jy.call(e,e.transformResponse,i),i.headers=Wn.from(i.headers),i},function(i){return pR(i)||(tg(e),i&&i.response&&(i.response.data=Jy.call(e,e.transformResponse,i.response),i.response.headers=Wn.from(i.response.headers))),Promise.reject(i)})}const wR="1.11.0",fp={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{fp[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const HT={};fp.transitional=function(t,n,i){function r(a,l){return"[Axios v"+wR+"] Transitional option '"+a+"'"+l+(i?". "+i:"")}return(a,l,u)=>{if(t===!1)throw new kt(r(l," has been removed"+(n?" in "+n:"")),kt.ERR_DEPRECATED);return n&&!HT[l]&&(HT[l]=!0,console.warn(r(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,l,u):!0}};fp.spelling=function(t){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function ON(e,t,n){if(typeof e!="object")throw new kt("options must be an object",kt.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const a=i[r],l=t[a];if(l){const u=e[a],h=u===void 0||l(u,a,e);if(h!==!0)throw new kt("option "+a+" must be "+h,kt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new kt("Unknown option "+a,kt.ERR_BAD_OPTION)}}const u0={assertOptions:ON,validators:fp},yr=u0.validators;let Lo=class{constructor(t){this.defaults=t||{},this.interceptors={request:new UT,response:new UT}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ko(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:a}=n;i!==void 0&&u0.assertOptions(i,{silentJSONParsing:yr.transitional(yr.boolean),forcedJSONParsing:yr.transitional(yr.boolean),clarifyTimeoutError:yr.transitional(yr.boolean)},!1),r!=null&&(ct.isFunction(r)?n.paramsSerializer={serialize:r}:u0.assertOptions(r,{encode:yr.function,serialize:yr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),u0.assertOptions(n,{baseUrl:yr.spelling("baseURL"),withXsrfToken:yr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=a&&ct.merge(a.common,a[n.method]);a&&ct.forEach(["delete","get","head","post","put","patch","common"],v=>{delete a[v]}),n.headers=Wn.concat(l,a);const u=[];let h=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(h=h&&w.synchronous,u.unshift(w.fulfilled,w.rejected))});const f=[];this.interceptors.response.forEach(function(w){f.push(w.fulfilled,w.rejected)});let d,p=0,y;if(!h){const v=[$T.bind(this),void 0];for(v.unshift(...u),v.push(...f),y=v.length,d=Promise.resolve(n);p<y;)d=d.then(v[p++],v[p++]);return d}y=u.length;let _=n;for(p=0;p<y;){const v=u[p++],w=u[p++];try{_=v(_)}catch(E){w.call(this,E);break}}try{d=$T.call(this,_)}catch(v){return Promise.reject(v)}for(p=0,y=f.length;p<y;)d=d.then(f[p++],f[p++]);return d}getUri(t){t=ko(this.defaults,t);const n=yR(t.baseURL,t.url,t.allowAbsoluteUrls);return fR(n,t.params,t.paramsSerializer)}};ct.forEach(["delete","get","head","options"],function(t){Lo.prototype[t]=function(n,i){return this.request(ko(i||{},{method:t,url:n,data:(i||{}).data}))}});ct.forEach(["post","put","patch"],function(t){function n(i){return function(a,l,u){return this.request(ko(u||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Lo.prototype[t]=n(),Lo.prototype[t+"Form"]=n(!0)});let zN=class ER{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const i=this;this.promise.then(r=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](r);i._listeners=null}),this.promise.then=r=>{let a;const l=new Promise(u=>{i.subscribe(u),a=u}).then(r);return l.cancel=function(){i.unsubscribe(a)},l},t(function(a,l,u){i.reason||(i.reason=new _c(a,l,u),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=i=>{t.abort(i)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new ER(function(r){t=r}),cancel:t}}};function DN(e){return function(n){return e.apply(null,n)}}function LN(e){return ct.isObject(e)&&e.isAxiosError===!0}const a1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(a1).forEach(([e,t])=>{a1[t]=e});function TR(e){const t=new Lo(e),n=tR(Lo.prototype.request,t);return ct.extend(n,Lo.prototype,t,{allOwnKeys:!0}),ct.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return TR(ko(e,r))},n}const je=TR(sd);je.Axios=Lo;je.CanceledError=_c;je.CancelToken=zN;je.isCancel=pR;je.VERSION=wR;je.toFormData=cp;je.AxiosError=kt;je.Cancel=je.CanceledError;je.all=function(t){return Promise.all(t)};je.spread=DN;je.isAxiosError=LN;je.mergeConfig=ko;je.AxiosHeaders=Wn;je.formToJSON=e=>mR(ct.isHTMLForm(e)?new FormData(e):e);je.getAdapter=bR.getAdapter;je.HttpStatusCode=a1;je.default=je;const{Axios:_K,AxiosError:yK,CanceledError:gK,isCancel:vK,CancelToken:xK,VERSION:bK,all:wK,Cancel:EK,isAxiosError:TK,spread:MK,toFormData:SK,AxiosHeaders:AK,HttpStatusCode:CK,formToJSON:RK,getAdapter:OK,mergeConfig:zK}=je;var IT=je.create({baseURL:"https://api.3dverse.com/app/v1"}),MR=class extends Error{constructor(t,n,i){super();H(this,"errorCode");H(this,"httpCode");H(this,"message");this.errorCode=t,this.httpCode=n,this.message=i}},UN=class extends MR{constructor(t,n,i,r){super(t,n,i);H(this,"serviceError");this.serviceError=r}},NN=class extends MR{constructor(t,n){super(0,t,"Unexpected service error error");H(this,"unexpectedError");this.unexpectedError=n}};function kN(){za(IT,{retries:5,retryDelay:za.exponentialDelay,retryCondition:PN}),IT.interceptors.response.use(n=>(n.config.responseType==="stream"&&n.data.pause(),n),n=>{var u,h;if(!n.response)return Promise.reject(n);const i=n,r=((u=i.response)==null?void 0:u.status)||500,a=(h=i.response)==null?void 0:h.data;if(!a&&i.request.method==="HEAD"&&r>=400&&r<500)return i.response;if(!a||typeof a!="object")return Promise.reject(new NN(r,a));const l=a;return Promise.reject(new UN(l.errorCode,r,l.message,l))})}function PN(e){var n;switch((n=e.response)==null?void 0:n.status){case 403:case 404:return!0;default:return nv(e)||rv(e)}}kN();globalThis["__css-content-e085607896e74cea377d7d0149a7a03a__"]=`:root,[data-theme=dark]{--3dverse-color-bg-ground: hsl(227 39% 5%);--3dverse-color-bg-underground: hsl(240 20% 2%);--3dverse-color-bg-overground: hsl(224 30.61% 9.61%);--3dverse-color-bg-foreground: hsl(214.29deg 33.33% 12.35% / 50.2%);--3dverse-color-content-primary: hsl(227.44 84.31% 90%);--3dverse-color-content-primary-dark: hsl(229 27% 12%);--3dverse-color-content-secondary: hsl(231 70% 84%);--3dverse-color-content-tertiary: hsl(231 40% 70%);--3dverse-color-content-quaternary: hsl(230 18% 34%);--3dverse-color-border-primary: hsl(228 19% 40%);--3dverse-color-border-secondary: hsl(228 19% 30%);--3dverse-color-border-tertiary: hsl(228 21% 13%);--3dverse-color-border-quaternary: hsl(227 11% 15%);--3dverse-color-border-primary-alpha: hsl(228 21% 40% / .5);--3dverse-color-border-secondary-alpha: hsl(228 19% 30% / .5);--3dverse-color-border-tertiary-alpha: hsl(228 21% 20% / .5);--3dverse-color-border-quaternary-alpha: hsl(228 21% 13% / .5);--3dverse-color-accent: var(--3dverse-color-accent-500);--3dverse-color-accent-100: hsl(47 85% 78%);--3dverse-color-accent-400: hsl(47 90% 60%);--3dverse-color-accent-500: hsl(47 100% 50%);--3dverse-color-accent-600: hsl(47 100% 45%);--3dverse-color-accent-700: hsl(47 90% 16%);--3dverse-color-accent-800: hsl(57 180% 6%);--3dverse-color-feedback-informative: var(--3dverse-color-feedback-informative-500);--3dverse-color-feedback-informative-100: hsl(202 100% 84%);--3dverse-color-feedback-informative-500: hsl(202 100% 62%);--3dverse-color-feedback-informative-800: hsl(203 94% 21%);--3dverse-color-feedback-informative-900: hsl(202 50% 25%);--3dverse-color-feedback-positive: var(--3dverse-color-feedback-positive-500);--3dverse-color-feedback-positive-500: hsl(158 64% 52%);--3dverse-color-feedback-positive-800: hsl(157.2 48% 20.4%);--3dverse-color-feedback-positive-900: hsl(158 62.5% 9.41%);--3dverse-color-feedback-warning: var(--3dverse-color-feedback-warning-500);--3dverse-color-feedback-warning-500: hsl(14.4 86% 55.3%);--3dverse-color-feedback-warning-800: hsl(12 29.4% 13.3%);--3dverse-color-feedback-negative: var(--3dverse-color-feedback-negative-500);--3dverse-color-feedback-negative-400: hsl(0 87.8% 67.84%);--3dverse-color-feedback-negative-500: hsl(0 95.7% 63.53%);--3dverse-color-feedback-negative-600: hsl(0 63% 48%);--3dverse-color-feedback-negative-800: hsl(355.52 46.21% 28.43%);--3dverse-shadow-xs: 0px 1px 1px oklab(0 0 0 / .5);--3dverse-shadow-sm: 0 1px 2px 0 oklab(0 0 0 / .5);--3dverse-shadow-md: 0 4px 6px -1px oklab(0 0 0 / .5), 0 2px 4px -2px oklab(0 0 0 / .5);--3dverse-shadow-lg: 0 10px 15px -3px oklab(0 0 0 / .2), 0 4px 6px -4px oklab(0 0 0 / .5);--3dverse-shadow-xl: 0 20px 25px -5px oklab(0 0 0 / .2), 0 8px 10px -6px oklab(0 0 0 / .5);--3dverse-shadow-2xl: 0 25px 50px -12px oklab(0 0 0 / .5);--3dverse-shadow-3xl: 0 35px 60px -15px oklab(0 0 0 / .5);--3dverse-spacing-1: .25rem;--3dverse-spacing-2: .5rem;--3dverse-spacing-3: .75rem;--3dverse-spacing-4: 1rem;--3dverse-spacing-5: 1.25rem;--3dverse-spacing-6: 1.5rem;--3dverse-spacing-7: 1.75rem;--3dverse-spacing-8: 2rem;--3dverse-spacing-9: 2.25rem;--3dverse-spacing-10: 2.5rem;--3dverse-spacing-12: 3rem;--3dverse-spacing-14: 3.5rem;--3dverse-spacing-16: 4rem;--3dverse-spacing-20: 5rem;--3dverse-spacing-24: 6rem;--3dverse-spacing-28: 7rem;--3dverse-spacing-32: 8rem;--3dverse-spacing-36: 9rem;--3dverse-spacing-40: 10rem;--3dverse-spacing-44: 11rem;--3dverse-spacing-48: 12rem;--3dverse-spacing-52: 13rem;--3dverse-spacing-56: 14rem;--3dverse-spacing-60: 15rem;--3dverse-spacing-64: 16rem;--3dverse-spacing-72: 18rem;--3dverse-spacing-80: 20rem;--3dverse-spacing-96: 24rem;--3dverse-font-size-3xs: .7rem;--3dverse-font-size-2xs: .8rem;--3dverse-font-size-xs: .85rem;--3dverse-font-size-sm: .95rem;--3dverse-font-size-md: 1rem;--3dverse-font-size-lg: 1.125rem;--3dverse-font-size-xl: 1.25rem;--3dverse-font-size-2xl: 1.5rem;--3dverse-font-size-3xl: 1.875rem;--3dverse-font-size-4xl: 2.25rem;--3dverse-font-size-5xl: 3rem;--3dverse-font-size-6xl: 3.75rem;--3dverse-font-size-7xl: 4rem;--3dverse-font-size-8xl: 6rem;--3dverse-font-size-9xl: 8rem;--3dverse-leading-3: .75rem;--3dverse-leading-4: 1rem;--3dverse-leading-5: 1.25rem;--3dverse-leading-6: 1.5rem;--3dverse-leading-7: 1.75rem;--3dverse-leading-8: 2rem;--3dverse-leading-9: 2.25rem;--3dverse-leading-10: 2.5rem;--3dverse-leading-none: 1;--3dverse-leading-tight: 1.25;--3dverse-leading-snug: 1.375;--3dverse-leading-normal: 1.5;--3dverse-leading-relaxed: 1.625;--3dverse-leading-loose: 2;--3dverse-border-radius-sm: .125rem;--3dverse-border-radius-md: .3125rem;--3dverse-border-radius-lg: .5rem;--3dverse-border-radius-xl: .75rem;--3dverse-border-radius-2xl: 1rem;--3dverse-border-radius-3xl: 1.5rem}[data-theme=light]{--3dverse-color-accent: hsl(47.1 100% 63.53%);--3dverse-color-bg-ground: hsl(249 0% 100%);--3dverse-color-bg-underground: hsl(249 64% 98%);--3dverse-color-bg-overground: hsl(47.35 79.38% 93.21%);--3dverse-color-bg-foreground: hsl(249 34% 94%);--3dverse-color-content-primary: hsl(220 26% 14%);--3dverse-color-content-secondary: hsl(218 17% 25%);--3dverse-color-content-tertiary: hsl(216 15% 52%);--3dverse-color-content-primary-dark: hsl(227.44 84.31% 10%);--3dverse-color-border-primary: hsl(249 40% 86%);--3dverse-color-border-secondary: hsl(249 40% 91%);--3dverse-color-border-tertiary: hsl(249 40% 95%);--3dverse-color-border-primary-alpha: hsl(249 40% 86% / .5);--3dverse-color-border-secondary-alpha: hsl(249 40% 91% / .5);--3dverse-color-border-tertiary-alpha: hsl(249 40% 95% / .5);--3dverse-color-feedback-informative: hsl(202 100% 62%);--3dverse-color-feedback-positive: hsl(158 64% 52%);--3dverse-color-feedback-warning: hsl(14.4 86% 55.3%);--3dverse-color-feedback-negative: hsl(0 95.7% 63.53%)}.livelink-react-ui-component{font-family:ui-sans-serif,sans-serif;line-height:1.5;font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent;-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:100%;color:var(--3dverse-color-content-primary)}.livelink-react-ui-component :where(h1,h2,h3,h4,p,figure,blockquote,dl,dd){margin:0}.livelink-react-ui-component :where(input,button,textarea,select){font:inherit}.livelink-react-ui-component :where(input,textarea){caret-color:var(--3dverse-color-accent);&::selection{background-color:var(--3dverse-color-accent);color:var(--3dverse-color-content-primary-dark)}}.livelink-react-ui-component :where(*,*:before,*:after){box-sizing:border-box}[data-theme=light] .livelink-react-ui-component{color:var(--3dverse-color-content-primary)}.index-module__wrapper_awGTfW__038{background-color:color-mix(in srgb,var(--3dverse-color-bg-foreground) 85%,transparent);backdrop-filter:blur(34px);box-shadow:0 0 0 1px var(--3dverse-color-border-primary);border-radius:.5rem;display:flex}.style-module__container_nGfgUW__038{width:100%;height:100%;position:absolute;top:0;left:0}.style-module__overlay_nGfgUW__038{background-color:var(--3dverse-color-bg-underground);z-index:1;width:100%;height:100%;position:absolute;inset:0}.style-module__panelContainer_nGfgUW__038{z-index:2;display:flex;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.style-module__panel_nGfgUW__038{background-color:color-mix(in srgb,var(--3dverse-color-bg-ground) 20%,transparent);width:18rem;box-shadow:none;border-radius:9999px;flex-direction:column;padding:6px;animation:.3s ease-in-out style-module__appear-top_nGfgUW__038;display:flex}.style-module__inner_nGfgUW__038{text-align:center;padding:.85rem 0;position:relative}.style-module__startLine_nGfgUW__038{background-color:var(--3dverse-color-accent);border-radius:9999px;width:1px;height:.5rem;position:absolute;top:1px;left:50%;transform:translate(-50%,-50%)}.style-module__svgLine_nGfgUW__038{fill:none;width:100%;height:100%;position:absolute;top:50%;left:50%;overflow:visible;transform:translate(-50%,-50%)}.style-module__label_nGfgUW__038{color:var(--3dverse-color-content-primary);font-size:.875rem;font-weight:400;line-height:1.25rem}.style-module__timerLabel_nGfgUW__038{letter-spacing:.04em;color:var(--3dverse-color-content-secondary);margin-top:1px;font-size:.75rem;font-weight:400}.style-module__timer_nGfgUW__038{letter-spacing:.03em;font-variant-numeric:tabular-nums;color:var(--3dverse-color-accent)}@keyframes style-module__appear-top_nGfgUW__038{0%{translate:var(--translate-x, 0px) calc(calc(var(--translate-y, 0) * 1px) + var(--animation-appear-offset, 16px));opacity:0}to{translate:var(--translate-x, 0px) var(--translate-y, 0px);opacity:1}}.index-module__xs_j7wwHG__038{width:.65rem}.index-module__sm_j7wwHG__038{width:.85rem}.index-module__md_j7wwHG__038{width:1rem}.index-module__button_4TI8_a__038{cursor:pointer;border:1px solid #0000;border-radius:4px;justify-content:center;align-items:center;font-weight:500;transition:all .2s;display:inline-flex}.index-module__button_4TI8_a__038:disabled{opacity:.5;cursor:not-allowed}.index-module__ghost_4TI8_a__038{color:var(--3dverse-color-content-primary);background-color:#0000;border-color:#0000}.index-module__secondary_4TI8_a__038{color:var(--3dverse-color-content-primary);background-color:var(--3dverse-color-background-secondary);border-color:#0000}.index-module__outline_4TI8_a__038{color:var(--3dverse-color-content-primary);border-color:var(--3dverse-color-content-primary);background-color:#0000}.index-module__xs_4TI8_a__038{font-size:var(--3dverse-font-size-xs);padding:4px 8px}.index-module__sm_4TI8_a__038{font-size:var(--3dverse-font-size-sm);padding:6px 12px}.index-module__md_4TI8_a__038{font-size:var(--3dverse-font-size-md);padding:8px 16px}.index-module__iconButton_eLZH-G__038{padding:0}.index-module__xs_eLZH-G__038{padding:4px;font-size:12px}.index-module__sm_eLZH-G__038{padding:6px;font-size:14px}.index-module__md_eLZH-G__038{padding:8px;font-size:16px}.index-module__wrapper_UTmaZW__038{display:flex;position:relative}.index-module__tooltip_UTmaZW__038{height:fit-content;padding:0 var(--3dverse-spacing-2);font-size:var(--3dverse-font-size-xs);white-space:nowrap;color:var(--tooltip-color);background-color:var(--tooltip-bg);box-shadow:var(--3dverse-shadow-lg);opacity:0;pointer-events:none;z-index:10;--tooltip-bg: var(--3dverse-color-content-primary);--tooltip-color: var(--3dverse-color-bg-underground);border-radius:4px;transition:opacity .2s,translate .2s;position:absolute;bottom:100%;left:50%;translate:-50% -.25rem}.index-module__tooltip_UTmaZW__038.index-module__visible_UTmaZW__038{opacity:1;translate:-50% -.5rem}.index-module__tooltip_UTmaZW__038.index-module__usePortal_UTmaZW__038{z-index:1000}.index-module__tooltip_UTmaZW__038.index-module__usePortal_UTmaZW__038.index-module__visible_UTmaZW__038{animation:.5s forwards index-module__appear-in_UTmaZW__038}.index-module__wrapper_UTmaZW__038:hover .index-module__tooltip_UTmaZW__038,.index-module__wrapper_UTmaZW__038:focus-within .index-module__tooltip_UTmaZW__038{opacity:1;translate:-50% -.5rem}.index-module__tooltip_UTmaZW__038:after{content:"";border-style:solid;border-width:4px;border-color:var(--tooltip-bg) transparent transparent transparent;position:absolute;top:100%;left:50%;translate:-50%}@keyframes index-module__appear-in_UTmaZW__038{0%{opacity:0;translate:-50% -.75rem}to{opacity:1;translate:-50% -1.25rem}}.index-module__spinner_MCbMcG__038{width:var(--spinner-size, 1.25rem);height:var(--spinner-size, 1.25rem);border:1px solid #0000;border-top-color:var(--3dverse-color-accent);border-radius:9999px;animation:.8s linear infinite index-module__spin_MCbMcG__038}@keyframes index-module__spin_MCbMcG__038{to{transform:rotate(360deg)}}.index-module__wrapper_pijH4q__038{cursor:pointer;user-select:none;align-items:center;gap:.5rem;display:inline-flex}.index-module__input_pijH4q__038{opacity:0;pointer-events:none;position:absolute}.index-module__box_pijH4q__038{width:var(--size);height:var(--size);border:1px solid var(--3dverse-color-border-primary);border-radius:3px;place-items:center;transition:all .2s;display:grid}.index-module__icon_pijH4q__038{width:calc(var(--size) * .75);height:calc(var(--size) * .75);stroke:var(--3dverse-color-content-primary-dark);stroke-width:4px;stroke-linecap:round;stroke-linejoin:round;fill:none;transition:transform .2s;transform:scale(0)}.index-module__input_pijH4q__038:checked~.index-module__box_pijH4q__038 .index-module__icon_pijH4q__038{transform:scale(1)}.index-module__input_pijH4q__038:checked~.index-module__box_pijH4q__038{border-color:var(--3dverse-color-accent);background:color-mix(in srgb,var(--3dverse-color-accent) 80%,transparent)}.index-module__labelText_pijH4q__038{font-size:var(--3dverse-font-size-sm);color:var(--3dverse-color-content-tertiary);transition-property:color;transition-duration:.22s}.index-module__input_pijH4q__038:checked~.index-module__labelText_pijH4q__038{color:var(--3dverse-color-content-primary)}.index-module__xs_pijH4q__038{--size: 12px}.index-module__xs_pijH4q__038 .index-module__labelText_pijH4q__038{font-size:var(--3dverse-font-size-2xs)}.index-module__sm_pijH4q__038{--size: 16px}.index-module__md_pijH4q__038{--size: 20px}.index-module__wrapper__t9g4G__038{cursor:pointer;user-select:none;align-items:center;gap:.5rem;display:inline-flex}.index-module__switchInput__t9g4G__038{opacity:0;pointer-events:none;position:absolute}.index-module__switchTrack__t9g4G__038{--switch-padding: 2px;width:var(--switch-width);height:var(--switch-height);background-color:var(--3dverse-color-border-tertiary);border-radius:9999px;transition:background-color .25s;position:relative}.index-module__switchThumb__t9g4G__038{top:var(--switch-padding);left:var(--switch-padding);width:calc(var(--switch-height) - var(--switch-padding) * 2);height:calc(var(--switch-height) - var(--switch-padding) * 2);background-color:var(--3dverse-color-content-primary);border-radius:50%;transition:transform .25s,background-color .25s;position:absolute}.index-module__switchInput__t9g4G__038:checked+.index-module__switchTrack__t9g4G__038{background-color:var(--3dverse-color-accent)}.index-module__switchInput__t9g4G__038:checked+.index-module__switchTrack__t9g4G__038 .index-module__switchThumb__t9g4G__038{transform:translate(calc(var(--switch-width) - var(--switch-height)));background-color:var(--3dverse-color-bg-ground)}.index-module__switchInput__t9g4G__038:disabled+.index-module__switchTrack__t9g4G__038{mix-blend-mode:luminosity;opacity:.5;cursor:not-allowed}.index-module__xs__t9g4G__038{--switch-height: 1rem;--switch-width: 1.75rem}.index-module__sm__t9g4G__038{--switch-height: 1.25rem;--switch-width: 2.25rem}.index-module__md__t9g4G__038{--switch-height: 1.5rem;--switch-width: 2.75rem}.index-module__input_HSMh9G__038{color:inherit;border:1px solid var(--3dverse-color-border-tertiary);border-radius:var(--3dverse-border-radius-md);background-color:#0000;transition:border-color .22s}.index-module__input_HSMh9G__038:hover{border-color:var(--3dverse-color-border-secondary);z-index:1}.index-module__input_HSMh9G__038:focus{border-color:var(--3dverse-color-accent);z-index:1}.index-module__input_HSMh9G__038:focus-visible{border-color:var(--3dverse-color-accent);z-index:1;outline:none}.index-module__input_HSMh9G__038:active{border-color:var(--3dverse-color-accent);z-index:1}.index-module__xs_HSMh9G__038{font-size:var(--3dverse-font-size-3xs);line-height:var(--3dverse-leading-tight);height:24px;padding:1px 2px}.index-module__sm_HSMh9G__038{font-size:var(--3dverse-font-size-xs);padding:6px 12px}.index-module__md_HSMh9G__038{font-size:var(--3dverse-font-size-md);padding:8px 16px}.index-module__inputs_BOatZG__038{display:flex}.index-module__inputVector_BOatZG__038{text-align:right;border-radius:0;flex-basis:33%;max-width:5rem;margin-left:-1px}.index-module__inputNumber_sWc_TW__038{text-align:right}.index-module__item_ijPTRW__038{border-top:1px solid var(--3dverse-color-border-tertiary-alpha)}.index-module__button_ijPTRW__038{display:flex}summary.index-module__button_ijPTRW__038{cursor:pointer}summary.index-module__button_ijPTRW__038::marker{display:none}.index-module__icon_ijPTRW__038{transition:transform .3s}.index-module__open_ijPTRW__038 .index-module__icon_ijPTRW__038{transform:rotate(90deg)}.index-module__panel_ijPTRW__038{animation:.25s index-module__fadeIn_ijPTRW__038}@keyframes index-module__fadeIn_ijPTRW__038{0%{opacity:0;translate:0 -4px}to{opacity:1;translate:0}}.style-module__container_OiyPSG__038{flex-direction:column;align-items:center;display:flex}.style-module__spinnerContainer_OiyPSG__038{padding-block:var(--3dverse-spacing-8);justify-content:center;align-items:center;display:flex}.style-module__innerContainer_OiyPSG__038{flex-direction:column;display:flex}.style-module__subCategory_OiyPSG__038{flex-grow:1;display:flex}.style-module__subCategoryHeader_OiyPSG__038{align-items:center;gap:var(--3dverse-spacing-2);flex-grow:1;display:flex}.style-module__subCategoryName_OiyPSG__038{font-size:var(--3dverse-font-size-xs);user-select:none;font-weight:500}.style-module__accordion_OiyPSG__038{border-top:1px solid var(--3dverse-color-border-tertiary-alpha)}.style-module__accordionButton_OiyPSG__038{width:100%;padding-inline:var(--3dverse-spacing-2);padding-block:var(--3dverse-spacing-1);color:var(--3dverse-color-content-tertiary)}.style-module__accordionPanel_OiyPSG__038{padding-bottom:var(--3dverse-spacing-2)}.style-module__formControl_OiyPSG__038{font-size:var(--3dverse-font-size-sm);border-radius:var(--3dverse-border-radius-sm);cursor:pointer;flex-direction:row;align-items:center;padding-right:3px;transition:background-color .22s;display:flex}.style-module__formControl_OiyPSG__038:hover,.style-module__formControl_OiyPSG__038:focus{background-color:var(--3dverse-color-bg-foreground)}.style-module__formLabel_OiyPSG__038{text-align:start;padding-inline:var(--3dverse-spacing-2);padding-block:var(--3dverse-spacing-1);font-size:var(--3dverse-font-size-xs);letter-spacing:.02em;text-transform:capitalize;text-overflow:ellipsis;-webkit-line-clamp:var(--line-clamp);--line-clamp: 1;cursor:pointer;user-select:none;-webkit-box-orient:vertical;flex-grow:1;display:-webkit-box;overflow:hidden}.style-module__formControlWrapper_OiyPSG__038{align-items:center;gap:var(--3dverse-spacing-2);flex-shrink:0;display:flex}.style-module__resetButton_OiyPSG__038{width:var(--3dverse-spacing-5);min-width:auto;color:var(--3dverse-color-content-tertiary)}.style-module__resetAllButton_OiyPSG__038{width:max-content;margin-inline:var(--3dverse-spacing-1);margin-right:var(--3dverse-spacing-2);align-self:end}.style-module__container_BHEzva__038{--size: 81px;flex-direction:column;align-items:center;display:flex}.style-module__circleShadow_BHEzva__038{width:var(--size);aspect-ratio:1;pointer-events:none;z-index:-10;border-radius:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);box-shadow:inset 0 0 10px #665ee160}.style-module__movingLightHint_BHEzva__038{width:var(--size);aspect-ratio:1;border:2px solid var(--3dverse-color-accent);filter:blur(2px);-webkit-mask-composite:destination-in;pointer-events:none;border-radius:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);-webkit-mask-image:radial-gradient(circle,#000 20%,#0000 50%);mask-image:radial-gradient(circle,#000 20%,#0000 50%);-webkit-mask-position:-100px -100px;mask-position:-100px -100px;-webkit-mask-size:100%;mask-size:100%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-composite:source-in;mask-composite:intersect}.style-module__skeleton_BHEzva__038{aspect-ratio:1;background-color:var(--3dverse-color-bg-foreground);border-radius:50%;justify-content:center;align-items:center;margin:11px;animation:1.5s infinite style-module__pulseAnimation_BHEzva__038;display:flex}.style-module__skeleton_BHEzva__038 .style-module__icon_BHEzva__038{width:24px;height:24px;color:var(--3dverse-color-content-tertiary);stroke:var(--3dverse-color-bg-foreground);stroke-width:24px;opacity:.25}@keyframes style-module__pulseAnimation_BHEzva__038{0%,to{opacity:1}50%{opacity:.5}}.lightPreview-module__lightPreviewContainer_EmC_YG__038{background-color:color-mix(in srgb,var(--3dverse-color-bg-underground) 20%,transparent);border-radius:var(--3dverse-border-radius-md);opacity:max(.2,var(--intensity));flex-direction:column;justify-content:space-evenly;align-items:center;padding-inline:2rem;transition-property:background-color,opacity;transition-duration:.22s;display:flex}.lightPreview-module__lightPreviewContainer_EmC_YG__038>span{flex-grow:1}.lightPreview-module__lightPreviewContainer_EmC_YG__038.lightPreview-module__dimmed_EmC_YG__038{mix-blend-mode:luminosity;opacity:.2}.lightPreview-module__lightCable_EmC_YG__038{background:linear-gradient(to bottom,transparent -50%,color-mix(in srgb,var(--color) 80%,black));opacity:.4;width:1px}.lightPreview-module__outerBox_EmC_YG__038{aspect-ratio:1;border:1px solid color-mix(in srgb,var(--color) 80%,black);border-radius:9999px;width:3rem;height:3rem;position:relative;box-shadow:inset 0 0 10px 6px #fff3,0 0 5px #fff6}.lightPreview-module__innerGlow_EmC_YG__038{background-color:var(--color);filter:blur(10px);width:3.5rem;height:3.5rem;transform:translate(-50%,-50%) scale(var(--intensity));opacity:var(--intensity);border-radius:9999px;position:absolute;top:50%;left:50%}.lightColorSelector-module__colorSelector_RbV2yG__038{gap:var(--3dverse-spacing-2);grid-template-columns:repeat(6,1fr);display:grid}.lightColorSelector-module__colorButton_RbV2yG__038{all:unset;cursor:pointer;border:1px solid;border-radius:9999px;width:1.75rem;height:1.75rem;transition:border-color .22s}@media (width >= 50em){.lightColorSelector-module__colorButton_RbV2yG__038{width:1.25rem;height:1.25rem}}.lightColorSelector-module__colorButton_RbV2yG__038:hover,.lightColorSelector-module__colorButton_RbV2yG__038:active{border-color:currentColor}.lightColorSelector-module__active_RbV2yG__038{outline-offset:2px;outline:2px solid}.lightColorSelector-module__customColorButton_RbV2yG__038{cursor:pointer;border-radius:9999px;width:calc(1.75rem + 2px);height:calc(1.75rem + 2px);transition:border-color .22s;position:relative;overflow:hidden}@media (width >= 50em){.lightColorSelector-module__customColorButton_RbV2yG__038{width:calc(1.25rem + 2px);height:calc(1.25rem + 2px)}}.lightColorSelector-module__customColorButton_RbV2yG__038:not(.lightColorSelector-module__active_RbV2yG__038){background:conic-gradient(#ffd93d,#5e60ce,#a3de83,#ffd93d)}.lightColorSelector-module__colorInput_RbV2yG__038{visibility:hidden;cursor:pointer;width:300%;height:300%;padding:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.index-module__track_dZh96a__038{background-color:color-mix(in srgb,var(--track-color) 20%,#ffffff30);border-radius:var(--3dverse-border-radius-md);cursor:ew-resize;outline:none;width:100%;height:1rem;position:relative}.index-module__track_dZh96a__038.index-module__animateValueChange_dZh96a__038 .index-module__filled_dZh96a__038{transition-property:background-color,opacity,width}.index-module__track_dZh96a__038.index-module__animateValueChange_dZh96a__038 .index-module__thumb_dZh96a__038{transition-property:background-color,transform,left}.index-module__track_dZh96a__038.index-module__animateValueChange_dZh96a__038:hover .index-module__filled_dZh96a__038{transition-property:none}.index-module__track_dZh96a__038.index-module__animateValueChange_dZh96a__038:hover .index-module__thumb_dZh96a__038{transition-property:background-color,transform}.index-module__track_dZh96a__038.index-module__animateValueChange_dZh96a__038:focus .index-module__filled_dZh96a__038{transition-property:none}.index-module__track_dZh96a__038.index-module__animateValueChange_dZh96a__038:focus .index-module__thumb_dZh96a__038{transition-property:background-color,transform}.index-module__filled_dZh96a__038{background-color:var(--track-color);border-radius:var(--3dverse-border-radius-md);pointer-events:none;height:100%;opacity:var(--track-opacity);transition-property:background-color,opacity;transition-duration:.2s;transition-timing-function:ease-in-out}.index-module__thumb_dZh96a__038{border-radius:var(--3dverse-border-radius-sm);width:3px;height:100%;box-shadow:0 0 0 1px var(--3dverse-color-content-primary),0 0 10px 2px color-mix(in srgb,var(--3dverse-color-bg-ground) 40%,transparent);pointer-events:none;transition-property:background-color,transform;transition-duration:.2s;transition-timing-function:ease-in-out;position:absolute;top:50%;transform:translate(-50%,-50%)}.index-module__value_dZh96a__038{font-size:var(--3dverse-font-size-2xs);color:#000;white-space:nowrap;pointer-events:none;font-variant-numeric:tabular-nums;user-select:none;position:absolute;top:50%;right:8px;transform:translateY(-50%)}.lightSwitchOnOff-module__toggleButton_PB9dVG__038{all:unset;gap:var(--3dverse-spacing-2);padding:var(--3dverse-spacing-1) var(--3dverse-spacing-2);color:var(--3dverse-color-content-primary);font-size:var(--3dverse-font-size-xs);line-height:var(--3dverse-leading-4);background-color:color-mix(in srgb,var(--3dverse-color-bg-underground) 10%,transparent);border-radius:var(--3dverse-border-radius-md);cursor:pointer;display:flex}.lightSwitchOnOff-module__toggleText_PB9dVG__038{transition:opacity .22s}.style-module__container_N2j2sa__038{justify-content:center;align-items:center;gap:var(--3dverse-spacing-3);background-color:color-mix(in srgb,var(--3dverse-color-bg-foreground) 50%,transparent);flex-direction:column;width:100%;height:100%;display:flex;position:absolute}.style-module__glowEffectStyle_N2j2sa__038:before{content:"";width:150%;max-width:12rem;position:absolute;top:50%;left:50%;translate:-50% -50%}@media (width >= 80em){.style-module__glowEffectStyle_N2j2sa__038:before{max-width:18rem}}.style-module__glowEffectStyle_N2j2sa__038:before{aspect-ratio:1;mix-blend-mode:screen;background:radial-gradient(var(--3dverse-color-bg-overground),transparent);filter:blur(50px);pointer-events:none;z-index:0;border-radius:100%}.style-module__logoContainer_N2j2sa__038{width:1.75rem}@media (width >= 80em){.style-module__logoContainer_N2j2sa__038{width:2rem}}.style-module__logoContainer_N2j2sa__038{color:var(--3dverse-color-accent);filter:drop-shadow(0 18px 2px color-mix(in srgb,var(--3dverse-color-bg-ground) 50%,transparent))}.style-module__loaderProgressBarIndeterminateContainer_N2j2sa__038{background-color:var(--3dverse-color-bg-foreground);border-radius:2rem;width:3rem;padding:7px 8px}.style-module__loaderProgressBarIndeterminateTrack_N2j2sa__038{background-color:var(--3dverse-color-bg-underground);border-radius:1rem;width:100%;height:1px;position:relative;overflow:hidden}.style-module__loaderProgressBarIndeterminateTrack_N2j2sa__038:before{content:"''";will-change:left;background-color:var(--3dverse-color-accent);border-radius:1px;min-width:50%;height:100%;animation:1s infinite style-module__loader-progress-bar-indeterminate_N2j2sa__038;position:absolute}.style-module__loaderProgressBarIndeterminateTrack_N2j2sa__038:after{content:"";will-change:left;background-color:var(--3dverse-color-accent);opacity:.4;border-radius:1px;min-width:75%;height:100%;animation:1.5s .25s infinite style-module__loader-progress-bar-indeterminate_N2j2sa__038;position:absolute}@keyframes style-module__loader-progress-bar-indeterminate_N2j2sa__038{0%{left:-40%}to{left:100%}}.style-module__label_N2j2sa__038{color:var(--3dverse-color-content-tertiary);font-size:var(--3dverse-font-size-xs);letter-spacing:.05em;user-select:none;font-weight:500}.style-module__gamepadCrossContainer_dqwhla__038{width:120px;height:120px;position:absolute;bottom:10%;right:0;transform:translate(-50%)}.style-module__gamepadButton_dqwhla__038{--btn-color: 170, 0, 0;background-color:rgba(var(--btn-color),.55);border-radius:25px;position:absolute}.style-module__gamepadButton_dqwhla__038:hover{background-color:rgba(var(--btn-color),.6)}.style-module__gamepadButton_dqwhla__038:active{background-color:rgba(var(--btn-color),1)}.style-module__redButtonColor_dqwhla__038{--btn-color: 170, 0, 0;top:50%;right:0;transform:translateY(-50%)}.style-module__blueButtonColor_dqwhla__038{--btn-color: 0, 0, 170;top:50%;left:0;transform:translateY(-50%)}.style-module__greenButtonColor_dqwhla__038{--btn-color: 0, 170, 0;bottom:0;left:50%;transform:translate(-50%)}.style-module__yellowButtonColor_dqwhla__038{--btn-color: 170, 170, 0;top:0;left:50%;transform:translate(-50%)}
`;globalThis["__css-digest-e085607896e74cea377d7d0149a7a03a__"]="e085607896e74cea377d7d0149a7a03a";var BN=globalThis["__css-content-e085607896e74cea377d7d0149a7a03a__"],qT=globalThis["__css-digest-e085607896e74cea377d7d0149a7a03a__"],FN=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+qT);if(!t){t=globalThis.document.createElement("style"),t.id="_"+qT;let n=globalThis.document.createTextNode(BN);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({wrapper:"index-module__wrapper_awGTfW__038"},{get:function(e,t){return FN(),e[t]}});var jN=globalThis["__css-content-e085607896e74cea377d7d0149a7a03a__"],GT=globalThis["__css-digest-e085607896e74cea377d7d0149a7a03a__"],VN=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+GT);if(!t){t=globalThis.document.createElement("style"),t.id="_"+GT;let n=globalThis.document.createTextNode(jN);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({appearTop:"style-module__appear-top_nGfgUW__038",container:"style-module__container_nGfgUW__038",inner:"style-module__inner_nGfgUW__038",label:"style-module__label_nGfgUW__038",overlay:"style-module__overlay_nGfgUW__038",panel:"style-module__panel_nGfgUW__038",panelContainer:"style-module__panelContainer_nGfgUW__038",startLine:"style-module__startLine_nGfgUW__038",svgLine:"style-module__svgLine_nGfgUW__038",timer:"style-module__timer_nGfgUW__038",timerLabel:"style-module__timerLabel_nGfgUW__038"},{get:function(e,t){return VN(),e[t]}});var $N=globalThis["__css-content-e085607896e74cea377d7d0149a7a03a__"],YT=globalThis["__css-digest-e085607896e74cea377d7d0149a7a03a__"],HN=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+YT);if(!t){t=globalThis.document.createElement("style"),t.id="_"+YT;let n=globalThis.document.createTextNode($N);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({md:"index-module__md_j7wwHG__038",sm:"index-module__sm_j7wwHG__038",xs:"index-module__xs_j7wwHG__038"},{get:function(e,t){return HN(),e[t]}});var IN=globalThis["__css-content-e085607896e74cea377d7d0149a7a03a__"],XT=globalThis["__css-digest-e085607896e74cea377d7d0149a7a03a__"],qN=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+XT);if(!t){t=globalThis.document.createElement("style"),t.id="_"+XT;let n=globalThis.document.createTextNode(IN);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({button:"index-module__button_4TI8_a__038",ghost:"index-module__ghost_4TI8_a__038",md:"index-module__md_4TI8_a__038",outline:"index-module__outline_4TI8_a__038",secondary:"index-module__secondary_4TI8_a__038",sm:"index-module__sm_4TI8_a__038",xs:"index-module__xs_4TI8_a__038"},{get:function(e,t){return qN(),e[t]}});var GN=globalThis["__css-content-e085607896e74cea377d7d0149a7a03a__"],ZT=globalThis["__css-digest-e085607896e74cea377d7d0149a7a03a__"],YN=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+ZT);if(!t){t=globalThis.document.createElement("style"),t.id="_"+ZT;let n=globalThis.document.createTextNode(GN);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({iconButton:"index-module__iconButton_eLZH-G__038",md:"index-module__md_eLZH-G__038",sm:"index-module__sm_eLZH-G__038",xs:"index-module__xs_eLZH-G__038"},{get:function(e,t){return YN(),e[t]}});var XN=globalThis["__css-content-e085607896e74cea377d7d0149a7a03a__"],KT=globalThis["__css-digest-e085607896e74cea377d7d0149a7a03a__"],ZN=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+KT);if(!t){t=globalThis.document.createElement("style"),t.id="_"+KT;let n=globalThis.document.createTextNode(XN);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({appearIn:"index-module__appear-in_UTmaZW__038",tooltip:"index-module__tooltip_UTmaZW__038",usePortal:"index-module__usePortal_UTmaZW__038",visible:"index-module__visible_UTmaZW__038",wrapper:"index-module__wrapper_UTmaZW__038"},{get:function(e,t){return ZN(),e[t]}});var KN=globalThis["__css-content-e085607896e74cea377d7d0149a7a03a__"],QT=globalThis["__css-digest-e085607896e74cea377d7d0149a7a03a__"],QN=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+QT);if(!t){t=globalThis.document.createElement("style"),t.id="_"+QT;let n=globalThis.document.createTextNode(KN);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({spin:"index-module__spin_MCbMcG__038",spinner:"index-module__spinner_MCbMcG__038"},{get:function(e,t){return QN(),e[t]}});var WN=globalThis["__css-content-e085607896e74cea377d7d0149a7a03a__"],WT=globalThis["__css-digest-e085607896e74cea377d7d0149a7a03a__"],JN=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+WT);if(!t){t=globalThis.document.createElement("style"),t.id="_"+WT;let n=globalThis.document.createTextNode(WN);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({box:"index-module__box_pijH4q__038",icon:"index-module__icon_pijH4q__038",input:"index-module__input_pijH4q__038",labelText:"index-module__labelText_pijH4q__038",md:"index-module__md_pijH4q__038",sm:"index-module__sm_pijH4q__038",wrapper:"index-module__wrapper_pijH4q__038",xs:"index-module__xs_pijH4q__038"},{get:function(e,t){return JN(),e[t]}});var tk=globalThis["__css-content-e085607896e74cea377d7d0149a7a03a__"],JT=globalThis["__css-digest-e085607896e74cea377d7d0149a7a03a__"],ek=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+JT);if(!t){t=globalThis.document.createElement("style"),t.id="_"+JT;let n=globalThis.document.createTextNode(tk);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({md:"index-module__md__t9g4G__038",sm:"index-module__sm__t9g4G__038",switchInput:"index-module__switchInput__t9g4G__038",switchThumb:"index-module__switchThumb__t9g4G__038",switchTrack:"index-module__switchTrack__t9g4G__038",wrapper:"index-module__wrapper__t9g4G__038",xs:"index-module__xs__t9g4G__038"},{get:function(e,t){return ek(),e[t]}});var nk=globalThis["__css-content-e085607896e74cea377d7d0149a7a03a__"],tM=globalThis["__css-digest-e085607896e74cea377d7d0149a7a03a__"],ik=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+tM);if(!t){t=globalThis.document.createElement("style"),t.id="_"+tM;let n=globalThis.document.createTextNode(nk);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({input:"index-module__input_HSMh9G__038",md:"index-module__md_HSMh9G__038",sm:"index-module__sm_HSMh9G__038",xs:"index-module__xs_HSMh9G__038"},{get:function(e,t){return ik(),e[t]}});var rk=globalThis["__css-content-e085607896e74cea377d7d0149a7a03a__"],eM=globalThis["__css-digest-e085607896e74cea377d7d0149a7a03a__"],sk=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+eM);if(!t){t=globalThis.document.createElement("style"),t.id="_"+eM;let n=globalThis.document.createTextNode(rk);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({inputVector:"index-module__inputVector_BOatZG__038",inputs:"index-module__inputs_BOatZG__038"},{get:function(e,t){return sk(),e[t]}});var ak=globalThis["__css-content-e085607896e74cea377d7d0149a7a03a__"],nM=globalThis["__css-digest-e085607896e74cea377d7d0149a7a03a__"],ok=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+nM);if(!t){t=globalThis.document.createElement("style"),t.id="_"+nM;let n=globalThis.document.createTextNode(ak);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({inputNumber:"index-module__inputNumber_sWc_TW__038"},{get:function(e,t){return ok(),e[t]}});var lk=globalThis["__css-content-e085607896e74cea377d7d0149a7a03a__"],iM=globalThis["__css-digest-e085607896e74cea377d7d0149a7a03a__"],uk=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+iM);if(!t){t=globalThis.document.createElement("style"),t.id="_"+iM;let n=globalThis.document.createTextNode(lk);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({button:"index-module__button_ijPTRW__038",fadeIn:"index-module__fadeIn_ijPTRW__038",icon:"index-module__icon_ijPTRW__038",item:"index-module__item_ijPTRW__038",open:"index-module__open_ijPTRW__038",panel:"index-module__panel_ijPTRW__038"},{get:function(e,t){return uk(),e[t]}});var ck=globalThis["__css-content-e085607896e74cea377d7d0149a7a03a__"],rM=globalThis["__css-digest-e085607896e74cea377d7d0149a7a03a__"],hk=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+rM);if(!t){t=globalThis.document.createElement("style"),t.id="_"+rM;let n=globalThis.document.createTextNode(ck);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({accordion:"style-module__accordion_OiyPSG__038",accordionButton:"style-module__accordionButton_OiyPSG__038",accordionPanel:"style-module__accordionPanel_OiyPSG__038",container:"style-module__container_OiyPSG__038",formControl:"style-module__formControl_OiyPSG__038",formControlWrapper:"style-module__formControlWrapper_OiyPSG__038",formLabel:"style-module__formLabel_OiyPSG__038",innerContainer:"style-module__innerContainer_OiyPSG__038",resetAllButton:"style-module__resetAllButton_OiyPSG__038",resetButton:"style-module__resetButton_OiyPSG__038",spinnerContainer:"style-module__spinnerContainer_OiyPSG__038",subCategory:"style-module__subCategory_OiyPSG__038",subCategoryHeader:"style-module__subCategoryHeader_OiyPSG__038",subCategoryName:"style-module__subCategoryName_OiyPSG__038"},{get:function(e,t){return hk(),e[t]}});var fk=globalThis["__css-content-e085607896e74cea377d7d0149a7a03a__"],sM=globalThis["__css-digest-e085607896e74cea377d7d0149a7a03a__"],dk=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+sM);if(!t){t=globalThis.document.createElement("style"),t.id="_"+sM;let n=globalThis.document.createTextNode(fk);t.appendChild(n),e.appendChild(t)}},0)},mk=new Proxy({circleShadow:"style-module__circleShadow_BHEzva__038",container:"style-module__container_BHEzva__038",icon:"style-module__icon_BHEzva__038",movingLightHint:"style-module__movingLightHint_BHEzva__038",pulseAnimation:"style-module__pulseAnimation_BHEzva__038",skeleton:"style-module__skeleton_BHEzva__038"},{get:function(e,t){return dk(),e[t]}});O.forwardRef((e,t)=>At.createElement("div",{ref:t,className:mk.movingLightHint,role:"presentation"}));O.createContext(null);var pk=globalThis["__css-content-e085607896e74cea377d7d0149a7a03a__"],aM=globalThis["__css-digest-e085607896e74cea377d7d0149a7a03a__"],_k=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+aM);if(!t){t=globalThis.document.createElement("style"),t.id="_"+aM;let n=globalThis.document.createTextNode(pk);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({dimmed:"lightPreview-module__dimmed_EmC_YG__038",innerGlow:"lightPreview-module__innerGlow_EmC_YG__038",lightCable:"lightPreview-module__lightCable_EmC_YG__038",lightPreviewContainer:"lightPreview-module__lightPreviewContainer_EmC_YG__038",outerBox:"lightPreview-module__outerBox_EmC_YG__038"},{get:function(e,t){return _k(),e[t]}});var yk=globalThis["__css-content-e085607896e74cea377d7d0149a7a03a__"],oM=globalThis["__css-digest-e085607896e74cea377d7d0149a7a03a__"],gk=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+oM);if(!t){t=globalThis.document.createElement("style"),t.id="_"+oM;let n=globalThis.document.createTextNode(yk);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({active:"lightColorSelector-module__active_RbV2yG__038",colorButton:"lightColorSelector-module__colorButton_RbV2yG__038",colorInput:"lightColorSelector-module__colorInput_RbV2yG__038",colorSelector:"lightColorSelector-module__colorSelector_RbV2yG__038",customColorButton:"lightColorSelector-module__customColorButton_RbV2yG__038"},{get:function(e,t){return gk(),e[t]}});var vk=globalThis["__css-content-e085607896e74cea377d7d0149a7a03a__"],lM=globalThis["__css-digest-e085607896e74cea377d7d0149a7a03a__"],xk=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+lM);if(!t){t=globalThis.document.createElement("style"),t.id="_"+lM;let n=globalThis.document.createTextNode(vk);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({animateValueChange:"index-module__animateValueChange_dZh96a__038",filled:"index-module__filled_dZh96a__038",thumb:"index-module__thumb_dZh96a__038",track:"index-module__track_dZh96a__038",value:"index-module__value_dZh96a__038"},{get:function(e,t){return xk(),e[t]}});var bk=globalThis["__css-content-e085607896e74cea377d7d0149a7a03a__"],uM=globalThis["__css-digest-e085607896e74cea377d7d0149a7a03a__"],wk=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+uM);if(!t){t=globalThis.document.createElement("style"),t.id="_"+uM;let n=globalThis.document.createTextNode(bk);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({toggleButton:"lightSwitchOnOff-module__toggleButton_PB9dVG__038",toggleText:"lightSwitchOnOff-module__toggleText_PB9dVG__038"},{get:function(e,t){return wk(),e[t]}});var Ek=()=>At.createElement("svg",{viewBox:"0 0 40 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},At.createElement("path",{d:"m.007 27.319 12.303 12.03V55.32L0 43.28l.007-15.962Z",fill:"url(#3dverse-logo-rocket-dark_gradient1)"}),At.createElement("path",{d:"M39.993 27.319 27.69 39.349V55.32L40 43.28l-.007-15.962Z",fill:"url(#3dverse-logo-rocket-dark_gradient2)"}),At.createElement("path",{d:"M33.257 18.356v-5.668c0-16.917-26.514-16.917-26.514 0v5.679L0 27.319V43.28l12.743-15.97v7.055l7.256 7.096 7.258-7.096V27.31L40 43.28V27.31l-6.743-8.955Zm-9.081.01h-8.352V12.44c0-5.973 8.352-5.973 8.352 0v5.927Z",fill:"currentColor"}),At.createElement("defs",null,At.createElement("linearGradient",{id:"3dverse-logo-rocket-dark_gradient1",x1:"-.64",y1:"29.494",x2:"17.183",y2:"60.499",gradientUnits:"userSpaceOnUse"},At.createElement("stop",{offset:".34",stopColor:"currentColor",stopOpacity:".7"}),At.createElement("stop",{offset:".96",stopColor:"currentColor",stopOpacity:".1"})),At.createElement("linearGradient",{id:"3dverse-logo-rocket-dark_gradient2",x1:"34.233",y1:"22.311",x2:"8.55",y2:"47.994",gradientUnits:"userSpaceOnUse"},At.createElement("stop",{offset:".34",stopColor:"currentColor",stopOpacity:".7"}),At.createElement("stop",{offset:".96",stopColor:"currentColor",stopOpacity:".1"})))),Tk=globalThis["__css-content-e085607896e74cea377d7d0149a7a03a__"],cM=globalThis["__css-digest-e085607896e74cea377d7d0149a7a03a__"],Mk=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+cM);if(!t){t=globalThis.document.createElement("style"),t.id="_"+cM;let n=globalThis.document.createTextNode(Tk);t.appendChild(n),e.appendChild(t)}},0)},Nl=new Proxy({container:"style-module__container_N2j2sa__038",glowEffectStyle:"style-module__glowEffectStyle_N2j2sa__038",label:"style-module__label_N2j2sa__038",loaderProgressBarIndeterminate:"style-module__loader-progress-bar-indeterminate_N2j2sa__038",loaderProgressBarIndeterminateContainer:"style-module__loaderProgressBarIndeterminateContainer_N2j2sa__038",loaderProgressBarIndeterminateTrack:"style-module__loaderProgressBarIndeterminateTrack_N2j2sa__038",logoContainer:"style-module__logoContainer_N2j2sa__038"},{get:function(e,t){return Mk(),e[t]}}),Sk=({stage:e="Connecting to 3dverse..."})=>At.createElement("div",{className:`${Nl.container} ${Nl.glowEffectStyle} livelink-react-ui-component`},At.createElement("div",{className:Nl.logoContainer},At.createElement(Ek,null)),At.createElement("div",{className:Nl.loaderProgressBarIndeterminateContainer,role:"progressbar"},At.createElement("div",{className:Nl.loaderProgressBarIndeterminateTrack})),e&&At.createElement("p",{className:Nl.label},e)),Ak=globalThis["__css-content-e085607896e74cea377d7d0149a7a03a__"],hM=globalThis["__css-digest-e085607896e74cea377d7d0149a7a03a__"],Ck=()=>{setTimeout(()=>{if(!globalThis.document)return;let e=globalThis.document.querySelector("head");e&&e.shadowRoot&&(e=e.shadowRoot),e||(e=globalThis.document.head);let t=e.querySelector("#_"+hM);if(!t){t=globalThis.document.createElement("style"),t.id="_"+hM;let n=globalThis.document.createTextNode(Ak);t.appendChild(n),e.appendChild(t)}},0)};new Proxy({blueButtonColor:"style-module__blueButtonColor_dqwhla__038",gamepadButton:"style-module__gamepadButton_dqwhla__038",gamepadCrossContainer:"style-module__gamepadCrossContainer_dqwhla__038",greenButtonColor:"style-module__greenButtonColor_dqwhla__038",redButtonColor:"style-module__redButtonColor_dqwhla__038",yellowButtonColor:"style-module__yellowButtonColor_dqwhla__038"},{get:function(e,t){return Ck(),e[t]}});typeof window<"u"&&(window.__LIVELINK__||(window.__LIVELINK__={}),Object.prototype.hasOwnProperty.call(window.__LIVELINK__,"@3dverse/livelink-react-ui")?console.warn("⚠️ WARNING ⚠️ Multiple instances of Livelink React UI being imported."):window.__LIVELINK__["@3dverse/livelink-react-ui"]="0.3.8");function SR(e,t,n){return Math.max(t,Math.min(n,e))}let lo=class{constructor(t=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=t,this._y=n,this._z=i,this._w=r}static slerpFlat(t,n,i,r,a,l,u){let h=i[r+0],f=i[r+1],d=i[r+2],p=i[r+3];const y=a[l+0],_=a[l+1],v=a[l+2],w=a[l+3];if(u===0){t[n+0]=h,t[n+1]=f,t[n+2]=d,t[n+3]=p;return}if(u===1){t[n+0]=y,t[n+1]=_,t[n+2]=v,t[n+3]=w;return}if(p!==w||h!==y||f!==_||d!==v){let E=1-u;const M=h*y+f*_+d*v+p*w,R=M>=0?1:-1,z=1-M*M;if(z>Number.EPSILON){const C=Math.sqrt(z),N=Math.atan2(C,M*R);E=Math.sin(E*N)/C,u=Math.sin(u*N)/C}const D=u*R;if(h=h*E+y*D,f=f*E+_*D,d=d*E+v*D,p=p*E+w*D,E===1-u){const C=1/Math.sqrt(h*h+f*f+d*d+p*p);h*=C,f*=C,d*=C,p*=C}}t[n]=h,t[n+1]=f,t[n+2]=d,t[n+3]=p}static multiplyQuaternionsFlat(t,n,i,r,a,l){const u=i[r],h=i[r+1],f=i[r+2],d=i[r+3],p=a[l],y=a[l+1],_=a[l+2],v=a[l+3];return t[n]=u*v+d*p+h*_-f*y,t[n+1]=h*v+d*y+f*p-u*_,t[n+2]=f*v+d*_+u*y-h*p,t[n+3]=d*v-u*p-h*y-f*_,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,n,i,r){return this._x=t,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,n){const i=t._x,r=t._y,a=t._z,l=t._order,u=Math.cos,h=Math.sin,f=u(i/2),d=u(r/2),p=u(a/2),y=h(i/2),_=h(r/2),v=h(a/2);switch(l){case"XYZ":this._x=y*d*p+f*_*v,this._y=f*_*p-y*d*v,this._z=f*d*v+y*_*p,this._w=f*d*p-y*_*v;break;case"YXZ":this._x=y*d*p+f*_*v,this._y=f*_*p-y*d*v,this._z=f*d*v-y*_*p,this._w=f*d*p+y*_*v;break;case"ZXY":this._x=y*d*p-f*_*v,this._y=f*_*p+y*d*v,this._z=f*d*v+y*_*p,this._w=f*d*p-y*_*v;break;case"ZYX":this._x=y*d*p-f*_*v,this._y=f*_*p+y*d*v,this._z=f*d*v-y*_*p,this._w=f*d*p+y*_*v;break;case"YZX":this._x=y*d*p+f*_*v,this._y=f*_*p+y*d*v,this._z=f*d*v-y*_*p,this._w=f*d*p-y*_*v;break;case"XZY":this._x=y*d*p-f*_*v,this._y=f*_*p-y*d*v,this._z=f*d*v+y*_*p,this._w=f*d*p+y*_*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,n){const i=n/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const n=t.elements,i=n[0],r=n[4],a=n[8],l=n[1],u=n[5],h=n[9],f=n[2],d=n[6],p=n[10],y=i+u+p;if(y>0){const _=.5/Math.sqrt(y+1);this._w=.25/_,this._x=(d-h)*_,this._y=(a-f)*_,this._z=(l-r)*_}else if(i>u&&i>p){const _=2*Math.sqrt(1+i-u-p);this._w=(d-h)/_,this._x=.25*_,this._y=(r+l)/_,this._z=(a+f)/_}else if(u>p){const _=2*Math.sqrt(1+u-i-p);this._w=(a-f)/_,this._x=(r+l)/_,this._y=.25*_,this._z=(h+d)/_}else{const _=2*Math.sqrt(1+p-i-u);this._w=(l-r)/_,this._x=(a+f)/_,this._y=(h+d)/_,this._z=.25*_}return this._onChangeCallback(),this}setFromUnitVectors(t,n){let i=t.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*n.z-t.z*n.y,this._y=t.z*n.x-t.x*n.z,this._z=t.x*n.y-t.y*n.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(SR(this.dot(t),-1,1)))}rotateTowards(t,n){const i=this.angleTo(t);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,n){const i=t._x,r=t._y,a=t._z,l=t._w,u=n._x,h=n._y,f=n._z,d=n._w;return this._x=i*d+l*u+r*f-a*h,this._y=r*d+l*h+a*u-i*f,this._z=a*d+l*f+i*h-r*u,this._w=l*d-i*u-r*h-a*f,this._onChangeCallback(),this}slerp(t,n){if(n===0)return this;if(n===1)return this.copy(t);const i=this._x,r=this._y,a=this._z,l=this._w;let u=l*t._w+i*t._x+r*t._y+a*t._z;if(u<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,u=-u):this.copy(t),u>=1)return this._w=l,this._x=i,this._y=r,this._z=a,this;const h=1-u*u;if(h<=Number.EPSILON){const _=1-n;return this._w=_*l+n*this._w,this._x=_*i+n*this._x,this._y=_*r+n*this._y,this._z=_*a+n*this._z,this.normalize(),this._onChangeCallback(),this}const f=Math.sqrt(h),d=Math.atan2(f,u),p=Math.sin((1-n)*d)/f,y=Math.sin(n*d)/f;return this._w=l*p+this._w*y,this._x=i*p+this._x*y,this._y=r*p+this._y*y,this._z=a*p+this._z*y,this._onChangeCallback(),this}slerpQuaternions(t,n,i){return this.copy(t).slerp(n,i)}random(){const t=Math.random(),n=Math.sqrt(1-t),i=Math.sqrt(t),r=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(n*Math.cos(r),i*Math.sin(a),i*Math.cos(a),n*Math.sin(r))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,n=0){return this._x=t[n],this._y=t[n+1],this._z=t[n+2],this._w=t[n+3],this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._w,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},vi=class AR{constructor(t=0,n=0,i=0){AR.prototype.isVector3=!0,this.x=t,this.y=n,this.z=i}set(t,n,i){return i===void 0&&(i=this.z),this.x=t,this.y=n,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,n){return this.x=t.x*n.x,this.y=t.y*n.y,this.z=t.z*n.z,this}applyEuler(t){return this.applyQuaternion(fM.setFromEuler(t))}applyAxisAngle(t,n){return this.applyQuaternion(fM.setFromAxisAngle(t,n))}applyMatrix3(t){const n=this.x,i=this.y,r=this.z,a=t.elements;return this.x=a[0]*n+a[3]*i+a[6]*r,this.y=a[1]*n+a[4]*i+a[7]*r,this.z=a[2]*n+a[5]*i+a[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const n=this.x,i=this.y,r=this.z,a=t.elements,l=1/(a[3]*n+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*n+a[4]*i+a[8]*r+a[12])*l,this.y=(a[1]*n+a[5]*i+a[9]*r+a[13])*l,this.z=(a[2]*n+a[6]*i+a[10]*r+a[14])*l,this}applyQuaternion(t){const n=this.x,i=this.y,r=this.z,a=t.x,l=t.y,u=t.z,h=t.w,f=h*n+l*r-u*i,d=h*i+u*n-a*r,p=h*r+a*i-l*n,y=-a*n-l*i-u*r;return this.x=f*h+y*-a+d*-u-p*-l,this.y=d*h+y*-l+p*-a-f*-u,this.z=p*h+y*-u+f*-l-d*-a,this}transformDirection(t){const n=this.x,i=this.y,r=this.z,a=t.elements;return this.x=a[0]*n+a[4]*i+a[8]*r,this.y=a[1]*n+a[5]*i+a[9]*r,this.z=a[2]*n+a[6]*i+a[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this}clampLength(t,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this}lerpVectors(t,n,i){return this.x=t.x+(n.x-t.x)*i,this.y=t.y+(n.y-t.y)*i,this.z=t.z+(n.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,n){const i=t.x,r=t.y,a=t.z,l=n.x,u=n.y,h=n.z;return this.x=r*h-a*u,this.y=a*l-i*h,this.z=i*u-r*l,this}projectOnVector(t){const n=t.lengthSq();if(n===0)return this.set(0,0,0);const i=t.dot(this)/n;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return eg.copy(this).projectOnVector(t),this.sub(eg)}reflect(t){return this.sub(eg.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const n=Math.sqrt(this.lengthSq()*t.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(t)/n;return Math.acos(SR(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const n=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return n*n+i*i+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,n,i){const r=Math.sin(n)*t;return this.x=r*Math.sin(i),this.y=Math.cos(n)*t,this.z=r*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,n,i){return this.x=t*Math.sin(n),this.y=i,this.z=t*Math.cos(n),this}setFromMatrixPosition(t){const n=t.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(t){const n=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(t,n){return this.fromArray(t.elements,n*4)}setFromMatrix3Column(t,n){return this.fromArray(t.elements,n*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,i=Math.sqrt(1-t**2);return this.x=i*Math.cos(n),this.y=i*Math.sin(n),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}};const eg=new vi,fM=new lo;let o1=class l1{constructor(){l1.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(t,n,i,r,a,l,u,h,f,d,p,y,_,v,w,E){const M=this.elements;return M[0]=t,M[4]=n,M[8]=i,M[12]=r,M[1]=a,M[5]=l,M[9]=u,M[13]=h,M[2]=f,M[6]=d,M[10]=p,M[14]=y,M[3]=_,M[7]=v,M[11]=w,M[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new l1().fromArray(this.elements)}copy(t){const n=this.elements,i=t.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(t){const n=this.elements,i=t.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(t){const n=t.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(t,n,i){return t.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,n,i){return this.set(t.x,n.x,i.x,0,t.y,n.y,i.y,0,t.z,n.z,i.z,0,0,0,0,1),this}extractRotation(t){const n=this.elements,i=t.elements,r=1/kl.setFromMatrixColumn(t,0).length(),a=1/kl.setFromMatrixColumn(t,1).length(),l=1/kl.setFromMatrixColumn(t,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*a,n[5]=i[5]*a,n[6]=i[6]*a,n[7]=0,n[8]=i[8]*l,n[9]=i[9]*l,n[10]=i[10]*l,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(t){const n=this.elements,i=t.x,r=t.y,a=t.z,l=Math.cos(i),u=Math.sin(i),h=Math.cos(r),f=Math.sin(r),d=Math.cos(a),p=Math.sin(a);if(t.order==="XYZ"){const y=l*d,_=l*p,v=u*d,w=u*p;n[0]=h*d,n[4]=-h*p,n[8]=f,n[1]=_+v*f,n[5]=y-w*f,n[9]=-u*h,n[2]=w-y*f,n[6]=v+_*f,n[10]=l*h}else if(t.order==="YXZ"){const y=h*d,_=h*p,v=f*d,w=f*p;n[0]=y+w*u,n[4]=v*u-_,n[8]=l*f,n[1]=l*p,n[5]=l*d,n[9]=-u,n[2]=_*u-v,n[6]=w+y*u,n[10]=l*h}else if(t.order==="ZXY"){const y=h*d,_=h*p,v=f*d,w=f*p;n[0]=y-w*u,n[4]=-l*p,n[8]=v+_*u,n[1]=_+v*u,n[5]=l*d,n[9]=w-y*u,n[2]=-l*f,n[6]=u,n[10]=l*h}else if(t.order==="ZYX"){const y=l*d,_=l*p,v=u*d,w=u*p;n[0]=h*d,n[4]=v*f-_,n[8]=y*f+w,n[1]=h*p,n[5]=w*f+y,n[9]=_*f-v,n[2]=-f,n[6]=u*h,n[10]=l*h}else if(t.order==="YZX"){const y=l*h,_=l*f,v=u*h,w=u*f;n[0]=h*d,n[4]=w-y*p,n[8]=v*p+_,n[1]=p,n[5]=l*d,n[9]=-u*d,n[2]=-f*d,n[6]=_*p+v,n[10]=y-w*p}else if(t.order==="XZY"){const y=l*h,_=l*f,v=u*h,w=u*f;n[0]=h*d,n[4]=-p,n[8]=f*d,n[1]=y*p+w,n[5]=l*d,n[9]=_*p-v,n[2]=v*p-_,n[6]=u*d,n[10]=w*p+y}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(t){return this.compose(Rk,t,Ok)}lookAt(t,n,i){const r=this.elements;return mi.subVectors(t,n),mi.lengthSq()===0&&(mi.z=1),mi.normalize(),oa.crossVectors(i,mi),oa.lengthSq()===0&&(Math.abs(i.z)===1?mi.x+=1e-4:mi.z+=1e-4,mi.normalize(),oa.crossVectors(i,mi)),oa.normalize(),Fm.crossVectors(mi,oa),r[0]=oa.x,r[4]=Fm.x,r[8]=mi.x,r[1]=oa.y,r[5]=Fm.y,r[9]=mi.y,r[2]=oa.z,r[6]=Fm.z,r[10]=mi.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){const i=t.elements,r=n.elements,a=this.elements,l=i[0],u=i[4],h=i[8],f=i[12],d=i[1],p=i[5],y=i[9],_=i[13],v=i[2],w=i[6],E=i[10],M=i[14],R=i[3],z=i[7],D=i[11],C=i[15],N=r[0],k=r[4],$=r[8],q=r[12],X=r[1],tt=r[5],at=r[9],J=r[13],et=r[2],bt=r[6],G=r[10],nt=r[14],ft=r[3],ht=r[7],F=r[11],ot=r[15];return a[0]=l*N+u*X+h*et+f*ft,a[4]=l*k+u*tt+h*bt+f*ht,a[8]=l*$+u*at+h*G+f*F,a[12]=l*q+u*J+h*nt+f*ot,a[1]=d*N+p*X+y*et+_*ft,a[5]=d*k+p*tt+y*bt+_*ht,a[9]=d*$+p*at+y*G+_*F,a[13]=d*q+p*J+y*nt+_*ot,a[2]=v*N+w*X+E*et+M*ft,a[6]=v*k+w*tt+E*bt+M*ht,a[10]=v*$+w*at+E*G+M*F,a[14]=v*q+w*J+E*nt+M*ot,a[3]=R*N+z*X+D*et+C*ft,a[7]=R*k+z*tt+D*bt+C*ht,a[11]=R*$+z*at+D*G+C*F,a[15]=R*q+z*J+D*nt+C*ot,this}multiplyScalar(t){const n=this.elements;return n[0]*=t,n[4]*=t,n[8]*=t,n[12]*=t,n[1]*=t,n[5]*=t,n[9]*=t,n[13]*=t,n[2]*=t,n[6]*=t,n[10]*=t,n[14]*=t,n[3]*=t,n[7]*=t,n[11]*=t,n[15]*=t,this}determinant(){const t=this.elements,n=t[0],i=t[4],r=t[8],a=t[12],l=t[1],u=t[5],h=t[9],f=t[13],d=t[2],p=t[6],y=t[10],_=t[14],v=t[3],w=t[7],E=t[11],M=t[15];return v*(+a*h*p-r*f*p-a*u*y+i*f*y+r*u*_-i*h*_)+w*(+n*h*_-n*f*y+a*l*y-r*l*_+r*f*d-a*h*d)+E*(+n*f*p-n*u*_-a*l*p+i*l*_+a*u*d-i*f*d)+M*(-r*u*d-n*h*p+n*u*y+r*l*p-i*l*y+i*h*d)}transpose(){const t=this.elements;let n;return n=t[1],t[1]=t[4],t[4]=n,n=t[2],t[2]=t[8],t[8]=n,n=t[6],t[6]=t[9],t[9]=n,n=t[3],t[3]=t[12],t[12]=n,n=t[7],t[7]=t[13],t[13]=n,n=t[11],t[11]=t[14],t[14]=n,this}setPosition(t,n,i){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=n,r[14]=i),this}invert(){const t=this.elements,n=t[0],i=t[1],r=t[2],a=t[3],l=t[4],u=t[5],h=t[6],f=t[7],d=t[8],p=t[9],y=t[10],_=t[11],v=t[12],w=t[13],E=t[14],M=t[15],R=p*E*f-w*y*f+w*h*_-u*E*_-p*h*M+u*y*M,z=v*y*f-d*E*f-v*h*_+l*E*_+d*h*M-l*y*M,D=d*w*f-v*p*f+v*u*_-l*w*_-d*u*M+l*p*M,C=v*p*h-d*w*h-v*u*y+l*w*y+d*u*E-l*p*E,N=n*R+i*z+r*D+a*C;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const k=1/N;return t[0]=R*k,t[1]=(w*y*a-p*E*a-w*r*_+i*E*_+p*r*M-i*y*M)*k,t[2]=(u*E*a-w*h*a+w*r*f-i*E*f-u*r*M+i*h*M)*k,t[3]=(p*h*a-u*y*a-p*r*f+i*y*f+u*r*_-i*h*_)*k,t[4]=z*k,t[5]=(d*E*a-v*y*a+v*r*_-n*E*_-d*r*M+n*y*M)*k,t[6]=(v*h*a-l*E*a-v*r*f+n*E*f+l*r*M-n*h*M)*k,t[7]=(l*y*a-d*h*a+d*r*f-n*y*f-l*r*_+n*h*_)*k,t[8]=D*k,t[9]=(v*p*a-d*w*a-v*i*_+n*w*_+d*i*M-n*p*M)*k,t[10]=(l*w*a-v*u*a+v*i*f-n*w*f-l*i*M+n*u*M)*k,t[11]=(d*u*a-l*p*a-d*i*f+n*p*f+l*i*_-n*u*_)*k,t[12]=C*k,t[13]=(d*w*r-v*p*r+v*i*y-n*w*y-d*i*E+n*p*E)*k,t[14]=(v*u*r-l*w*r-v*i*h+n*w*h+l*i*E-n*u*E)*k,t[15]=(l*p*r-d*u*r+d*i*h-n*p*h-l*i*y+n*u*y)*k,this}scale(t){const n=this.elements,i=t.x,r=t.y,a=t.z;return n[0]*=i,n[4]*=r,n[8]*=a,n[1]*=i,n[5]*=r,n[9]*=a,n[2]*=i,n[6]*=r,n[10]*=a,n[3]*=i,n[7]*=r,n[11]*=a,this}getMaxScaleOnAxis(){const t=this.elements,n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(t,n,i){return this.set(1,0,0,t,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(t){const n=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(t){const n=Math.cos(t),i=Math.sin(t);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(t){const n=Math.cos(t),i=Math.sin(t);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,n){const i=Math.cos(n),r=Math.sin(n),a=1-i,l=t.x,u=t.y,h=t.z,f=a*l,d=a*u;return this.set(f*l+i,f*u-r*h,f*h+r*u,0,f*u+r*h,d*u+i,d*h-r*l,0,f*h-r*u,d*h+r*l,a*h*h+i,0,0,0,0,1),this}makeScale(t,n,i){return this.set(t,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,n,i,r,a,l){return this.set(1,i,a,0,t,1,l,0,n,r,1,0,0,0,0,1),this}compose(t,n,i){const r=this.elements,a=n._x,l=n._y,u=n._z,h=n._w,f=a+a,d=l+l,p=u+u,y=a*f,_=a*d,v=a*p,w=l*d,E=l*p,M=u*p,R=h*f,z=h*d,D=h*p,C=i.x,N=i.y,k=i.z;return r[0]=(1-(w+M))*C,r[1]=(_+D)*C,r[2]=(v-z)*C,r[3]=0,r[4]=(_-D)*N,r[5]=(1-(y+M))*N,r[6]=(E+R)*N,r[7]=0,r[8]=(v+z)*k,r[9]=(E-R)*k,r[10]=(1-(y+w))*k,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,n,i){const r=this.elements;let a=kl.set(r[0],r[1],r[2]).length();const l=kl.set(r[4],r[5],r[6]).length(),u=kl.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),t.x=r[12],t.y=r[13],t.z=r[14],Wi.copy(this);const f=1/a,d=1/l,p=1/u;return Wi.elements[0]*=f,Wi.elements[1]*=f,Wi.elements[2]*=f,Wi.elements[4]*=d,Wi.elements[5]*=d,Wi.elements[6]*=d,Wi.elements[8]*=p,Wi.elements[9]*=p,Wi.elements[10]*=p,n.setFromRotationMatrix(Wi),i.x=a,i.y=l,i.z=u,this}makePerspective(t,n,i,r,a,l){const u=this.elements,h=2*a/(n-t),f=2*a/(i-r),d=(n+t)/(n-t),p=(i+r)/(i-r),y=-(l+a)/(l-a),_=-2*l*a/(l-a);return u[0]=h,u[4]=0,u[8]=d,u[12]=0,u[1]=0,u[5]=f,u[9]=p,u[13]=0,u[2]=0,u[6]=0,u[10]=y,u[14]=_,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(t,n,i,r,a,l){const u=this.elements,h=1/(n-t),f=1/(i-r),d=1/(l-a),p=(n+t)*h,y=(i+r)*f,_=(l+a)*d;return u[0]=2*h,u[4]=0,u[8]=0,u[12]=-p,u[1]=0,u[5]=2*f,u[9]=0,u[13]=-y,u[2]=0,u[6]=0,u[10]=-2*d,u[14]=-_,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(t){const n=this.elements,i=t.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(t,n=0){for(let i=0;i<16;i++)this.elements[i]=t[i+n];return this}toArray(t=[],n=0){const i=this.elements;return t[n]=i[0],t[n+1]=i[1],t[n+2]=i[2],t[n+3]=i[3],t[n+4]=i[4],t[n+5]=i[5],t[n+6]=i[6],t[n+7]=i[7],t[n+8]=i[8],t[n+9]=i[9],t[n+10]=i[10],t[n+11]=i[11],t[n+12]=i[12],t[n+13]=i[13],t[n+14]=i[14],t[n+15]=i[15],t}};const kl=new vi,Wi=new o1,Rk=new vi(0,0,0),Ok=new vi(1,1,1),oa=new vi,Fm=new vi,mi=new vi;var zk=Object.defineProperty,dp=(e,t)=>{for(var n in t)zk(e,n,{get:t[n],enumerable:!0})},te=1e-6,Le=typeof Float32Array<"u"?Float32Array:Array,Yl=Math.random;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function Dk(){var e=new Le(9);return Le!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}var u1={};dp(u1,{add:()=>_P,adjoint:()=>jk,clone:()=>Uk,copy:()=>Nk,create:()=>Lk,determinant:()=>Vk,equals:()=>xP,exactEquals:()=>vP,frob:()=>pP,fromQuat:()=>sP,fromQuat2:()=>tP,fromRotation:()=>Kk,fromRotationTranslation:()=>OR,fromRotationTranslationScale:()=>iP,fromRotationTranslationScaleOrigin:()=>rP,fromScaling:()=>Zk,fromTranslation:()=>Xk,fromValues:()=>kk,fromXRotation:()=>Qk,fromYRotation:()=>Wk,fromZRotation:()=>Jk,frustum:()=>aP,getRotation:()=>nP,getScaling:()=>zR,getTranslation:()=>eP,identity:()=>CR,invert:()=>Fk,lookAt:()=>fP,mul:()=>bP,multiply:()=>RR,multiplyScalar:()=>yP,multiplyScalarAndAdd:()=>gP,ortho:()=>cP,orthoNO:()=>LR,orthoZO:()=>hP,perspective:()=>oP,perspectiveFromFieldOfView:()=>uP,perspectiveNO:()=>DR,perspectiveZO:()=>lP,rotate:()=>Ik,rotateX:()=>qk,rotateY:()=>Gk,rotateZ:()=>Yk,scale:()=>Hk,set:()=>Pk,str:()=>mP,sub:()=>wP,subtract:()=>UR,targetTo:()=>dP,translate:()=>$k,transpose:()=>Bk});function Lk(){var e=new Le(16);return Le!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Uk(e){var t=new Le(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Nk(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function kk(e,t,n,i,r,a,l,u,h,f,d,p,y,_,v,w){var E=new Le(16);return E[0]=e,E[1]=t,E[2]=n,E[3]=i,E[4]=r,E[5]=a,E[6]=l,E[7]=u,E[8]=h,E[9]=f,E[10]=d,E[11]=p,E[12]=y,E[13]=_,E[14]=v,E[15]=w,E}function Pk(e,t,n,i,r,a,l,u,h,f,d,p,y,_,v,w,E){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e[4]=a,e[5]=l,e[6]=u,e[7]=h,e[8]=f,e[9]=d,e[10]=p,e[11]=y,e[12]=_,e[13]=v,e[14]=w,e[15]=E,e}function CR(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Bk(e,t){if(e===t){var n=t[1],i=t[2],r=t[3],a=t[6],l=t[7],u=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=i,e[9]=a,e[11]=t[14],e[12]=r,e[13]=l,e[14]=u}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function Fk(e,t){var n=t[0],i=t[1],r=t[2],a=t[3],l=t[4],u=t[5],h=t[6],f=t[7],d=t[8],p=t[9],y=t[10],_=t[11],v=t[12],w=t[13],E=t[14],M=t[15],R=n*u-i*l,z=n*h-r*l,D=n*f-a*l,C=i*h-r*u,N=i*f-a*u,k=r*f-a*h,$=d*w-p*v,q=d*E-y*v,X=d*M-_*v,tt=p*E-y*w,at=p*M-_*w,J=y*M-_*E,et=R*J-z*at+D*tt+C*X-N*q+k*$;return et?(et=1/et,e[0]=(u*J-h*at+f*tt)*et,e[1]=(r*at-i*J-a*tt)*et,e[2]=(w*k-E*N+M*C)*et,e[3]=(y*N-p*k-_*C)*et,e[4]=(h*X-l*J-f*q)*et,e[5]=(n*J-r*X+a*q)*et,e[6]=(E*D-v*k-M*z)*et,e[7]=(d*k-y*D+_*z)*et,e[8]=(l*at-u*X+f*$)*et,e[9]=(i*X-n*at-a*$)*et,e[10]=(v*N-w*D+M*R)*et,e[11]=(p*D-d*N-_*R)*et,e[12]=(u*q-l*tt-h*$)*et,e[13]=(n*tt-i*q+r*$)*et,e[14]=(w*z-v*C-E*R)*et,e[15]=(d*C-p*z+y*R)*et,e):null}function jk(e,t){var n=t[0],i=t[1],r=t[2],a=t[3],l=t[4],u=t[5],h=t[6],f=t[7],d=t[8],p=t[9],y=t[10],_=t[11],v=t[12],w=t[13],E=t[14],M=t[15];return e[0]=u*(y*M-_*E)-p*(h*M-f*E)+w*(h*_-f*y),e[1]=-(i*(y*M-_*E)-p*(r*M-a*E)+w*(r*_-a*y)),e[2]=i*(h*M-f*E)-u*(r*M-a*E)+w*(r*f-a*h),e[3]=-(i*(h*_-f*y)-u*(r*_-a*y)+p*(r*f-a*h)),e[4]=-(l*(y*M-_*E)-d*(h*M-f*E)+v*(h*_-f*y)),e[5]=n*(y*M-_*E)-d*(r*M-a*E)+v*(r*_-a*y),e[6]=-(n*(h*M-f*E)-l*(r*M-a*E)+v*(r*f-a*h)),e[7]=n*(h*_-f*y)-l*(r*_-a*y)+d*(r*f-a*h),e[8]=l*(p*M-_*w)-d*(u*M-f*w)+v*(u*_-f*p),e[9]=-(n*(p*M-_*w)-d*(i*M-a*w)+v*(i*_-a*p)),e[10]=n*(u*M-f*w)-l*(i*M-a*w)+v*(i*f-a*u),e[11]=-(n*(u*_-f*p)-l*(i*_-a*p)+d*(i*f-a*u)),e[12]=-(l*(p*E-y*w)-d*(u*E-h*w)+v*(u*y-h*p)),e[13]=n*(p*E-y*w)-d*(i*E-r*w)+v*(i*y-r*p),e[14]=-(n*(u*E-h*w)-l*(i*E-r*w)+v*(i*h-r*u)),e[15]=n*(u*y-h*p)-l*(i*y-r*p)+d*(i*h-r*u),e}function Vk(e){var t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],l=e[5],u=e[6],h=e[7],f=e[8],d=e[9],p=e[10],y=e[11],_=e[12],v=e[13],w=e[14],E=e[15],M=t*l-n*a,R=t*u-i*a,z=t*h-r*a,D=n*u-i*l,C=n*h-r*l,N=i*h-r*u,k=f*v-d*_,$=f*w-p*_,q=f*E-y*_,X=d*w-p*v,tt=d*E-y*v,at=p*E-y*w;return M*at-R*tt+z*X+D*q-C*$+N*k}function RR(e,t,n){var i=t[0],r=t[1],a=t[2],l=t[3],u=t[4],h=t[5],f=t[6],d=t[7],p=t[8],y=t[9],_=t[10],v=t[11],w=t[12],E=t[13],M=t[14],R=t[15],z=n[0],D=n[1],C=n[2],N=n[3];return e[0]=z*i+D*u+C*p+N*w,e[1]=z*r+D*h+C*y+N*E,e[2]=z*a+D*f+C*_+N*M,e[3]=z*l+D*d+C*v+N*R,z=n[4],D=n[5],C=n[6],N=n[7],e[4]=z*i+D*u+C*p+N*w,e[5]=z*r+D*h+C*y+N*E,e[6]=z*a+D*f+C*_+N*M,e[7]=z*l+D*d+C*v+N*R,z=n[8],D=n[9],C=n[10],N=n[11],e[8]=z*i+D*u+C*p+N*w,e[9]=z*r+D*h+C*y+N*E,e[10]=z*a+D*f+C*_+N*M,e[11]=z*l+D*d+C*v+N*R,z=n[12],D=n[13],C=n[14],N=n[15],e[12]=z*i+D*u+C*p+N*w,e[13]=z*r+D*h+C*y+N*E,e[14]=z*a+D*f+C*_+N*M,e[15]=z*l+D*d+C*v+N*R,e}function $k(e,t,n){var i=n[0],r=n[1],a=n[2],l,u,h,f,d,p,y,_,v,w,E,M;return t===e?(e[12]=t[0]*i+t[4]*r+t[8]*a+t[12],e[13]=t[1]*i+t[5]*r+t[9]*a+t[13],e[14]=t[2]*i+t[6]*r+t[10]*a+t[14],e[15]=t[3]*i+t[7]*r+t[11]*a+t[15]):(l=t[0],u=t[1],h=t[2],f=t[3],d=t[4],p=t[5],y=t[6],_=t[7],v=t[8],w=t[9],E=t[10],M=t[11],e[0]=l,e[1]=u,e[2]=h,e[3]=f,e[4]=d,e[5]=p,e[6]=y,e[7]=_,e[8]=v,e[9]=w,e[10]=E,e[11]=M,e[12]=l*i+d*r+v*a+t[12],e[13]=u*i+p*r+w*a+t[13],e[14]=h*i+y*r+E*a+t[14],e[15]=f*i+_*r+M*a+t[15]),e}function Hk(e,t,n){var i=n[0],r=n[1],a=n[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Ik(e,t,n,i){var r=i[0],a=i[1],l=i[2],u=Math.hypot(r,a,l),h,f,d,p,y,_,v,w,E,M,R,z,D,C,N,k,$,q,X,tt,at,J,et,bt;return u<te?null:(u=1/u,r*=u,a*=u,l*=u,h=Math.sin(n),f=Math.cos(n),d=1-f,p=t[0],y=t[1],_=t[2],v=t[3],w=t[4],E=t[5],M=t[6],R=t[7],z=t[8],D=t[9],C=t[10],N=t[11],k=r*r*d+f,$=a*r*d+l*h,q=l*r*d-a*h,X=r*a*d-l*h,tt=a*a*d+f,at=l*a*d+r*h,J=r*l*d+a*h,et=a*l*d-r*h,bt=l*l*d+f,e[0]=p*k+w*$+z*q,e[1]=y*k+E*$+D*q,e[2]=_*k+M*$+C*q,e[3]=v*k+R*$+N*q,e[4]=p*X+w*tt+z*at,e[5]=y*X+E*tt+D*at,e[6]=_*X+M*tt+C*at,e[7]=v*X+R*tt+N*at,e[8]=p*J+w*et+z*bt,e[9]=y*J+E*et+D*bt,e[10]=_*J+M*et+C*bt,e[11]=v*J+R*et+N*bt,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function qk(e,t,n){var i=Math.sin(n),r=Math.cos(n),a=t[4],l=t[5],u=t[6],h=t[7],f=t[8],d=t[9],p=t[10],y=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*r+f*i,e[5]=l*r+d*i,e[6]=u*r+p*i,e[7]=h*r+y*i,e[8]=f*r-a*i,e[9]=d*r-l*i,e[10]=p*r-u*i,e[11]=y*r-h*i,e}function Gk(e,t,n){var i=Math.sin(n),r=Math.cos(n),a=t[0],l=t[1],u=t[2],h=t[3],f=t[8],d=t[9],p=t[10],y=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*r-f*i,e[1]=l*r-d*i,e[2]=u*r-p*i,e[3]=h*r-y*i,e[8]=a*i+f*r,e[9]=l*i+d*r,e[10]=u*i+p*r,e[11]=h*i+y*r,e}function Yk(e,t,n){var i=Math.sin(n),r=Math.cos(n),a=t[0],l=t[1],u=t[2],h=t[3],f=t[4],d=t[5],p=t[6],y=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*r+f*i,e[1]=l*r+d*i,e[2]=u*r+p*i,e[3]=h*r+y*i,e[4]=f*r-a*i,e[5]=d*r-l*i,e[6]=p*r-u*i,e[7]=y*r-h*i,e}function Xk(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function Zk(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Kk(e,t,n){var i=n[0],r=n[1],a=n[2],l=Math.hypot(i,r,a),u,h,f;return l<te?null:(l=1/l,i*=l,r*=l,a*=l,u=Math.sin(t),h=Math.cos(t),f=1-h,e[0]=i*i*f+h,e[1]=r*i*f+a*u,e[2]=a*i*f-r*u,e[3]=0,e[4]=i*r*f-a*u,e[5]=r*r*f+h,e[6]=a*r*f+i*u,e[7]=0,e[8]=i*a*f+r*u,e[9]=r*a*f-i*u,e[10]=a*a*f+h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function Qk(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Wk(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Jk(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function OR(e,t,n){var i=t[0],r=t[1],a=t[2],l=t[3],u=i+i,h=r+r,f=a+a,d=i*u,p=i*h,y=i*f,_=r*h,v=r*f,w=a*f,E=l*u,M=l*h,R=l*f;return e[0]=1-(_+w),e[1]=p+R,e[2]=y-M,e[3]=0,e[4]=p-R,e[5]=1-(d+w),e[6]=v+E,e[7]=0,e[8]=y+M,e[9]=v-E,e[10]=1-(d+_),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function tP(e,t){var n=new Le(3),i=-t[0],r=-t[1],a=-t[2],l=t[3],u=t[4],h=t[5],f=t[6],d=t[7],p=i*i+r*r+a*a+l*l;return p>0?(n[0]=(u*l+d*i+h*a-f*r)*2/p,n[1]=(h*l+d*r+f*i-u*a)*2/p,n[2]=(f*l+d*a+u*r-h*i)*2/p):(n[0]=(u*l+d*i+h*a-f*r)*2,n[1]=(h*l+d*r+f*i-u*a)*2,n[2]=(f*l+d*a+u*r-h*i)*2),OR(e,t,n),e}function eP(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function zR(e,t){var n=t[0],i=t[1],r=t[2],a=t[4],l=t[5],u=t[6],h=t[8],f=t[9],d=t[10];return e[0]=Math.hypot(n,i,r),e[1]=Math.hypot(a,l,u),e[2]=Math.hypot(h,f,d),e}function nP(e,t){var n=new Le(3);zR(n,t);var i=1/n[0],r=1/n[1],a=1/n[2],l=t[0]*i,u=t[1]*r,h=t[2]*a,f=t[4]*i,d=t[5]*r,p=t[6]*a,y=t[8]*i,_=t[9]*r,v=t[10]*a,w=l+d+v,E=0;return w>0?(E=Math.sqrt(w+1)*2,e[3]=.25*E,e[0]=(p-_)/E,e[1]=(y-h)/E,e[2]=(u-f)/E):l>d&&l>v?(E=Math.sqrt(1+l-d-v)*2,e[3]=(p-_)/E,e[0]=.25*E,e[1]=(u+f)/E,e[2]=(y+h)/E):d>v?(E=Math.sqrt(1+d-l-v)*2,e[3]=(y-h)/E,e[0]=(u+f)/E,e[1]=.25*E,e[2]=(p+_)/E):(E=Math.sqrt(1+v-l-d)*2,e[3]=(u-f)/E,e[0]=(y+h)/E,e[1]=(p+_)/E,e[2]=.25*E),e}function iP(e,t,n,i){var r=t[0],a=t[1],l=t[2],u=t[3],h=r+r,f=a+a,d=l+l,p=r*h,y=r*f,_=r*d,v=a*f,w=a*d,E=l*d,M=u*h,R=u*f,z=u*d,D=i[0],C=i[1],N=i[2];return e[0]=(1-(v+E))*D,e[1]=(y+z)*D,e[2]=(_-R)*D,e[3]=0,e[4]=(y-z)*C,e[5]=(1-(p+E))*C,e[6]=(w+M)*C,e[7]=0,e[8]=(_+R)*N,e[9]=(w-M)*N,e[10]=(1-(p+v))*N,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function rP(e,t,n,i,r){var a=t[0],l=t[1],u=t[2],h=t[3],f=a+a,d=l+l,p=u+u,y=a*f,_=a*d,v=a*p,w=l*d,E=l*p,M=u*p,R=h*f,z=h*d,D=h*p,C=i[0],N=i[1],k=i[2],$=r[0],q=r[1],X=r[2],tt=(1-(w+M))*C,at=(_+D)*C,J=(v-z)*C,et=(_-D)*N,bt=(1-(y+M))*N,G=(E+R)*N,nt=(v+z)*k,ft=(E-R)*k,ht=(1-(y+w))*k;return e[0]=tt,e[1]=at,e[2]=J,e[3]=0,e[4]=et,e[5]=bt,e[6]=G,e[7]=0,e[8]=nt,e[9]=ft,e[10]=ht,e[11]=0,e[12]=n[0]+$-(tt*$+et*q+nt*X),e[13]=n[1]+q-(at*$+bt*q+ft*X),e[14]=n[2]+X-(J*$+G*q+ht*X),e[15]=1,e}function sP(e,t){var n=t[0],i=t[1],r=t[2],a=t[3],l=n+n,u=i+i,h=r+r,f=n*l,d=i*l,p=i*u,y=r*l,_=r*u,v=r*h,w=a*l,E=a*u,M=a*h;return e[0]=1-p-v,e[1]=d+M,e[2]=y-E,e[3]=0,e[4]=d-M,e[5]=1-f-v,e[6]=_+w,e[7]=0,e[8]=y+E,e[9]=_-w,e[10]=1-f-p,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function aP(e,t,n,i,r,a,l){var u=1/(n-t),h=1/(r-i),f=1/(a-l);return e[0]=a*2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a*2*h,e[6]=0,e[7]=0,e[8]=(n+t)*u,e[9]=(r+i)*h,e[10]=(l+a)*f,e[11]=-1,e[12]=0,e[13]=0,e[14]=l*a*2*f,e[15]=0,e}function DR(e,t,n,i,r){var a=1/Math.tan(t/2),l;return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,r!=null&&r!==1/0?(l=1/(i-r),e[10]=(r+i)*l,e[14]=2*r*i*l):(e[10]=-1,e[14]=-2*i),e}var oP=DR;function lP(e,t,n,i,r){var a=1/Math.tan(t/2),l;return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,r!=null&&r!==1/0?(l=1/(i-r),e[10]=r*l,e[14]=r*i*l):(e[10]=-1,e[14]=-i),e}function uP(e,t,n,i){var r=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),l=Math.tan(t.leftDegrees*Math.PI/180),u=Math.tan(t.rightDegrees*Math.PI/180),h=2/(l+u),f=2/(r+a);return e[0]=h,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=f,e[6]=0,e[7]=0,e[8]=-((l-u)*h*.5),e[9]=(r-a)*f*.5,e[10]=i/(n-i),e[11]=-1,e[12]=0,e[13]=0,e[14]=i*n/(n-i),e[15]=0,e}function LR(e,t,n,i,r,a,l){var u=1/(t-n),h=1/(i-r),f=1/(a-l);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*h,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*f,e[11]=0,e[12]=(t+n)*u,e[13]=(r+i)*h,e[14]=(l+a)*f,e[15]=1,e}var cP=LR;function hP(e,t,n,i,r,a,l){var u=1/(t-n),h=1/(i-r),f=1/(a-l);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*h,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=f,e[11]=0,e[12]=(t+n)*u,e[13]=(r+i)*h,e[14]=a*f,e[15]=1,e}function fP(e,t,n,i){var r,a,l,u,h,f,d,p,y,_,v=t[0],w=t[1],E=t[2],M=i[0],R=i[1],z=i[2],D=n[0],C=n[1],N=n[2];return Math.abs(v-D)<te&&Math.abs(w-C)<te&&Math.abs(E-N)<te?CR(e):(d=v-D,p=w-C,y=E-N,_=1/Math.hypot(d,p,y),d*=_,p*=_,y*=_,r=R*y-z*p,a=z*d-M*y,l=M*p-R*d,_=Math.hypot(r,a,l),_?(_=1/_,r*=_,a*=_,l*=_):(r=0,a=0,l=0),u=p*l-y*a,h=y*r-d*l,f=d*a-p*r,_=Math.hypot(u,h,f),_?(_=1/_,u*=_,h*=_,f*=_):(u=0,h=0,f=0),e[0]=r,e[1]=u,e[2]=d,e[3]=0,e[4]=a,e[5]=h,e[6]=p,e[7]=0,e[8]=l,e[9]=f,e[10]=y,e[11]=0,e[12]=-(r*v+a*w+l*E),e[13]=-(u*v+h*w+f*E),e[14]=-(d*v+p*w+y*E),e[15]=1,e)}function dP(e,t,n,i){var r=t[0],a=t[1],l=t[2],u=i[0],h=i[1],f=i[2],d=r-n[0],p=a-n[1],y=l-n[2],_=d*d+p*p+y*y;_>0&&(_=1/Math.sqrt(_),d*=_,p*=_,y*=_);var v=h*y-f*p,w=f*d-u*y,E=u*p-h*d;return _=v*v+w*w+E*E,_>0&&(_=1/Math.sqrt(_),v*=_,w*=_,E*=_),e[0]=v,e[1]=w,e[2]=E,e[3]=0,e[4]=p*E-y*w,e[5]=y*v-d*E,e[6]=d*w-p*v,e[7]=0,e[8]=d,e[9]=p,e[10]=y,e[11]=0,e[12]=r,e[13]=a,e[14]=l,e[15]=1,e}function mP(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function pP(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function _P(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function UR(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function yP(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function gP(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e[3]=t[3]+n[3]*i,e[4]=t[4]+n[4]*i,e[5]=t[5]+n[5]*i,e[6]=t[6]+n[6]*i,e[7]=t[7]+n[7]*i,e[8]=t[8]+n[8]*i,e[9]=t[9]+n[9]*i,e[10]=t[10]+n[10]*i,e[11]=t[11]+n[11]*i,e[12]=t[12]+n[12]*i,e[13]=t[13]+n[13]*i,e[14]=t[14]+n[14]*i,e[15]=t[15]+n[15]*i,e}function vP(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function xP(e,t){var n=e[0],i=e[1],r=e[2],a=e[3],l=e[4],u=e[5],h=e[6],f=e[7],d=e[8],p=e[9],y=e[10],_=e[11],v=e[12],w=e[13],E=e[14],M=e[15],R=t[0],z=t[1],D=t[2],C=t[3],N=t[4],k=t[5],$=t[6],q=t[7],X=t[8],tt=t[9],at=t[10],J=t[11],et=t[12],bt=t[13],G=t[14],nt=t[15];return Math.abs(n-R)<=te*Math.max(1,Math.abs(n),Math.abs(R))&&Math.abs(i-z)<=te*Math.max(1,Math.abs(i),Math.abs(z))&&Math.abs(r-D)<=te*Math.max(1,Math.abs(r),Math.abs(D))&&Math.abs(a-C)<=te*Math.max(1,Math.abs(a),Math.abs(C))&&Math.abs(l-N)<=te*Math.max(1,Math.abs(l),Math.abs(N))&&Math.abs(u-k)<=te*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(h-$)<=te*Math.max(1,Math.abs(h),Math.abs($))&&Math.abs(f-q)<=te*Math.max(1,Math.abs(f),Math.abs(q))&&Math.abs(d-X)<=te*Math.max(1,Math.abs(d),Math.abs(X))&&Math.abs(p-tt)<=te*Math.max(1,Math.abs(p),Math.abs(tt))&&Math.abs(y-at)<=te*Math.max(1,Math.abs(y),Math.abs(at))&&Math.abs(_-J)<=te*Math.max(1,Math.abs(_),Math.abs(J))&&Math.abs(v-et)<=te*Math.max(1,Math.abs(v),Math.abs(et))&&Math.abs(w-bt)<=te*Math.max(1,Math.abs(w),Math.abs(bt))&&Math.abs(E-G)<=te*Math.max(1,Math.abs(E),Math.abs(G))&&Math.abs(M-nt)<=te*Math.max(1,Math.abs(M),Math.abs(nt))}var bP=RR,wP=UR,c1={};dp(c1,{add:()=>NB,calculateW:()=>TB,clone:()=>zB,conjugate:()=>CB,copy:()=>LB,create:()=>f1,dot:()=>KR,equals:()=>VB,exactEquals:()=>jB,exp:()=>GR,fromEuler:()=>RB,fromMat3:()=>XR,fromValues:()=>DB,getAngle:()=>xB,getAxisAngle:()=>vB,identity:()=>gB,invert:()=>AB,len:()=>BB,length:()=>QR,lerp:()=>PB,ln:()=>YR,mul:()=>kB,multiply:()=>qR,normalize:()=>cv,pow:()=>MB,random:()=>SB,rotateX:()=>bB,rotateY:()=>wB,rotateZ:()=>EB,rotationTo:()=>$B,scale:()=>ZR,set:()=>UB,setAxes:()=>IB,setAxisAngle:()=>IR,slerp:()=>h0,sqlerp:()=>HB,sqrLen:()=>FB,squaredLength:()=>WR,str:()=>OB});var fs={};dp(fs,{add:()=>SP,angle:()=>GP,bezier:()=>BP,ceil:()=>AP,clone:()=>EP,copy:()=>TP,create:()=>lv,cross:()=>c0,dist:()=>tB,distance:()=>FR,div:()=>JP,divide:()=>BR,dot:()=>uv,equals:()=>KP,exactEquals:()=>ZP,floor:()=>CP,forEach:()=>iB,fromValues:()=>h1,hermite:()=>PP,inverse:()=>NP,len:()=>HR,length:()=>NR,lerp:()=>kP,max:()=>OP,min:()=>RP,mul:()=>WP,multiply:()=>PR,negate:()=>UP,normalize:()=>$R,random:()=>FP,rotateX:()=>HP,rotateY:()=>IP,rotateZ:()=>qP,round:()=>zP,scale:()=>DP,scaleAndAdd:()=>LP,set:()=>MP,sqrDist:()=>eB,sqrLen:()=>nB,squaredDistance:()=>jR,squaredLength:()=>VR,str:()=>XP,sub:()=>QP,subtract:()=>kR,transformMat3:()=>VP,transformMat4:()=>jP,transformQuat:()=>$P,zero:()=>YP});function lv(){var e=new Le(3);return Le!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function EP(e){var t=new Le(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function NR(e){var t=e[0],n=e[1],i=e[2];return Math.hypot(t,n,i)}function h1(e,t,n){var i=new Le(3);return i[0]=e,i[1]=t,i[2]=n,i}function TP(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function MP(e,t,n,i){return e[0]=t,e[1]=n,e[2]=i,e}function SP(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function kR(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function PR(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function BR(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function AP(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function CP(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function RP(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function OP(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function zP(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function DP(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function LP(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e}function FR(e,t){var n=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2];return Math.hypot(n,i,r)}function jR(e,t){var n=t[0]-e[0],i=t[1]-e[1],r=t[2]-e[2];return n*n+i*i+r*r}function VR(e){var t=e[0],n=e[1],i=e[2];return t*t+n*n+i*i}function UP(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function NP(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function $R(e,t){var n=t[0],i=t[1],r=t[2],a=n*n+i*i+r*r;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e}function uv(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function c0(e,t,n){var i=t[0],r=t[1],a=t[2],l=n[0],u=n[1],h=n[2];return e[0]=r*h-a*u,e[1]=a*l-i*h,e[2]=i*u-r*l,e}function kP(e,t,n,i){var r=t[0],a=t[1],l=t[2];return e[0]=r+i*(n[0]-r),e[1]=a+i*(n[1]-a),e[2]=l+i*(n[2]-l),e}function PP(e,t,n,i,r,a){var l=a*a,u=l*(2*a-3)+1,h=l*(a-2)+a,f=l*(a-1),d=l*(3-2*a);return e[0]=t[0]*u+n[0]*h+i[0]*f+r[0]*d,e[1]=t[1]*u+n[1]*h+i[1]*f+r[1]*d,e[2]=t[2]*u+n[2]*h+i[2]*f+r[2]*d,e}function BP(e,t,n,i,r,a){var l=1-a,u=l*l,h=a*a,f=u*l,d=3*a*u,p=3*h*l,y=h*a;return e[0]=t[0]*f+n[0]*d+i[0]*p+r[0]*y,e[1]=t[1]*f+n[1]*d+i[1]*p+r[1]*y,e[2]=t[2]*f+n[2]*d+i[2]*p+r[2]*y,e}function FP(e,t){t=t||1;var n=Yl()*2*Math.PI,i=Yl()*2-1,r=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(n)*r,e[1]=Math.sin(n)*r,e[2]=i*t,e}function jP(e,t,n){var i=t[0],r=t[1],a=t[2],l=n[3]*i+n[7]*r+n[11]*a+n[15];return l=l||1,e[0]=(n[0]*i+n[4]*r+n[8]*a+n[12])/l,e[1]=(n[1]*i+n[5]*r+n[9]*a+n[13])/l,e[2]=(n[2]*i+n[6]*r+n[10]*a+n[14])/l,e}function VP(e,t,n){var i=t[0],r=t[1],a=t[2];return e[0]=i*n[0]+r*n[3]+a*n[6],e[1]=i*n[1]+r*n[4]+a*n[7],e[2]=i*n[2]+r*n[5]+a*n[8],e}function $P(e,t,n){var i=n[0],r=n[1],a=n[2],l=n[3],u=t[0],h=t[1],f=t[2],d=r*f-a*h,p=a*u-i*f,y=i*h-r*u,_=r*y-a*p,v=a*d-i*y,w=i*p-r*d,E=l*2;return d*=E,p*=E,y*=E,_*=2,v*=2,w*=2,e[0]=u+d+_,e[1]=h+p+v,e[2]=f+y+w,e}function HP(e,t,n,i){var r=[],a=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],a[0]=r[0],a[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),a[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e}function IP(e,t,n,i){var r=[],a=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],a[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),a[1]=r[1],a[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e}function qP(e,t,n,i){var r=[],a=[];return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],a[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),a[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),a[2]=r[2],e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e}function GP(e,t){var n=e[0],i=e[1],r=e[2],a=t[0],l=t[1],u=t[2],h=Math.sqrt(n*n+i*i+r*r),f=Math.sqrt(a*a+l*l+u*u),d=h*f,p=d&&uv(e,t)/d;return Math.acos(Math.min(Math.max(p,-1),1))}function YP(e){return e[0]=0,e[1]=0,e[2]=0,e}function XP(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function ZP(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function KP(e,t){var n=e[0],i=e[1],r=e[2],a=t[0],l=t[1],u=t[2];return Math.abs(n-a)<=te*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-l)<=te*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(r-u)<=te*Math.max(1,Math.abs(r),Math.abs(u))}var QP=kR,WP=PR,JP=BR,tB=FR,eB=jR,HR=NR,nB=VR,iB=function(){var e=lv();return function(t,n,i,r,a,l){var u,h;for(n||(n=3),i||(i=0),r?h=Math.min(r*n+i,t.length):h=t.length,u=i;u<h;u+=n)e[0]=t[u],e[1]=t[u+1],e[2]=t[u+2],a(e,e,l),t[u]=e[0],t[u+1]=e[1],t[u+2]=e[2];return t}}();function rB(){var e=new Le(4);return Le!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function sB(e){var t=new Le(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function aB(e,t,n,i){var r=new Le(4);return r[0]=e,r[1]=t,r[2]=n,r[3]=i,r}function oB(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function lB(e,t,n,i,r){return e[0]=t,e[1]=n,e[2]=i,e[3]=r,e}function uB(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function cB(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function hB(e){var t=e[0],n=e[1],i=e[2],r=e[3];return Math.hypot(t,n,i,r)}function fB(e){var t=e[0],n=e[1],i=e[2],r=e[3];return t*t+n*n+i*i+r*r}function dB(e,t){var n=t[0],i=t[1],r=t[2],a=t[3],l=n*n+i*i+r*r+a*a;return l>0&&(l=1/Math.sqrt(l)),e[0]=n*l,e[1]=i*l,e[2]=r*l,e[3]=a*l,e}function mB(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function pB(e,t,n,i){var r=t[0],a=t[1],l=t[2],u=t[3];return e[0]=r+i*(n[0]-r),e[1]=a+i*(n[1]-a),e[2]=l+i*(n[2]-l),e[3]=u+i*(n[3]-u),e}function _B(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function yB(e,t){var n=e[0],i=e[1],r=e[2],a=e[3],l=t[0],u=t[1],h=t[2],f=t[3];return Math.abs(n-l)<=te*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(i-u)<=te*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(r-h)<=te*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(a-f)<=te*Math.max(1,Math.abs(a),Math.abs(f))}(function(){var e=rB();return function(t,n,i,r,a,l){var u,h;for(n||(n=4),i||(i=0),r?h=Math.min(r*n+i,t.length):h=t.length,u=i;u<h;u+=n)e[0]=t[u],e[1]=t[u+1],e[2]=t[u+2],e[3]=t[u+3],a(e,e,l),t[u]=e[0],t[u+1]=e[1],t[u+2]=e[2],t[u+3]=e[3];return t}})();function f1(){var e=new Le(4);return Le!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function gB(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function IR(e,t,n){n=n*.5;var i=Math.sin(n);return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=Math.cos(n),e}function vB(e,t){var n=Math.acos(t[3])*2,i=Math.sin(n/2);return i>te?(e[0]=t[0]/i,e[1]=t[1]/i,e[2]=t[2]/i):(e[0]=1,e[1]=0,e[2]=0),n}function xB(e,t){var n=KR(e,t);return Math.acos(2*n*n-1)}function qR(e,t,n){var i=t[0],r=t[1],a=t[2],l=t[3],u=n[0],h=n[1],f=n[2],d=n[3];return e[0]=i*d+l*u+r*f-a*h,e[1]=r*d+l*h+a*u-i*f,e[2]=a*d+l*f+i*h-r*u,e[3]=l*d-i*u-r*h-a*f,e}function bB(e,t,n){n*=.5;var i=t[0],r=t[1],a=t[2],l=t[3],u=Math.sin(n),h=Math.cos(n);return e[0]=i*h+l*u,e[1]=r*h+a*u,e[2]=a*h-r*u,e[3]=l*h-i*u,e}function wB(e,t,n){n*=.5;var i=t[0],r=t[1],a=t[2],l=t[3],u=Math.sin(n),h=Math.cos(n);return e[0]=i*h-a*u,e[1]=r*h+l*u,e[2]=a*h+i*u,e[3]=l*h-r*u,e}function EB(e,t,n){n*=.5;var i=t[0],r=t[1],a=t[2],l=t[3],u=Math.sin(n),h=Math.cos(n);return e[0]=i*h+r*u,e[1]=r*h-i*u,e[2]=a*h+l*u,e[3]=l*h-a*u,e}function TB(e,t){var n=t[0],i=t[1],r=t[2];return e[0]=n,e[1]=i,e[2]=r,e[3]=Math.sqrt(Math.abs(1-n*n-i*i-r*r)),e}function GR(e,t){var n=t[0],i=t[1],r=t[2],a=t[3],l=Math.sqrt(n*n+i*i+r*r),u=Math.exp(a),h=l>0?u*Math.sin(l)/l:0;return e[0]=n*h,e[1]=i*h,e[2]=r*h,e[3]=u*Math.cos(l),e}function YR(e,t){var n=t[0],i=t[1],r=t[2],a=t[3],l=Math.sqrt(n*n+i*i+r*r),u=l>0?Math.atan2(l,a)/l:0;return e[0]=n*u,e[1]=i*u,e[2]=r*u,e[3]=.5*Math.log(n*n+i*i+r*r+a*a),e}function MB(e,t,n){return YR(e,t),ZR(e,e,n),GR(e,e),e}function h0(e,t,n,i){var r=t[0],a=t[1],l=t[2],u=t[3],h=n[0],f=n[1],d=n[2],p=n[3],y,_,v,w,E;return _=r*h+a*f+l*d+u*p,_<0&&(_=-_,h=-h,f=-f,d=-d,p=-p),1-_>te?(y=Math.acos(_),v=Math.sin(y),w=Math.sin((1-i)*y)/v,E=Math.sin(i*y)/v):(w=1-i,E=i),e[0]=w*r+E*h,e[1]=w*a+E*f,e[2]=w*l+E*d,e[3]=w*u+E*p,e}function SB(e){var t=Yl(),n=Yl(),i=Yl(),r=Math.sqrt(1-t),a=Math.sqrt(t);return e[0]=r*Math.sin(2*Math.PI*n),e[1]=r*Math.cos(2*Math.PI*n),e[2]=a*Math.sin(2*Math.PI*i),e[3]=a*Math.cos(2*Math.PI*i),e}function AB(e,t){var n=t[0],i=t[1],r=t[2],a=t[3],l=n*n+i*i+r*r+a*a,u=l?1/l:0;return e[0]=-n*u,e[1]=-i*u,e[2]=-r*u,e[3]=a*u,e}function CB(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function XR(e,t){var n=t[0]+t[4]+t[8],i;if(n>0)i=Math.sqrt(n+1),e[3]=.5*i,i=.5/i,e[0]=(t[5]-t[7])*i,e[1]=(t[6]-t[2])*i,e[2]=(t[1]-t[3])*i;else{var r=0;t[4]>t[0]&&(r=1),t[8]>t[r*3+r]&&(r=2);var a=(r+1)%3,l=(r+2)%3;i=Math.sqrt(t[r*3+r]-t[a*3+a]-t[l*3+l]+1),e[r]=.5*i,i=.5/i,e[3]=(t[a*3+l]-t[l*3+a])*i,e[a]=(t[a*3+r]+t[r*3+a])*i,e[l]=(t[l*3+r]+t[r*3+l])*i}return e}function RB(e,t,n,i){var r=.5*Math.PI/180;t*=r,n*=r,i*=r;var a=Math.sin(t),l=Math.cos(t),u=Math.sin(n),h=Math.cos(n),f=Math.sin(i),d=Math.cos(i);return e[0]=a*h*d-l*u*f,e[1]=l*u*d+a*h*f,e[2]=l*h*f-a*u*d,e[3]=l*h*d+a*u*f,e}function OB(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var zB=sB,DB=aB,LB=oB,UB=lB,NB=uB,kB=qR,ZR=cB,KR=mB,PB=pB,QR=hB,BB=QR,WR=fB,FB=WR,cv=dB,jB=_B,VB=yB,$B=function(){var e=lv(),t=h1(1,0,0),n=h1(0,1,0);return function(i,r,a){var l=uv(r,a);return l<-.999999?(c0(e,t,r),HR(e)<1e-6&&c0(e,n,r),$R(e,e),IR(i,e,Math.PI),i):l>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(c0(e,r,a),i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=1+l,cv(i,i))}}(),HB=function(){var e=f1(),t=f1();return function(n,i,r,a,l,u){return h0(e,i,l,u),h0(t,r,a,u),h0(n,e,t,2*u*(1-u)),n}}(),IB=function(){var e=Dk();return function(t,n,i,r){return e[0]=i[0],e[3]=i[1],e[6]=i[2],e[1]=r[0],e[4]=r[1],e[7]=r[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],cv(t,XR(t,e))}}(),JR={};dp(JR,{add:()=>ZB,angle:()=>pF,ceil:()=>KB,clone:()=>qB,copy:()=>YB,create:()=>tO,cross:()=>oF,dist:()=>TF,distance:()=>rO,div:()=>EF,divide:()=>iO,dot:()=>aF,equals:()=>vF,exactEquals:()=>gF,floor:()=>QB,forEach:()=>AF,fromValues:()=>GB,inverse:()=>rF,len:()=>xF,length:()=>aO,lerp:()=>lF,max:()=>JB,min:()=>WB,mul:()=>wF,multiply:()=>nO,negate:()=>iF,normalize:()=>sF,random:()=>uF,rotate:()=>mF,round:()=>tF,scale:()=>eF,scaleAndAdd:()=>nF,set:()=>XB,sqrDist:()=>MF,sqrLen:()=>SF,squaredDistance:()=>sO,squaredLength:()=>oO,str:()=>yF,sub:()=>bF,subtract:()=>eO,transformMat2:()=>cF,transformMat2d:()=>hF,transformMat3:()=>fF,transformMat4:()=>dF,zero:()=>_F});function tO(){var e=new Le(2);return Le!=Float32Array&&(e[0]=0,e[1]=0),e}function qB(e){var t=new Le(2);return t[0]=e[0],t[1]=e[1],t}function GB(e,t){var n=new Le(2);return n[0]=e,n[1]=t,n}function YB(e,t){return e[0]=t[0],e[1]=t[1],e}function XB(e,t,n){return e[0]=t,e[1]=n,e}function ZB(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function eO(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function nO(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function iO(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function KB(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function QB(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function WB(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function JB(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function tF(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function eF(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function nF(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e}function rO(e,t){var n=t[0]-e[0],i=t[1]-e[1];return Math.hypot(n,i)}function sO(e,t){var n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}function aO(e){var t=e[0],n=e[1];return Math.hypot(t,n)}function oO(e){var t=e[0],n=e[1];return t*t+n*n}function iF(e,t){return e[0]=-t[0],e[1]=-t[1],e}function rF(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function sF(e,t){var n=t[0],i=t[1],r=n*n+i*i;return r>0&&(r=1/Math.sqrt(r)),e[0]=t[0]*r,e[1]=t[1]*r,e}function aF(e,t){return e[0]*t[0]+e[1]*t[1]}function oF(e,t,n){var i=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=i,e}function lF(e,t,n,i){var r=t[0],a=t[1];return e[0]=r+i*(n[0]-r),e[1]=a+i*(n[1]-a),e}function uF(e,t){t=t||1;var n=Yl()*2*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}function cF(e,t,n){var i=t[0],r=t[1];return e[0]=n[0]*i+n[2]*r,e[1]=n[1]*i+n[3]*r,e}function hF(e,t,n){var i=t[0],r=t[1];return e[0]=n[0]*i+n[2]*r+n[4],e[1]=n[1]*i+n[3]*r+n[5],e}function fF(e,t,n){var i=t[0],r=t[1];return e[0]=n[0]*i+n[3]*r+n[6],e[1]=n[1]*i+n[4]*r+n[7],e}function dF(e,t,n){var i=t[0],r=t[1];return e[0]=n[0]*i+n[4]*r+n[12],e[1]=n[1]*i+n[5]*r+n[13],e}function mF(e,t,n,i){var r=t[0]-n[0],a=t[1]-n[1],l=Math.sin(i),u=Math.cos(i);return e[0]=r*u-a*l+n[0],e[1]=r*l+a*u+n[1],e}function pF(e,t){var n=e[0],i=e[1],r=t[0],a=t[1],l=Math.sqrt(n*n+i*i)*Math.sqrt(r*r+a*a),u=l&&(n*r+i*a)/l;return Math.acos(Math.min(Math.max(u,-1),1))}function _F(e){return e[0]=0,e[1]=0,e}function yF(e){return"vec2("+e[0]+", "+e[1]+")"}function gF(e,t){return e[0]===t[0]&&e[1]===t[1]}function vF(e,t){var n=e[0],i=e[1],r=t[0],a=t[1];return Math.abs(n-r)<=te*Math.max(1,Math.abs(n),Math.abs(r))&&Math.abs(i-a)<=te*Math.max(1,Math.abs(i),Math.abs(a))}var xF=aO,bF=eO,wF=nO,EF=iO,TF=rO,MF=sO,SF=oO,AF=function(){var e=tO();return function(t,n,i,r,a,l){var u,h;for(n||(n=2),i||(i=0),r?h=Math.min(r*n+i,t.length):h=t.length,u=i;u<h;u+=n)e[0]=t[u],e[1]=t[u+1],a(e,e,l),t[u]=e[0],t[u+1]=e[1];return t}}(),Mr,Zu,Yn,Ku,Fi,rp,Zf,Kf,Qu,Qf,Wu,Wf,Fr,lO,uO,cO,hO,GA,CF=(GA=class extends ev{constructor(n,i="webgl",r){super();V(this,Fr);V(this,Mr);V(this,Zu,null);V(this,Yn,null);V(this,Ku,null);V(this,Fi,null);H(this,"screen_distance",25);H(this,"scale_factor",1);H(this,"fake_alpha_enabled",!1);H(this,"fake_alpha_scale",1);V(this,rp,fs.fromValues(0,0,-1));V(this,Zf,fs.create());V(this,Kf,u1.create());V(this,Qu,JR.create());V(this,Qf,fs.create());V(this,Wu,c1.create());V(this,Wf,fs.create());let a=n.getContext(i,r);if(a===null)throw new Error(`Cannot create a ${i} context from canvas`);ut(this,Mr,a),xt(this,Fr,uO).call(this),xt(this,Fr,cO).call(this),xt(this,Fr,hO).call(this)}get native(){return x(this,Mr)}set frame_buffer(n){ut(this,Ku,n)}drawFrameSection({frame_section:n}){ut(this,Fi,n)}get meta_data(){var n;return((n=x(this,Fi))==null?void 0:n.meta_data)||null}drawXRFrame({xr_views:n,xr_viewports:i,frame_camera_transforms:r}){if(!x(this,Fi))return;let a=x(this,Mr);x(this,Ku)!==null&&a.bindFramebuffer(a.FRAMEBUFFER,x(this,Ku)),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),a.enable(a.BLEND),a.blendFunc(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA);let l=a.getUniformLocation(x(this,Yn),"size"),u=a.getUniformLocation(x(this,Yn),"offset"),h=a.getUniformLocation(x(this,Yn),"viewMatrix"),f=a.getUniformLocation(x(this,Yn),"viewOffset"),d=a.getUniformLocation(x(this,Yn),"projectionMatrix"),p=a.getUniformLocation(x(this,Yn),"billboardMatrix"),y=a.getUniformLocation(x(this,Yn),"fakeAlphaEnabled"),_=a.getUniformLocation(x(this,Yn),"fakeAlphaScale");a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,x(this,Zu)),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,x(this,Fi).pixels);let v=Math.atan(1/n[0].projectionMatrix[5])*2,w=i[0].width/i[0].height,E=this.scale_factor*this.screen_distance*Math.tan(v*.5),M=E*w,R=x(this,Fi).section.width/n.length,z=x(this,Fi).section.height;a.uniform2fv(l,[R,z]);let D=i.reduce((C,{width:N})=>C+N,0);for(let C=0;C<n.length;C++){let N=n[C],k=i[C],$=r[C];fs.set(x(this,Qf),$.position[0],$.position[1],$.position[2]),c1.set(x(this,Wu),$.orientation[0],$.orientation[1],$.orientation[2],$.orientation[3]),fs.transformQuat(x(this,Wf),x(this,rp),x(this,Wu)),fs.scaleAndAdd(x(this,Zf),x(this,Qf),x(this,Wf),this.screen_distance),x(this,Qu)[0]=N.projectionMatrix[8],x(this,Qu)[1]=N.projectionMatrix[9];let q=xt(this,Fr,lO).call(this,x(this,Zf),M,E);a.uniform2fv(f,x(this,Qu)),a.viewport(k.x,k.y,k.width,k.height),a.uniformMatrix4fv(h,!1,N.transform.inverse.matrix),a.uniformMatrix4fv(d,!1,N.projectionMatrix),a.uniformMatrix4fv(p,!1,q),a.uniform1i(y,this.fake_alpha_enabled?1:0),a.uniform1f(_,this.fake_alpha_scale);let X=k.x/D,tt=x(this,Fi).section.left+X*x(this,Fi).section.width;a.uniform2fv(u,[tt,x(this,Fi).section.top]),a.drawArrays(a.TRIANGLE_STRIP,0,4)}}refreshSize(){}release(){let n=x(this,Mr);n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.bindFramebuffer(n.FRAMEBUFFER,null)}},Mr=new WeakMap,Zu=new WeakMap,Yn=new WeakMap,Ku=new WeakMap,Fi=new WeakMap,rp=new WeakMap,Zf=new WeakMap,Kf=new WeakMap,Qu=new WeakMap,Qf=new WeakMap,Wu=new WeakMap,Wf=new WeakMap,Fr=new WeakSet,lO=function(n,i,r){return u1.fromRotationTranslationScale(x(this,Kf),x(this,Wu),n,fs.fromValues(i,r,1)),x(this,Kf)},uO=function(){let n=x(this,Mr),i=`
            attribute vec2 position;
            varying vec2 texCoord;

            uniform mat4 viewMatrix;
            uniform mat4 projectionMatrix;
            uniform vec2 scale;
            uniform mat4 billboardMatrix;

            uniform vec2 size;
            uniform vec2 offset;
            uniform vec2 viewOffset;

            void main() {
                texCoord = (position + 1.0) * 0.5;
                texCoord.y = 1.0 - texCoord.y;
                texCoord = size * texCoord + offset;
                gl_Position = projectionMatrix * viewMatrix * billboardMatrix * vec4(position + viewOffset, 0.0, 1.0);
            }`,r=n.createShader(n.VERTEX_SHADER);n.shaderSource(r,i),n.compileShader(r),n.getShaderParameter(r,n.COMPILE_STATUS)||console.error("Vertex shader failed to compile: "+n.getShaderInfoLog(r));let a=`
            precision mediump float;
            varying vec2 texCoord;
            uniform sampler2D texture;
            uniform int fakeAlphaEnabled;
            uniform float fakeAlphaScale;

            float luminance(vec3 color) {
                // sRGB luminance approximation
                return dot(color, vec3(0.299, 0.587, 0.114));
            }

            void main() {
                gl_FragColor = texture2D(texture, texCoord);
                if(fakeAlphaEnabled == 1) {
                    // Use luminance to determine alpha so values close to dark are transparent and smoothly fade
                    // to prevent noise around object's edges
                    float luma = luminance(gl_FragColor.rgb);
                    float alpha = smoothstep(0.02, 0.1, luma);
                    gl_FragColor.a = alpha;

                    // remap [0..1] → [0..fakeAlphaScale] to see through opaque objects in AR
                    if(fakeAlphaScale < 1.0) {
                        gl_FragColor.a *= fakeAlphaScale;
                    }

                    // Premultiply RGB by alpha to avoid color bleeding on transparent edges
                    // (required for correct blending in compositing / XR rendering)
                    gl_FragColor.rgb *= alpha;
                }
            }`,l=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(l,a),n.compileShader(l),n.getShaderParameter(l,n.COMPILE_STATUS)||console.error("Fragment shader failed to compile: "+n.getShaderInfoLog(l));let u=n.createProgram();n.attachShader(u,r),n.attachShader(u,l),n.linkProgram(u),n.useProgram(u),n.getProgramParameter(u,n.LINK_STATUS)||console.error("Program failed to compile: "+n.getProgramInfoLog(u)),n.useProgram(u),ut(this,Yn,u)},cO=function(){let n=x(this,Mr),i=n.createBuffer(),r=new Float32Array([1,1,-1,1,1,-1,-1,-1]);n.bindBuffer(n.ARRAY_BUFFER,i),n.bufferData(n.ARRAY_BUFFER,r,n.STATIC_DRAW);let a=n.getAttribLocation(x(this,Yn),"position");n.enableVertexAttribArray(a),n.vertexAttribPointer(a,2,n.FLOAT,!1,0,0)},hO=function(){let n=x(this,Mr);ut(this,Zu,n.createTexture()),n.bindTexture(n.TEXTURE_2D,x(this,Zu)),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.bindTexture(n.TEXTURE_2D,null);let i=n.getUniformLocation(x(this,Yn),"texture");n.uniform1i(i,0)},GA);function RF(){let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),resolve:e,reject:t}}var Jf,td,Sr,un,ed,Ju,or,Xn,He,tc,ec,Aa,Oo,nc,mn,dO,mO,zo,Do,ic,pO,_O,yO,d1,gO,rc,fO=(rc=class{constructor(t=1){V(this,mn);H(this,"cameras_origin",null);V(this,Jf);V(this,td);V(this,Sr,null);V(this,un);V(this,ed);V(this,Ju);V(this,or,[]);V(this,Xn);V(this,He,null);V(this,tc,"inline");V(this,ec,!1);V(this,Aa,null);V(this,Oo,[]);V(this,nc,0);V(this,zo,t=>{if(!this.cameras_origin)return;let n=new vi().fromArray(this.cameras_origin.position),i=new lo().fromArray(this.cameras_origin.orientation),r=new vi().fromArray(this.cameras_origin.scale),a=new o1().compose(n,i,r).invert(),l=i.conjugate();for(let u of t){let{position:h,orientation:f}=u.global_transform,d=new vi().fromArray(h);d.applyMatrix4(a),d.toArray(h);let p=new lo().fromArray(f);new lo().multiplyQuaternions(l,p).toArray(f)}});V(this,Do,t=>{if(!this.cameras_origin)return;let n=new vi().fromArray(this.cameras_origin.position),i=new lo().fromArray(this.cameras_origin.orientation),r=new vi().fromArray(this.cameras_origin.scale),a=new o1().compose(n,i,r);for(let l of t){let{position:u,orientation:h}=l,f=new vi().fromArray(u);f.applyMatrix4(a),f.toArray(u);let d=new lo().fromArray(h);new lo().multiplyQuaternions(i,d).toArray(h)}});V(this,ic,(t,n)=>{var f;let i=x(this,He),r=i.renderState.baseLayer,a=(f=n.getViewerPose(x(this,Aa)))==null?void 0:f.views;if(!a){i.requestAnimationFrame(x(this,ic));return}let l=[...a],u=[];l.forEach(d=>{u.push(r.getViewport(d))}),x(this,ec)&&(l=l.splice(0,1),u=u.splice(0,1)),xt(this,mn,gO).call(this,u)&&(console.error("XRViewports have changed, ending the XRSession"),i.end()),xt(this,mn,pO).call(this,l),x(this,zo).call(this,x(this,un).cameras);let h=u.map((d,p)=>{let y=x(this,un).viewports[p],{world_position:_,world_orientation:v}=y.camera_projection;return{position:Array.from(_),orientation:Array.from(v)}});x(this,Do).call(this,h),x(this,Xn).drawXRFrame({xr_views:l,xr_viewports:u,frame_camera_transforms:h}),i.requestAnimationFrame(x(this,ic))});ut(this,un,new G7({width:window.innerWidth,height:window.innerHeight,context_constructor:CF,context_type:"webgl",context_options:{xrCompatible:!0},resolution_scale:t})),ut(this,Xn,x(this,un).context),ut(this,Jf,x(this,zo)),ut(this,td,x(this,Do))}static async isSessionSupported(t){if(!navigator.xr)return!1;let n=navigator.xr.isSessionSupported||navigator.xr.supportsSession;return n?await n.call(navigator.xr,t).catch(console.warn)??!1:!1}get session(){return x(this,He)}get mode(){return x(this,tc)}get reference_space(){return x(this,Aa)}get is_stereo_vision(){return x(this,Oo).length===2}set overriden_near_plane(t){ut(this,ed,t)}set cameras_origin_transform_enabled(t){t?(ut(this,zo,x(this,Jf)),ut(this,Do,x(this,td))):(ut(this,zo,()=>{}),ut(this,Do,()=>{}))}async release(){if(x(this,He)&&(this.stop(),await x(this,He).end().catch(t=>console.warn("Could not end XR session:",t))),x(this,Sr))for(let{livelink_viewport:t}of x(this,or))x(this,Sr).removeViewport({viewport:t});x(this,un).release()}get fakeAlpha(){return x(this,Xn).fake_alpha_enabled}set fakeAlpha(t){x(this,Xn).fake_alpha_enabled=t}get fakeAlphaScale(){return x(this,Xn).fake_alpha_scale}set fakeAlphaScale(t){if(t<0||t>1)throw new Error("Fake alpha scale must be between 0 and 1");x(this,Xn).fake_alpha_scale=t}async initialize(t,{xrSessionInit:n={},forceSingleView:i=!1}){var l;if(ut(this,tc,t),ut(this,ec,i),!rc.isSessionSupported(t))throw new Error(`WebXR "${t}" not supported`);x(this,He)&&(console.warn("Releasing previous XR session"),await this.release());let r=["local-floor","local"],a;for(let u of r){let h=u?{...n,requiredFeatures:[...n.requiredFeatures||[],u]}:n;try{ut(this,He,await navigator.xr.requestSession(t,h)),await this.updateRenderState(),await this.setReferenceSpaceType(u);break}catch(f){console.warn("Failed to request XR session",{spaceType:u,requiredFeatures:h.requiredFeatures},f),(l=x(this,He))==null||l.end(),a=f}}if(!x(this,He))throw a;return x(this,He)}async configureViewports({livelink:t,overscan_fov_factor:n,enable_overscan_surface_scale:i,enable_fake_alpha:r}){x(this,Sr)&&this.releaseLivelinkViewports(),ut(this,Sr,t);let a=await xt(this,mn,dO).call(this);a.length>2&&console.error("WebXRHelper doesn't support more than 2 eyes yet"),xt(this,mn,_O).call(this,a),xt(this,mn,mO).call(this,{xr_views:a,fov_factor:n,enable_surface_scale:i});let l=x(this,tc)==="immersive-ar";this.fakeAlpha=r??l;let u=l?{grid:!1,displayBackground:!1}:void 0;x(this,Sr).addViewports({viewports:x(this,or).map(({livelink_viewport:h})=>h)});for(let h in x(this,or)){let{xr_view:f,xr_viewport:d,livelink_viewport:p}=x(this,or)[h];await xt(this,mn,yO).call(this,{index:h,xr_view:f,xr_viewport:d,viewport:p,dataJSON:u})}}start(){x(this,He).requestAnimationFrame(x(this,ic))}stop(){x(this,nc)&&x(this,He)&&x(this,He).cancelAnimationFrame(x(this,nc))}async setReferenceSpaceType(t="local"){return ut(this,Aa,await x(this,He).requestReferenceSpace(t).catch(async n=>{throw console.error(`Failed to request XR reference space of type ${t}:`,n),n})),x(this,Aa)}async updateRenderState(t={}){let n=x(this,He),i=new XRWebGLLayer(n,x(this,Xn).native,t);await n.updateRenderState({baseLayer:i}),x(this,Xn).frame_buffer=i.framebuffer,x(this,un).resize(i.framebufferWidth,i.framebufferHeight)}releaseLivelinkViewports(){for(let t of x(this,or))x(this,un).removeViewport({viewport:t.livelink_viewport});x(this,or).length=0}get resolution_scale(){return x(this,un).resolution_scale}set resolution_scale(t){x(this,un).resolution_scale=t}},Jf=new WeakMap,td=new WeakMap,Sr=new WeakMap,un=new WeakMap,ed=new WeakMap,Ju=new WeakMap,or=new WeakMap,Xn=new WeakMap,He=new WeakMap,tc=new WeakMap,ec=new WeakMap,Aa=new WeakMap,Oo=new WeakMap,nc=new WeakMap,mn=new WeakSet,dO=function(){let{promise:t,resolve:n,reject:i}=RF(),r=200,a=async(l,u)=>{var f;let h=(f=u.getViewerPose(x(this,Aa)))==null?void 0:f.views;if(!h){--r>0?x(this,He).requestAnimationFrame(a):i(new Error("Failed to get XR views."));return}x(this,ec)&&h.length>1?(console.log("WebXRHelper: forcing single view"),n(h.slice(0,1))):n(h)};return ut(this,nc,x(this,He).requestAnimationFrame(a)),t},mO=function({xr_views:t,fov_factor:n=1.5,enable_surface_scale:i=!0}){if(n===1)return;i?(x(this,un).resolution_scale=n,x(this,Xn).scale_factor=x(this,un).resolution_scale):x(this,Xn).scale_factor=n;let r=t[0].projectionMatrix[5],a=2*Math.atan(1/r),l=2*Math.atan(Math.tan(a/2)*n);ut(this,Ju,l*(180/Math.PI)),`${x(this,Ju)}${x(this,Xn).scale_factor}${x(this,un).resolution_scale}`},zo=new WeakMap,Do=new WeakMap,ic=new WeakMap,pO=function(t){x(this,un).cameras.forEach((n,i)=>{let r=t[i],{position:a,orientation:l}=r.transform,{livelink_viewport:u}=x(this,or)[i],h=[a.x,a.y,a.z],f=[l.x,l.y,l.z,l.w];n.local_transform={position:h,orientation:f};let d=xt(this,mn,d1).call(this,r.projectionMatrix,u.width,u.height),{fovy:p,nearPlane:y,farPlane:_,offset:v}=d;(!n.perspective_lens||n.perspective_lens.fovy!==p||n.perspective_lens.nearPlane!==y||n.perspective_lens.farPlane!==_||n.perspective_lens.offset!==v)&&(n.perspective_lens=d)})},_O=function(t){let n=x(this,He).renderState.baseLayer,i=t.map(l=>({view:l,viewport:n.getViewport(l)})),r=i.map(l=>l.viewport);ut(this,Oo,r);let a=i.every(({viewport:l})=>l.x<=1&&l.y<=1&&l.width<=1&&l.height<=1);for(let l of i){let u=l.viewport,h=new Ts(a?{left:u.x,top:u.y,width:u.width,height:u.height}:{left:u.x/n.framebufferWidth,top:u.y/n.framebufferHeight,width:u.width/n.framebufferWidth,height:u.height/n.framebufferHeight});`${l.view.eye}`;let f=new sC({core:x(this,Sr),rendering_surface:x(this,un),options:{rect:h}});x(this,or).push({xr_view:l.view,xr_viewport:u,livelink_viewport:f})}},yO=async function({index:t,xr_view:n,xr_viewport:i,viewport:r,dataJSON:a}){var u;let l=await x(this,Sr).scene.newEntity({name:`XR_camera_${n.eye}_${t}`,components:{local_transform:{},perspective_lens:xt(this,mn,d1).call(this,n.projectionMatrix,r.width,r.height),camera:{renderGraphRef:"398ee642-030a-45e7-95df-7147f6c43392",dataJSON:a},tags:{value:[`viewport_x = ${i.x.toString()}`,`viewport_y = ${i.y.toString()}`,`viewport_width = ${i.width.toString()}`,`viewport_height = ${i.height.toString()}`,`recommanded_scale = ${((u=n.recommendedViewportScale)==null?void 0:u.toString())||"?"}`]}},options:{delete_on_client_disconnection:!0,auto_broadcast:!1}});r.camera_projection=new EC({camera_entity:l,viewport:r}),`${n.eye}`},d1=function(t,n,i){let r=n/i,a=x(this,Ju)??Math.atan(1/t[5])*(180/Math.PI)*2,l=t[14]/(t[10]-1);this.is_stereo_vision&&this.cameras_origin&&this.cameras_origin.scale[0]!==1&&(l*=1/this.cameras_origin.scale[0]);let u=t[14]/(t[10]+1),h=[t[8],t[9]*-1];return{fovy:a,aspectRatio:r,nearPlane:x(this,ed)||l,farPlane:u,offset:h}},gO=function(t){return x(this,Oo).length===0?!0:t.some((n,i)=>{let r=x(this,Oo)[i];return r?r.width!==n.width||r.height!==n.height||r.x!==n.x||r.y!==n.y:!0})},rc),OF=O.createContext({webXRHelper:null,xrSession:null});function zF({children:e,mode:t,resolutionScale:n=1,requiredFeatures:i=[],optionalFeatures:r=[],forceSingleView:a,overscanFovFactor:l,enableOverscanSurfaceScale:u,enableFakeAlpha:h,domOverlayRoot:f,onSessionEnd:d}){let{instance:p}=O.useContext(ti),y=O.useRef(null),_=O.useMemo(()=>new fO(n),[t,i.join("-"),r.join("-"),a,f]),v=O.useRef(null),[w,E]=O.useState(null);return O.useEffect(()=>{_&&(_.resolution_scale=n)},[_,n]),O.useEffect(()=>{if(!(!w||!d))return w.addEventListener("end",d),()=>{w.removeEventListener("end",d)}},[w,d]),O.useEffect(()=>{let M=f||y.current;if(!(!M||!p))return v.current||(v.current=_.initialize(t,{xrSessionInit:{requiredFeatures:i,optionalFeatures:["dom-overlay",...r],domOverlay:{root:M}},forceSingleView:a}).then(R=>(E(R),_.configureViewports({livelink:p,overscan_fov_factor:l,enable_overscan_surface_scale:u,enable_fake_alpha:h}))).then(()=>{_.start(),v.current=null})),()=>{_.release(),E(null)}},[_,p]),At.createElement(OF.Provider,{value:{webXRHelper:_,xrSession:w}},f?At.createElement(At.Fragment,null,e):At.createElement("div",{"data-role":"webxr-dom-overlay",ref:y},e))}typeof window<"u"&&(window.__LIVELINK__||(window.__LIVELINK__={}),Object.prototype.hasOwnProperty.call(window.__LIVELINK__,"@3dverse/livelink-webxr")?console.warn("⚠️ WARNING ⚠️ Multiple instances of Livelink WebXR being imported."):window.__LIVELINK__["@3dverse/livelink-webxr"]="0.1.12");var DF=1e-6,kr=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function LF(){var e=new kr(9);return kr!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function hv(){var e=new kr(3);return kr!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function UF(e){var t=e[0],n=e[1],i=e[2];return Math.hypot(t,n,i)}function E0(e,t,n){var i=new kr(3);return i[0]=e,i[1]=t,i[2]=n,i}function NF(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function kF(e,t){var n=t[0],i=t[1],r=t[2],a=n*n+i*i+r*r;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e}function PF(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ng(e,t,n){var i=t[0],r=t[1],a=t[2],l=n[0],u=n[1],h=n[2];return e[0]=r*h-a*u,e[1]=a*l-i*h,e[2]=i*u-r*l,e}function BF(e,t,n){var i=n[0],r=n[1],a=n[2],l=n[3],u=t[0],h=t[1],f=t[2],d=r*f-a*h,p=a*u-i*f,y=i*h-r*u,_=r*y-a*p,v=a*d-i*y,w=i*p-r*d,E=l*2;return d*=E,p*=E,y*=E,_*=2,v*=2,w*=2,e[0]=u+d+_,e[1]=h+p+v,e[2]=f+y+w,e}var FF=UF;(function(){var e=hv();return function(t,n,i,r,a,l){var u,h;for(n||(n=3),i||(i=0),r?h=Math.min(r*n+i,t.length):h=t.length,u=i;u<h;u+=n)e[0]=t[u],e[1]=t[u+1],e[2]=t[u+2],a(e,e,l),t[u]=e[0],t[u+1]=e[1],t[u+2]=e[2];return t}})();function jF(){var e=new kr(4);return kr!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function VF(e,t,n,i){var r=new kr(4);return r[0]=e,r[1]=t,r[2]=n,r[3]=i,r}function $F(e,t){var n=t[0],i=t[1],r=t[2],a=t[3],l=n*n+i*i+r*r+a*a;return l>0&&(l=1/Math.sqrt(l)),e[0]=n*l,e[1]=i*l,e[2]=r*l,e[3]=a*l,e}(function(){var e=jF();return function(t,n,i,r,a,l){var u,h;for(n||(n=4),i||(i=0),r?h=Math.min(r*n+i,t.length):h=t.length,u=i;u<h;u+=n)e[0]=t[u],e[1]=t[u+1],e[2]=t[u+2],e[3]=t[u+3],a(e,e,l),t[u]=e[0],t[u+1]=e[1],t[u+2]=e[2],t[u+3]=e[3];return t}})();function T0(){var e=new kr(4);return kr!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function HF(e,t,n){n=n*.5;var i=Math.sin(n);return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=Math.cos(n),e}function ig(e,t,n,i){var r=t[0],a=t[1],l=t[2],u=t[3],h=n[0],f=n[1],d=n[2],p=n[3],y,_,v,w,E;return _=r*h+a*f+l*d+u*p,_<0&&(_=-_,h=-h,f=-f,d=-d,p=-p),1-_>DF?(y=Math.acos(_),v=Math.sin(y),w=Math.sin((1-i)*y)/v,E=Math.sin(i*y)/v):(w=1-i,E=i),e[0]=w*r+E*h,e[1]=w*a+E*f,e[2]=w*l+E*d,e[3]=w*u+E*p,e}function IF(e,t){var n=t[0]+t[4]+t[8],i;if(n>0)i=Math.sqrt(n+1),e[3]=.5*i,i=.5/i,e[0]=(t[5]-t[7])*i,e[1]=(t[6]-t[2])*i,e[2]=(t[1]-t[3])*i;else{var r=0;t[4]>t[0]&&(r=1),t[8]>t[r*3+r]&&(r=2);var a=(r+1)%3,l=(r+2)%3;i=Math.sqrt(t[r*3+r]-t[a*3+a]-t[l*3+l]+1),e[r]=.5*i,i=.5/i,e[3]=(t[a*3+l]-t[l*3+a])*i,e[a]=(t[a*3+r]+t[r*3+a])*i,e[l]=(t[l*3+r]+t[r*3+l])*i}return e}function vO(e,t,n,i){var r=.5*Math.PI/180;t*=r,n*=r,i*=r;var a=Math.sin(t),l=Math.cos(t),u=Math.sin(n),h=Math.cos(n),f=Math.sin(i),d=Math.cos(i);return e[0]=a*h*d-l*u*f,e[1]=l*u*d+a*h*f,e[2]=l*h*f-a*u*d,e[3]=l*h*d+a*u*f,e}var qF=VF,xO=$F;(function(){var e=hv(),t=E0(1,0,0),n=E0(0,1,0);return function(i,r,a){var l=PF(r,a);return l<-.999999?(ng(e,t,r),FF(e)<1e-6&&ng(e,n,r),kF(e,e),HF(i,e,Math.PI),i):l>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(ng(e,r,a),i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=1+l,xO(i,i))}})();(function(){var e=T0(),t=T0();return function(n,i,r,a,l,u){return ig(e,i,l,u),ig(t,r,a,u),ig(n,e,t,2*u*(1-u)),n}})();(function(){var e=LF();return function(t,n,i,r){return e[0]=i[0],e[3]=i[1],e[6]=i[2],e[1]=r[0],e[4]=r[1],e[7]=r[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],xO(t,IF(t,e))}})();function rg(e,t){if(e&&e==t){e.is_visible=!e.is_visible;return}t&&(t.is_visible=!t.is_visible),e&&(e.is_visible=!e.is_visible),t&&(t.is_visible=!t.is_visible)}function GF(){const{entity:e}=Un({euid:"103acb9d-8d29-4281-ba7a-15b0114ffbcf"}),{entity:t}=Un({euid:"63f5da3b-fcae-41b2-b615-b6ca73e8efc2"}),{entity:n}=Un({euid:"5c74d5c0-f601-4756-8b85-3bb55538b49e"});return B.jsxs("div",{className:"flex flex-col gap-2",children:[B.jsx("button",{onClick:()=>rg(e,e),children:"Allumer/Éteindre flamme"}),B.jsx("button",{onClick:()=>rg(t,n),children:"Broche fronius"}),B.jsx("button",{onClick:()=>rg(n,t),children:"Broche effecteur"})]})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const bO="178",jm=2e3,dM=2001,vn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let mM=1234567;const wO=Math.PI/180,EO=180/Math.PI;function YF(){const e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(vn[e&255]+vn[e>>8&255]+vn[e>>16&255]+vn[e>>24&255]+"-"+vn[t&255]+vn[t>>8&255]+"-"+vn[t>>16&15|64]+vn[t>>24&255]+"-"+vn[n&63|128]+vn[n>>8&255]+"-"+vn[n>>16&255]+vn[n>>24&255]+vn[i&255]+vn[i>>8&255]+vn[i>>16&255]+vn[i>>24&255]).toLowerCase()}function wn(e,t,n){return Math.max(t,Math.min(n,e))}function TO(e,t){return(e%t+t)%t}function XF(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)}function ZF(e,t,n){return e!==t?(n-e)/(t-e):0}function MO(e,t,n){return(1-n)*e+n*t}function KF(e,t,n,i){return MO(e,t,1-Math.exp(-n*i))}function QF(e,t=1){return t-Math.abs(TO(e,t*2)-t)}function WF(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))}function JF(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(e*6-15)+10))}function tj(e,t){return e+Math.floor(Math.random()*(t-e+1))}function ej(e,t){return e+Math.random()*(t-e)}function nj(e){return e*(.5-Math.random())}function ij(e){e!==void 0&&(mM=e);let t=mM+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function rj(e){return e*wO}function sj(e){return e*EO}function aj(e){return(e&e-1)===0&&e!==0}function oj(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function lj(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function uj(e,t,n,i,r){const a=Math.cos,l=Math.sin,u=a(n/2),h=l(n/2),f=a((t+i)/2),d=l((t+i)/2),p=a((t-i)/2),y=l((t-i)/2),_=a((i-t)/2),v=l((i-t)/2);switch(r){case"XYX":e.set(u*d,h*p,h*y,u*f);break;case"YZY":e.set(h*y,u*d,h*p,u*f);break;case"ZXZ":e.set(h*p,h*y,u*d,u*f);break;case"XZX":e.set(u*d,h*v,h*_,u*f);break;case"YXY":e.set(h*_,u*d,h*v,u*f);break;case"ZYZ":e.set(h*v,h*_,u*d,u*f);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function cj(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function hj(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(e*4294967295);case Uint16Array:return Math.round(e*65535);case Uint8Array:return Math.round(e*255);case Int32Array:return Math.round(e*2147483647);case Int16Array:return Math.round(e*32767);case Int8Array:return Math.round(e*127);default:throw new Error("Invalid component type.")}}const sg={DEG2RAD:wO,RAD2DEG:EO,generateUUID:YF,clamp:wn,euclideanModulo:TO,mapLinear:XF,inverseLerp:ZF,lerp:MO,damp:KF,pingpong:QF,smoothstep:WF,smootherstep:JF,randInt:tj,randFloat:ej,randFloatSpread:nj,seededRandom:ij,degToRad:rj,radToDeg:sj,isPowerOfTwo:aj,ceilPowerOfTwo:oj,floorPowerOfTwo:lj,setQuaternionFromProperEuler:uj,normalize:hj,denormalize:cj};class M0{constructor(t=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=t,this._y=n,this._z=i,this._w=r}static slerpFlat(t,n,i,r,a,l,u){let h=i[r+0],f=i[r+1],d=i[r+2],p=i[r+3];const y=a[l+0],_=a[l+1],v=a[l+2],w=a[l+3];if(u===0){t[n+0]=h,t[n+1]=f,t[n+2]=d,t[n+3]=p;return}if(u===1){t[n+0]=y,t[n+1]=_,t[n+2]=v,t[n+3]=w;return}if(p!==w||h!==y||f!==_||d!==v){let E=1-u;const M=h*y+f*_+d*v+p*w,R=M>=0?1:-1,z=1-M*M;if(z>Number.EPSILON){const C=Math.sqrt(z),N=Math.atan2(C,M*R);E=Math.sin(E*N)/C,u=Math.sin(u*N)/C}const D=u*R;if(h=h*E+y*D,f=f*E+_*D,d=d*E+v*D,p=p*E+w*D,E===1-u){const C=1/Math.sqrt(h*h+f*f+d*d+p*p);h*=C,f*=C,d*=C,p*=C}}t[n]=h,t[n+1]=f,t[n+2]=d,t[n+3]=p}static multiplyQuaternionsFlat(t,n,i,r,a,l){const u=i[r],h=i[r+1],f=i[r+2],d=i[r+3],p=a[l],y=a[l+1],_=a[l+2],v=a[l+3];return t[n]=u*v+d*p+h*_-f*y,t[n+1]=h*v+d*y+f*p-u*_,t[n+2]=f*v+d*_+u*y-h*p,t[n+3]=d*v-u*p-h*y-f*_,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,n,i,r){return this._x=t,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,n=!0){const i=t._x,r=t._y,a=t._z,l=t._order,u=Math.cos,h=Math.sin,f=u(i/2),d=u(r/2),p=u(a/2),y=h(i/2),_=h(r/2),v=h(a/2);switch(l){case"XYZ":this._x=y*d*p+f*_*v,this._y=f*_*p-y*d*v,this._z=f*d*v+y*_*p,this._w=f*d*p-y*_*v;break;case"YXZ":this._x=y*d*p+f*_*v,this._y=f*_*p-y*d*v,this._z=f*d*v-y*_*p,this._w=f*d*p+y*_*v;break;case"ZXY":this._x=y*d*p-f*_*v,this._y=f*_*p+y*d*v,this._z=f*d*v+y*_*p,this._w=f*d*p-y*_*v;break;case"ZYX":this._x=y*d*p-f*_*v,this._y=f*_*p+y*d*v,this._z=f*d*v-y*_*p,this._w=f*d*p+y*_*v;break;case"YZX":this._x=y*d*p+f*_*v,this._y=f*_*p+y*d*v,this._z=f*d*v-y*_*p,this._w=f*d*p-y*_*v;break;case"XZY":this._x=y*d*p-f*_*v,this._y=f*_*p-y*d*v,this._z=f*d*v+y*_*p,this._w=f*d*p+y*_*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,n){const i=n/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const n=t.elements,i=n[0],r=n[4],a=n[8],l=n[1],u=n[5],h=n[9],f=n[2],d=n[6],p=n[10],y=i+u+p;if(y>0){const _=.5/Math.sqrt(y+1);this._w=.25/_,this._x=(d-h)*_,this._y=(a-f)*_,this._z=(l-r)*_}else if(i>u&&i>p){const _=2*Math.sqrt(1+i-u-p);this._w=(d-h)/_,this._x=.25*_,this._y=(r+l)/_,this._z=(a+f)/_}else if(u>p){const _=2*Math.sqrt(1+u-i-p);this._w=(a-f)/_,this._x=(r+l)/_,this._y=.25*_,this._z=(h+d)/_}else{const _=2*Math.sqrt(1+p-i-u);this._w=(l-r)/_,this._x=(a+f)/_,this._y=(h+d)/_,this._z=.25*_}return this._onChangeCallback(),this}setFromUnitVectors(t,n){let i=t.dot(n)+1;return i<1e-8?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*n.z-t.z*n.y,this._y=t.z*n.x-t.x*n.z,this._z=t.x*n.y-t.y*n.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(wn(this.dot(t),-1,1)))}rotateTowards(t,n){const i=this.angleTo(t);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,n){const i=t._x,r=t._y,a=t._z,l=t._w,u=n._x,h=n._y,f=n._z,d=n._w;return this._x=i*d+l*u+r*f-a*h,this._y=r*d+l*h+a*u-i*f,this._z=a*d+l*f+i*h-r*u,this._w=l*d-i*u-r*h-a*f,this._onChangeCallback(),this}slerp(t,n){if(n===0)return this;if(n===1)return this.copy(t);const i=this._x,r=this._y,a=this._z,l=this._w;let u=l*t._w+i*t._x+r*t._y+a*t._z;if(u<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,u=-u):this.copy(t),u>=1)return this._w=l,this._x=i,this._y=r,this._z=a,this;const h=1-u*u;if(h<=Number.EPSILON){const _=1-n;return this._w=_*l+n*this._w,this._x=_*i+n*this._x,this._y=_*r+n*this._y,this._z=_*a+n*this._z,this.normalize(),this}const f=Math.sqrt(h),d=Math.atan2(f,u),p=Math.sin((1-n)*d)/f,y=Math.sin(n*d)/f;return this._w=l*p+this._w*y,this._x=i*p+this._x*y,this._y=r*p+this._y*y,this._z=a*p+this._z*y,this._onChangeCallback(),this}slerpQuaternions(t,n,i){return this.copy(t).slerp(n,i)}random(){const t=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(r*Math.sin(t),r*Math.cos(t),a*Math.sin(n),a*Math.cos(n))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,n=0){return this._x=t[n],this._y=t[n+1],this._z=t[n+2],this._w=t[n+3],this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._w,t}fromBufferAttribute(t,n){return this._x=t.getX(n),this._y=t.getY(n),this._z=t.getZ(n),this._w=t.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Rs{constructor(t=0,n=0,i=0){Rs.prototype.isVector3=!0,this.x=t,this.y=n,this.z=i}set(t,n,i){return i===void 0&&(i=this.z),this.x=t,this.y=n,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,n){return this.x=t.x*n.x,this.y=t.y*n.y,this.z=t.z*n.z,this}applyEuler(t){return this.applyQuaternion(pM.setFromEuler(t))}applyAxisAngle(t,n){return this.applyQuaternion(pM.setFromAxisAngle(t,n))}applyMatrix3(t){const n=this.x,i=this.y,r=this.z,a=t.elements;return this.x=a[0]*n+a[3]*i+a[6]*r,this.y=a[1]*n+a[4]*i+a[7]*r,this.z=a[2]*n+a[5]*i+a[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const n=this.x,i=this.y,r=this.z,a=t.elements,l=1/(a[3]*n+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*n+a[4]*i+a[8]*r+a[12])*l,this.y=(a[1]*n+a[5]*i+a[9]*r+a[13])*l,this.z=(a[2]*n+a[6]*i+a[10]*r+a[14])*l,this}applyQuaternion(t){const n=this.x,i=this.y,r=this.z,a=t.x,l=t.y,u=t.z,h=t.w,f=2*(l*r-u*i),d=2*(u*n-a*r),p=2*(a*i-l*n);return this.x=n+h*f+l*p-u*d,this.y=i+h*d+u*f-a*p,this.z=r+h*p+a*d-l*f,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const n=this.x,i=this.y,r=this.z,a=t.elements;return this.x=a[0]*n+a[4]*i+a[8]*r,this.y=a[1]*n+a[5]*i+a[9]*r,this.z=a[2]*n+a[6]*i+a[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,n){return this.x=wn(this.x,t.x,n.x),this.y=wn(this.y,t.y,n.y),this.z=wn(this.z,t.z,n.z),this}clampScalar(t,n){return this.x=wn(this.x,t,n),this.y=wn(this.y,t,n),this.z=wn(this.z,t,n),this}clampLength(t,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(wn(i,t,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this}lerpVectors(t,n,i){return this.x=t.x+(n.x-t.x)*i,this.y=t.y+(n.y-t.y)*i,this.z=t.z+(n.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,n){const i=t.x,r=t.y,a=t.z,l=n.x,u=n.y,h=n.z;return this.x=r*h-a*u,this.y=a*l-i*h,this.z=i*u-r*l,this}projectOnVector(t){const n=t.lengthSq();if(n===0)return this.set(0,0,0);const i=t.dot(this)/n;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return ag.copy(this).projectOnVector(t),this.sub(ag)}reflect(t){return this.sub(ag.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const n=Math.sqrt(this.lengthSq()*t.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(t)/n;return Math.acos(wn(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const n=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return n*n+i*i+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,n,i){const r=Math.sin(n)*t;return this.x=r*Math.sin(i),this.y=Math.cos(n)*t,this.z=r*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,n,i){return this.x=t*Math.sin(n),this.y=i,this.z=t*Math.cos(n),this}setFromMatrixPosition(t){const n=t.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(t){const n=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(t,n){return this.fromArray(t.elements,n*4)}setFromMatrix3Column(t,n){return this.fromArray(t.elements,n*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t}fromBufferAttribute(t,n){return this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(t),this.y=n,this.z=i*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ag=new Rs,pM=new M0;class tf{constructor(t,n,i,r,a,l,u,h,f,d,p,y,_,v,w,E){tf.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,n,i,r,a,l,u,h,f,d,p,y,_,v,w,E)}set(t,n,i,r,a,l,u,h,f,d,p,y,_,v,w,E){const M=this.elements;return M[0]=t,M[4]=n,M[8]=i,M[12]=r,M[1]=a,M[5]=l,M[9]=u,M[13]=h,M[2]=f,M[6]=d,M[10]=p,M[14]=y,M[3]=_,M[7]=v,M[11]=w,M[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new tf().fromArray(this.elements)}copy(t){const n=this.elements,i=t.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(t){const n=this.elements,i=t.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(t){const n=t.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(t,n,i){return t.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,n,i){return this.set(t.x,n.x,i.x,0,t.y,n.y,i.y,0,t.z,n.z,i.z,0,0,0,0,1),this}extractRotation(t){const n=this.elements,i=t.elements,r=1/Pl.setFromMatrixColumn(t,0).length(),a=1/Pl.setFromMatrixColumn(t,1).length(),l=1/Pl.setFromMatrixColumn(t,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*a,n[5]=i[5]*a,n[6]=i[6]*a,n[7]=0,n[8]=i[8]*l,n[9]=i[9]*l,n[10]=i[10]*l,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(t){const n=this.elements,i=t.x,r=t.y,a=t.z,l=Math.cos(i),u=Math.sin(i),h=Math.cos(r),f=Math.sin(r),d=Math.cos(a),p=Math.sin(a);if(t.order==="XYZ"){const y=l*d,_=l*p,v=u*d,w=u*p;n[0]=h*d,n[4]=-h*p,n[8]=f,n[1]=_+v*f,n[5]=y-w*f,n[9]=-u*h,n[2]=w-y*f,n[6]=v+_*f,n[10]=l*h}else if(t.order==="YXZ"){const y=h*d,_=h*p,v=f*d,w=f*p;n[0]=y+w*u,n[4]=v*u-_,n[8]=l*f,n[1]=l*p,n[5]=l*d,n[9]=-u,n[2]=_*u-v,n[6]=w+y*u,n[10]=l*h}else if(t.order==="ZXY"){const y=h*d,_=h*p,v=f*d,w=f*p;n[0]=y-w*u,n[4]=-l*p,n[8]=v+_*u,n[1]=_+v*u,n[5]=l*d,n[9]=w-y*u,n[2]=-l*f,n[6]=u,n[10]=l*h}else if(t.order==="ZYX"){const y=l*d,_=l*p,v=u*d,w=u*p;n[0]=h*d,n[4]=v*f-_,n[8]=y*f+w,n[1]=h*p,n[5]=w*f+y,n[9]=_*f-v,n[2]=-f,n[6]=u*h,n[10]=l*h}else if(t.order==="YZX"){const y=l*h,_=l*f,v=u*h,w=u*f;n[0]=h*d,n[4]=w-y*p,n[8]=v*p+_,n[1]=p,n[5]=l*d,n[9]=-u*d,n[2]=-f*d,n[6]=_*p+v,n[10]=y-w*p}else if(t.order==="XZY"){const y=l*h,_=l*f,v=u*h,w=u*f;n[0]=h*d,n[4]=-p,n[8]=f*d,n[1]=y*p+w,n[5]=l*d,n[9]=_*p-v,n[2]=v*p-_,n[6]=u*d,n[10]=w*p+y}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(t){return this.compose(fj,t,dj)}lookAt(t,n,i){const r=this.elements;return pi.subVectors(t,n),pi.lengthSq()===0&&(pi.z=1),pi.normalize(),la.crossVectors(i,pi),la.lengthSq()===0&&(Math.abs(i.z)===1?pi.x+=1e-4:pi.z+=1e-4,pi.normalize(),la.crossVectors(i,pi)),la.normalize(),Vm.crossVectors(pi,la),r[0]=la.x,r[4]=Vm.x,r[8]=pi.x,r[1]=la.y,r[5]=Vm.y,r[9]=pi.y,r[2]=la.z,r[6]=Vm.z,r[10]=pi.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){const i=t.elements,r=n.elements,a=this.elements,l=i[0],u=i[4],h=i[8],f=i[12],d=i[1],p=i[5],y=i[9],_=i[13],v=i[2],w=i[6],E=i[10],M=i[14],R=i[3],z=i[7],D=i[11],C=i[15],N=r[0],k=r[4],$=r[8],q=r[12],X=r[1],tt=r[5],at=r[9],J=r[13],et=r[2],bt=r[6],G=r[10],nt=r[14],ft=r[3],ht=r[7],F=r[11],ot=r[15];return a[0]=l*N+u*X+h*et+f*ft,a[4]=l*k+u*tt+h*bt+f*ht,a[8]=l*$+u*at+h*G+f*F,a[12]=l*q+u*J+h*nt+f*ot,a[1]=d*N+p*X+y*et+_*ft,a[5]=d*k+p*tt+y*bt+_*ht,a[9]=d*$+p*at+y*G+_*F,a[13]=d*q+p*J+y*nt+_*ot,a[2]=v*N+w*X+E*et+M*ft,a[6]=v*k+w*tt+E*bt+M*ht,a[10]=v*$+w*at+E*G+M*F,a[14]=v*q+w*J+E*nt+M*ot,a[3]=R*N+z*X+D*et+C*ft,a[7]=R*k+z*tt+D*bt+C*ht,a[11]=R*$+z*at+D*G+C*F,a[15]=R*q+z*J+D*nt+C*ot,this}multiplyScalar(t){const n=this.elements;return n[0]*=t,n[4]*=t,n[8]*=t,n[12]*=t,n[1]*=t,n[5]*=t,n[9]*=t,n[13]*=t,n[2]*=t,n[6]*=t,n[10]*=t,n[14]*=t,n[3]*=t,n[7]*=t,n[11]*=t,n[15]*=t,this}determinant(){const t=this.elements,n=t[0],i=t[4],r=t[8],a=t[12],l=t[1],u=t[5],h=t[9],f=t[13],d=t[2],p=t[6],y=t[10],_=t[14],v=t[3],w=t[7],E=t[11],M=t[15];return v*(+a*h*p-r*f*p-a*u*y+i*f*y+r*u*_-i*h*_)+w*(+n*h*_-n*f*y+a*l*y-r*l*_+r*f*d-a*h*d)+E*(+n*f*p-n*u*_-a*l*p+i*l*_+a*u*d-i*f*d)+M*(-r*u*d-n*h*p+n*u*y+r*l*p-i*l*y+i*h*d)}transpose(){const t=this.elements;let n;return n=t[1],t[1]=t[4],t[4]=n,n=t[2],t[2]=t[8],t[8]=n,n=t[6],t[6]=t[9],t[9]=n,n=t[3],t[3]=t[12],t[12]=n,n=t[7],t[7]=t[13],t[13]=n,n=t[11],t[11]=t[14],t[14]=n,this}setPosition(t,n,i){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=n,r[14]=i),this}invert(){const t=this.elements,n=t[0],i=t[1],r=t[2],a=t[3],l=t[4],u=t[5],h=t[6],f=t[7],d=t[8],p=t[9],y=t[10],_=t[11],v=t[12],w=t[13],E=t[14],M=t[15],R=p*E*f-w*y*f+w*h*_-u*E*_-p*h*M+u*y*M,z=v*y*f-d*E*f-v*h*_+l*E*_+d*h*M-l*y*M,D=d*w*f-v*p*f+v*u*_-l*w*_-d*u*M+l*p*M,C=v*p*h-d*w*h-v*u*y+l*w*y+d*u*E-l*p*E,N=n*R+i*z+r*D+a*C;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const k=1/N;return t[0]=R*k,t[1]=(w*y*a-p*E*a-w*r*_+i*E*_+p*r*M-i*y*M)*k,t[2]=(u*E*a-w*h*a+w*r*f-i*E*f-u*r*M+i*h*M)*k,t[3]=(p*h*a-u*y*a-p*r*f+i*y*f+u*r*_-i*h*_)*k,t[4]=z*k,t[5]=(d*E*a-v*y*a+v*r*_-n*E*_-d*r*M+n*y*M)*k,t[6]=(v*h*a-l*E*a-v*r*f+n*E*f+l*r*M-n*h*M)*k,t[7]=(l*y*a-d*h*a+d*r*f-n*y*f-l*r*_+n*h*_)*k,t[8]=D*k,t[9]=(v*p*a-d*w*a-v*i*_+n*w*_+d*i*M-n*p*M)*k,t[10]=(l*w*a-v*u*a+v*i*f-n*w*f-l*i*M+n*u*M)*k,t[11]=(d*u*a-l*p*a-d*i*f+n*p*f+l*i*_-n*u*_)*k,t[12]=C*k,t[13]=(d*w*r-v*p*r+v*i*y-n*w*y-d*i*E+n*p*E)*k,t[14]=(v*u*r-l*w*r-v*i*h+n*w*h+l*i*E-n*u*E)*k,t[15]=(l*p*r-d*u*r+d*i*h-n*p*h-l*i*y+n*u*y)*k,this}scale(t){const n=this.elements,i=t.x,r=t.y,a=t.z;return n[0]*=i,n[4]*=r,n[8]*=a,n[1]*=i,n[5]*=r,n[9]*=a,n[2]*=i,n[6]*=r,n[10]*=a,n[3]*=i,n[7]*=r,n[11]*=a,this}getMaxScaleOnAxis(){const t=this.elements,n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(t,n,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(t){const n=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(t){const n=Math.cos(t),i=Math.sin(t);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(t){const n=Math.cos(t),i=Math.sin(t);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,n){const i=Math.cos(n),r=Math.sin(n),a=1-i,l=t.x,u=t.y,h=t.z,f=a*l,d=a*u;return this.set(f*l+i,f*u-r*h,f*h+r*u,0,f*u+r*h,d*u+i,d*h-r*l,0,f*h-r*u,d*h+r*l,a*h*h+i,0,0,0,0,1),this}makeScale(t,n,i){return this.set(t,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,n,i,r,a,l){return this.set(1,i,a,0,t,1,l,0,n,r,1,0,0,0,0,1),this}compose(t,n,i){const r=this.elements,a=n._x,l=n._y,u=n._z,h=n._w,f=a+a,d=l+l,p=u+u,y=a*f,_=a*d,v=a*p,w=l*d,E=l*p,M=u*p,R=h*f,z=h*d,D=h*p,C=i.x,N=i.y,k=i.z;return r[0]=(1-(w+M))*C,r[1]=(_+D)*C,r[2]=(v-z)*C,r[3]=0,r[4]=(_-D)*N,r[5]=(1-(y+M))*N,r[6]=(E+R)*N,r[7]=0,r[8]=(v+z)*k,r[9]=(E-R)*k,r[10]=(1-(y+w))*k,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,n,i){const r=this.elements;let a=Pl.set(r[0],r[1],r[2]).length();const l=Pl.set(r[4],r[5],r[6]).length(),u=Pl.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),t.x=r[12],t.y=r[13],t.z=r[14],Ji.copy(this);const f=1/a,d=1/l,p=1/u;return Ji.elements[0]*=f,Ji.elements[1]*=f,Ji.elements[2]*=f,Ji.elements[4]*=d,Ji.elements[5]*=d,Ji.elements[6]*=d,Ji.elements[8]*=p,Ji.elements[9]*=p,Ji.elements[10]*=p,n.setFromRotationMatrix(Ji),i.x=a,i.y=l,i.z=u,this}makePerspective(t,n,i,r,a,l,u=jm){const h=this.elements,f=2*a/(n-t),d=2*a/(i-r),p=(n+t)/(n-t),y=(i+r)/(i-r);let _,v;if(u===jm)_=-(l+a)/(l-a),v=-2*l*a/(l-a);else if(u===dM)_=-l/(l-a),v=-l*a/(l-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);return h[0]=f,h[4]=0,h[8]=p,h[12]=0,h[1]=0,h[5]=d,h[9]=y,h[13]=0,h[2]=0,h[6]=0,h[10]=_,h[14]=v,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this}makeOrthographic(t,n,i,r,a,l,u=jm){const h=this.elements,f=1/(n-t),d=1/(i-r),p=1/(l-a),y=(n+t)*f,_=(i+r)*d;let v,w;if(u===jm)v=(l+a)*p,w=-2*p;else if(u===dM)v=a*p,w=-1*p;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);return h[0]=2*f,h[4]=0,h[8]=0,h[12]=-y,h[1]=0,h[5]=2*d,h[9]=0,h[13]=-_,h[2]=0,h[6]=0,h[10]=w,h[14]=-v,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this}equals(t){const n=this.elements,i=t.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(t,n=0){for(let i=0;i<16;i++)this.elements[i]=t[i+n];return this}toArray(t=[],n=0){const i=this.elements;return t[n]=i[0],t[n+1]=i[1],t[n+2]=i[2],t[n+3]=i[3],t[n+4]=i[4],t[n+5]=i[5],t[n+6]=i[6],t[n+7]=i[7],t[n+8]=i[8],t[n+9]=i[9],t[n+10]=i[10],t[n+11]=i[11],t[n+12]=i[12],t[n+13]=i[13],t[n+14]=i[14],t[n+15]=i[15],t}}const Pl=new Rs,Ji=new tf,fj=new Rs(0,0,0),dj=new Rs(1,1,1),la=new Rs,Vm=new Rs,pi=new Rs,_M=new tf,yM=new M0;class Xl{constructor(t=0,n=0,i=0,r=Xl.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,n,i,r=this._order){return this._x=t,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,n=this._order,i=!0){const r=t.elements,a=r[0],l=r[4],u=r[8],h=r[1],f=r[5],d=r[9],p=r[2],y=r[6],_=r[10];switch(n){case"XYZ":this._y=Math.asin(wn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-d,_),this._z=Math.atan2(-l,a)):(this._x=Math.atan2(y,f),this._z=0);break;case"YXZ":this._x=Math.asin(-wn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(u,_),this._z=Math.atan2(h,f)):(this._y=Math.atan2(-p,a),this._z=0);break;case"ZXY":this._x=Math.asin(wn(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-p,_),this._z=Math.atan2(-l,f)):(this._y=0,this._z=Math.atan2(h,a));break;case"ZYX":this._y=Math.asin(-wn(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(y,_),this._z=Math.atan2(h,a)):(this._x=0,this._z=Math.atan2(-l,f));break;case"YZX":this._z=Math.asin(wn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-d,f),this._y=Math.atan2(-p,a)):(this._x=0,this._y=Math.atan2(u,_));break;case"XZY":this._z=Math.asin(-wn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(y,f),this._y=Math.atan2(u,a)):(this._x=Math.atan2(-d,_),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(t,n,i){return _M.makeRotationFromQuaternion(t),this.setFromRotationMatrix(_M,n,i)}setFromVector3(t,n=this._order){return this.set(t.x,t.y,t.z,n)}reorder(t){return yM.setFromEuler(this),this.setFromQuaternion(yM,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Xl.DEFAULT_ORDER="XYZ";typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:bO}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=bO);const fv=O.createContext({entities:[],entitiesMap:new Map});function mj({children:e}){const{instance:t}=O.useContext(ti),[n,i]=O.useState([]),[r,a]=O.useState(new Map);return O.useEffect(()=>{(async()=>{if(!t){console.warn("⛔ instance Livelink non disponible");return}console.log("🔍 fetchEntities lancé…");try{const u=await t.scene.findEntitiesWithComponents({mandatory_components:["local_transform"],forbidden_components:[]});console.log(`📦 ${u.length} entités récupérées depuis la scène`);const h=u.filter(d=>/^part_\d+$/.test(d.name));console.log(`🧽 ${h.length} entités filtrées avec le pattern /part_\\d+/`);const f=h.map(d=>{var p;return d.__parentId=((p=d.parent)==null?void 0:p.id)??null,d.auto_broadcast=!1,d});f.sort((d,p)=>{const y=parseInt(d.name.split("_")[1],10),_=parseInt(p.name.split("_")[1],10);return y-_}),i(f),a(new Map(f.map(d=>[d.name,d]))),console.log(`Chargé ${f.length} entités dans entitiesMap`)}catch(u){console.error("❌ Erreur chargement des entités part_x :",u)}})()},[t]),B.jsx(fv.Provider,{value:{entities:n,entitiesMap:r},children:e})}function pj(e,t,n){const i=[...n.values()].find(r=>r.name===e);if(!i){console.warn(`Entité ${e} introuvable`);return}i.local_transform.eulerOrientation=t}async function _j(e,t,n,i){const[r]=await e.scene.findEntities({entity_uuid:t});if(!r)return console.warn(`Entité avec UUID ${t} introuvable`);const a=new M0(...r.local_transform.orientation??[0,0,0,1]),l=n==="x"?new Xl(sg.degToRad(i),0,0,"XYZ"):n==="y"?new Xl(0,sg.degToRad(i),0,"XYZ"):new Xl(0,0,sg.degToRad(i),"XYZ"),h=new M0().setFromEuler(l).multiply(a).normalize();r.local_transform.orientation=[h.x,h.y,h.z,h.w]}const SO=typeof document<"u"?At.useLayoutEffect:()=>{};var og;const yj=(og=At.useInsertionEffect)!==null&&og!==void 0?og:SO;function gj(e){const t=O.useRef(null);return yj(()=>{t.current=e},[e]),O.useCallback((...n)=>{const i=t.current;return i==null?void 0:i(...n)},[])}const ka=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},ho=e=>e&&"window"in e&&e.window===e?e:ka(e).defaultView||window;function vj(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function xj(e){return vj(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let bj=!1;function dv(){return bj}function AO(e,t){if(!dv())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:xj(n)?n=n.host:n=n.parentNode}return!1}const m1=(e=document)=>{var t;if(!dv())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function CO(e){return dv()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function wj(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let n=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(n)&&n.some(i=>e.test(i.brand))||e.test(window.navigator.userAgent)}function Ej(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function RO(e){let t=null;return()=>(t==null&&(t=e()),t)}const Tj=RO(function(){return Ej(/^Mac/i)}),Mj=RO(function(){return wj(/Android/i)});function OO(){let e=O.useRef(new Map),t=O.useCallback((r,a,l,u)=>{let h=u!=null&&u.once?(...f)=>{e.current.delete(l),l(...f)}:l;e.current.set(l,{type:a,eventTarget:r,fn:h,options:u}),r.addEventListener(a,h,u)},[]),n=O.useCallback((r,a,l,u)=>{var h;let f=((h=e.current.get(l))===null||h===void 0?void 0:h.fn)||l;r.removeEventListener(a,f,u),e.current.delete(l)},[]),i=O.useCallback(()=>{e.current.forEach((r,a)=>{n(r.eventTarget,r.type,a,r.options)})},[n]);return O.useEffect(()=>i,[i]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:i}}function Sj(e){return e.mozInputSource===0&&e.isTrusted?!0:Mj()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function zO(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function Aj(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function DO(e){let t=O.useRef({isFocused:!1,observer:null});SO(()=>{const i=t.current;return()=>{i.observer&&(i.observer.disconnect(),i.observer=null)}},[]);let n=gj(i=>{e==null||e(i)});return O.useCallback(i=>{if(i.target instanceof HTMLButtonElement||i.target instanceof HTMLInputElement||i.target instanceof HTMLTextAreaElement||i.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=i.target,a=l=>{if(t.current.isFocused=!1,r.disabled){let u=zO(l);n(u)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};r.addEventListener("focusout",a,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&r.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let u=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let Cj=!1,ad=null,p1=new Set,Gh=new Map,Po=!1,_1=!1;const Rj={Tab:!0,Escape:!0};function mv(e,t){for(let n of p1)n(e,t)}function Oj(e){return!(e.metaKey||!Tj()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function S0(e){Po=!0,Oj(e)&&(ad="keyboard",mv("keyboard",e))}function Zl(e){ad="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Po=!0,mv("pointer",e))}function LO(e){Sj(e)&&(Po=!0,ad="virtual")}function UO(e){e.target===window||e.target===document||Cj||!e.isTrusted||(!Po&&!_1&&(ad="virtual",mv("virtual",e)),Po=!1,_1=!1)}function NO(){Po=!1,_1=!0}function y1(e){if(typeof window>"u"||typeof document>"u"||Gh.get(ho(e)))return;const t=ho(e),n=ka(e);let i=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Po=!0,i.apply(this,arguments)},n.addEventListener("keydown",S0,!0),n.addEventListener("keyup",S0,!0),n.addEventListener("click",LO,!0),t.addEventListener("focus",UO,!0),t.addEventListener("blur",NO,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",Zl,!0),n.addEventListener("pointermove",Zl,!0),n.addEventListener("pointerup",Zl,!0)),t.addEventListener("beforeunload",()=>{kO(e)},{once:!0}),Gh.set(t,{focus:i})}const kO=(e,t)=>{const n=ho(e),i=ka(e);t&&i.removeEventListener("DOMContentLoaded",t),Gh.has(n)&&(n.HTMLElement.prototype.focus=Gh.get(n).focus,i.removeEventListener("keydown",S0,!0),i.removeEventListener("keyup",S0,!0),i.removeEventListener("click",LO,!0),n.removeEventListener("focus",UO,!0),n.removeEventListener("blur",NO,!1),typeof PointerEvent<"u"&&(i.removeEventListener("pointerdown",Zl,!0),i.removeEventListener("pointermove",Zl,!0),i.removeEventListener("pointerup",Zl,!0)),Gh.delete(n))};function zj(e){const t=ka(e);let n;return t.readyState!=="loading"?y1(e):(n=()=>{y1(e)},t.addEventListener("DOMContentLoaded",n)),()=>kO(e,n)}typeof document<"u"&&zj();function PO(){return ad!=="pointer"}const Dj=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Lj(e,t,n){let i=ka(n==null?void 0:n.target);const r=typeof window<"u"?ho(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,a=typeof window<"u"?ho(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?ho(n==null?void 0:n.target).HTMLElement:HTMLElement,u=typeof window<"u"?ho(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||i.activeElement instanceof r&&!Dj.has(i.activeElement.type)||i.activeElement instanceof a||i.activeElement instanceof l&&i.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof u&&!Rj[n.key])}function Uj(e,t,n){y1(),O.useEffect(()=>{let i=(r,a)=>{Lj(!!(n!=null&&n.isTextInput),r,a)&&e(PO())};return p1.add(i),()=>{p1.delete(i)}},t)}function Nj(e){let{isDisabled:t,onFocus:n,onBlur:i,onFocusChange:r}=e;const a=O.useCallback(h=>{if(h.target===h.currentTarget)return i&&i(h),r&&r(!1),!0},[i,r]),l=DO(a),u=O.useCallback(h=>{const f=ka(h.target),d=f?m1(f):m1();h.target===h.currentTarget&&d===CO(h.nativeEvent)&&(n&&n(h),r&&r(!0),l(h))},[r,n,l]);return{focusProps:{onFocus:!t&&(n||r||i)?u:void 0,onBlur:!t&&(i||r)?a:void 0}}}function kj(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:i,onFocusWithinChange:r}=e,a=O.useRef({isFocusWithin:!1}),{addGlobalListener:l,removeAllGlobalListeners:u}=OO(),h=O.useCallback(p=>{p.currentTarget.contains(p.target)&&a.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(a.current.isFocusWithin=!1,u(),n&&n(p),r&&r(!1))},[n,r,a,u]),f=DO(h),d=O.useCallback(p=>{if(!p.currentTarget.contains(p.target))return;const y=ka(p.target),_=m1(y);if(!a.current.isFocusWithin&&_===CO(p.nativeEvent)){i&&i(p),r&&r(!0),a.current.isFocusWithin=!0,f(p);let v=p.currentTarget;l(y,"focus",w=>{if(a.current.isFocusWithin&&!AO(v,w.target)){let E=new y.defaultView.FocusEvent("blur",{relatedTarget:w.target});Aj(E,v);let M=zO(E);h(M)}},{capture:!0})}},[i,r,f,l,h]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:d,onBlur:h}}}let g1=!1,$m=0;function Pj(){g1=!0,setTimeout(()=>{g1=!1},50)}function gM(e){e.pointerType==="touch"&&Pj()}function Bj(){if(!(typeof document>"u"))return $m===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",gM),$m++,()=>{$m--,!($m>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",gM)}}function Fj(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:i,isDisabled:r}=e,[a,l]=O.useState(!1),u=O.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;O.useEffect(Bj,[]);let{addGlobalListener:h,removeAllGlobalListeners:f}=OO(),{hoverProps:d,triggerHoverEnd:p}=O.useMemo(()=>{let y=(w,E)=>{if(u.pointerType=E,r||E==="touch"||u.isHovered||!w.currentTarget.contains(w.target))return;u.isHovered=!0;let M=w.currentTarget;u.target=M,h(ka(w.target),"pointerover",R=>{u.isHovered&&u.target&&!AO(u.target,R.target)&&_(R,R.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:M,pointerType:E}),n&&n(!0),l(!0)},_=(w,E)=>{let M=u.target;u.pointerType="",u.target=null,!(E==="touch"||!u.isHovered||!M)&&(u.isHovered=!1,f(),i&&i({type:"hoverend",target:M,pointerType:E}),n&&n(!1),l(!1))},v={};return typeof PointerEvent<"u"&&(v.onPointerEnter=w=>{g1&&w.pointerType==="mouse"||y(w,w.pointerType)},v.onPointerLeave=w=>{!r&&w.currentTarget.contains(w.target)&&_(w,w.pointerType)}),{hoverProps:v,triggerHoverEnd:_}},[t,n,i,r,u,h,f]);return O.useEffect(()=>{r&&p({currentTarget:u.target},u.pointerType)},[r]),{hoverProps:d,isHovered:a}}function jj(e={}){let{autoFocus:t=!1,isTextInput:n,within:i}=e,r=O.useRef({isFocused:!1,isFocusVisible:t||PO()}),[a,l]=O.useState(!1),[u,h]=O.useState(()=>r.current.isFocused&&r.current.isFocusVisible),f=O.useCallback(()=>h(r.current.isFocused&&r.current.isFocusVisible),[]),d=O.useCallback(_=>{r.current.isFocused=_,l(_),f()},[f]);Uj(_=>{r.current.isFocusVisible=_,f()},[],{isTextInput:n});let{focusProps:p}=Nj({isDisabled:i,onFocusChange:d}),{focusWithinProps:y}=kj({isDisabled:!i,onFocusWithinChange:d});return{isFocused:a,isFocusVisible:u,focusProps:i?y:p}}var Vj=Object.defineProperty,$j=(e,t,n)=>t in e?Vj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lg=(e,t,n)=>($j(e,typeof t!="symbol"?t+"":t,n),n);let Hj=class{constructor(){lg(this,"current",this.detect()),lg(this,"handoffState","pending"),lg(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Or=new Hj;function yc(e){var t,n;return Or.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(n=(t=e.current)==null?void 0:t.ownerDocument)!=null?n:document:null:document}function BO(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function $i(){let e=[],t={addEventListener(n,i,r,a){return n.addEventListener(i,r,a),t.add(()=>n.removeEventListener(i,r,a))},requestAnimationFrame(...n){let i=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(i))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let i=setTimeout(...n);return t.add(()=>clearTimeout(i))},microTask(...n){let i={current:!0};return BO(()=>{i.current&&n[0]()}),t.add(()=>{i.current=!1})},style(n,i,r){let a=n.style.getPropertyValue(i);return Object.assign(n.style,{[i]:r}),this.add(()=>{Object.assign(n.style,{[i]:a})})},group(n){let i=$i();return n(i),this.add(()=>i.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let i=e.indexOf(n);if(i>=0)for(let r of e.splice(i,1))r()}},dispose(){for(let n of e.splice(0))n()}};return t}function mp(){let[e]=O.useState($i);return O.useEffect(()=>()=>e.dispose(),[e]),e}let Ge=(e,t)=>{Or.isServer?O.useEffect(e,t):O.useLayoutEffect(e,t)};function od(e){let t=O.useRef(e);return Ge(()=>{t.current=e},[e]),t}let se=function(e){let t=od(e);return At.useCallback((...n)=>t.current(...n),[t])};function Ij(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function qj(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function Gj({disabled:e=!1}={}){let t=O.useRef(null),[n,i]=O.useState(!1),r=mp(),a=se(()=>{t.current=null,i(!1),r.dispose()}),l=se(u=>{if(r.dispose(),t.current===null){t.current=u.currentTarget,i(!0);{let h=yc(u.currentTarget);r.addEventListener(h,"pointerup",a,!1),r.addEventListener(h,"pointermove",f=>{if(t.current){let d=Ij(f);i(qj(d,t.current.getBoundingClientRect()))}},!1),r.addEventListener(h,"pointercancel",a,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:l,onPointerUp:a,onClick:a}}}let Yj=O.createContext(void 0);function FO(){return O.useContext(Yj)}function vM(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function gc(e,t,...n){if(e in t){let r=t[e];return typeof r=="function"?r(...n):r}let i=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,gc),i}var v1=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(v1||{}),Xj=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Xj||{});function Hi(){let e=Kj();return O.useCallback(t=>Zj({mergeRefs:e,...t}),[e])}function Zj({ourProps:e,theirProps:t,slot:n,defaultTag:i,features:r,visible:a=!0,name:l,mergeRefs:u}){u=u??Qj;let h=jO(t,e);if(a)return Hm(h,n,i,l,u);let f=r??0;if(f&2){let{static:d=!1,...p}=h;if(d)return Hm(p,n,i,l,u)}if(f&1){let{unmount:d=!0,...p}=h;return gc(d?0:1,{0(){return null},1(){return Hm({...p,hidden:!0,style:{display:"none"}},n,i,l,u)}})}return Hm(h,n,i,l,u)}function Hm(e,t={},n,i,r){let{as:a=n,children:l,refName:u="ref",...h}=ug(e,["unmount","static"]),f=e.ref!==void 0?{[u]:e.ref}:{},d=typeof l=="function"?l(t):l;"className"in h&&h.className&&typeof h.className=="function"&&(h.className=h.className(t)),h["aria-labelledby"]&&h["aria-labelledby"]===h.id&&(h["aria-labelledby"]=void 0);let p={};if(t){let y=!1,_=[];for(let[v,w]of Object.entries(t))typeof w=="boolean"&&(y=!0),w===!0&&_.push(v.replace(/([A-Z])/g,E=>`-${E.toLowerCase()}`));if(y){p["data-headlessui-state"]=_.join(" ");for(let v of _)p[`data-${v}`]=""}}if(a===O.Fragment&&(Object.keys(Bl(h)).length>0||Object.keys(Bl(p)).length>0))if(!O.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(Bl(h)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Bl(h)).concat(Object.keys(Bl(p))).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`))}else{let y=d.props,_=y==null?void 0:y.className,v=typeof _=="function"?(...M)=>vM(_(...M),h.className):vM(_,h.className),w=v?{className:v}:{},E=jO(d.props,Bl(ug(h,["ref"])));for(let M in p)M in E&&delete p[M];return O.cloneElement(d,Object.assign({},E,p,f,{ref:r(Wj(d),f.ref)},w))}return O.createElement(a,Object.assign({},ug(h,["ref"]),a!==O.Fragment&&f,a!==O.Fragment&&p),d)}function Kj(){let e=O.useRef([]),t=O.useCallback(n=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(n):i.current=n)},[]);return(...n)=>{if(!n.every(i=>i==null))return e.current=n,t}}function Qj(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function jO(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let i of e)for(let r in i)r.startsWith("on")&&typeof i[r]=="function"?(n[r]!=null||(n[r]=[]),n[r].push(i[r])):t[r]=i[r];if(t.disabled||t["aria-disabled"])for(let i in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(i)&&(n[i]=[r=>{var a;return(a=r==null?void 0:r.preventDefault)==null?void 0:a.call(r)}]);for(let i in n)Object.assign(t,{[i](r,...a){let l=n[i];for(let u of l){if((r instanceof Event||(r==null?void 0:r.nativeEvent)instanceof Event)&&r.defaultPrevented)return;u(r,...a)}}});return t}function VO(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let i of e)for(let r in i)r.startsWith("on")&&typeof i[r]=="function"?(n[r]!=null||(n[r]=[]),n[r].push(i[r])):t[r]=i[r];for(let i in n)Object.assign(t,{[i](...r){let a=n[i];for(let l of a)l==null||l(...r)}});return t}function Ii(e){var t;return Object.assign(O.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Bl(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function ug(e,t=[]){let n=Object.assign({},e);for(let i of t)i in n&&delete n[i];return n}function Wj(e){return At.version.split(".")[0]>="19"?e.props.ref:e.ref}let Jj=O.createContext(void 0);function tV(){return O.useContext(Jj)}function pv(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function pp(e){return pv(e)&&"tagName"in e}function Os(e){return pp(e)&&"accessKey"in e}function fo(e){return pp(e)&&"tabIndex"in e}function eV(e){return pp(e)&&"style"in e}function nV(e){return Os(e)&&e.nodeName==="IFRAME"}function $O(e){return Os(e)&&e.nodeName==="INPUT"}function xM(e){return Os(e)&&e.nodeName==="LABEL"}function iV(e){return Os(e)&&e.nodeName==="FIELDSET"}function HO(e){return Os(e)&&e.nodeName==="LEGEND"}function rV(e){return pp(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function sV(e){let t=e.parentElement,n=null;for(;t&&!iV(t);)HO(t)&&(n=t),t=t.parentElement;let i=(t==null?void 0:t.getAttribute("disabled"))==="";return i&&aV(n)?!1:i}function aV(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(HO(t))return!1;t=t.previousElementSibling}return!0}let IO=Symbol();function oV(e,t=!0){return Object.assign(e,{[IO]:t})}function zs(...e){let t=O.useRef(e);O.useEffect(()=>{t.current=e},[e]);let n=se(i=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(i):r.current=i)});return e.every(i=>i==null||(i==null?void 0:i[IO]))?void 0:n}let _v=O.createContext(null);_v.displayName="DescriptionContext";function qO(){let e=O.useContext(_v);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,qO),t}return e}function lV(){let[e,t]=O.useState([]);return[e.length>0?e.join(" "):void 0,O.useMemo(()=>function(n){let i=se(a=>(t(l=>[...l,a]),()=>t(l=>{let u=l.slice(),h=u.indexOf(a);return h!==-1&&u.splice(h,1),u}))),r=O.useMemo(()=>({register:i,slot:n.slot,name:n.name,props:n.props,value:n.value}),[i,n.slot,n.name,n.props,n.value]);return At.createElement(_v.Provider,{value:r},n.children)},[t])]}let uV="p";function cV(e,t){let n=O.useId(),i=FO(),{id:r=`headlessui-description-${n}`,...a}=e,l=qO(),u=zs(t);Ge(()=>l.register(r),[r,l.register]);let h=i||!1,f=O.useMemo(()=>({...l.slot,disabled:h}),[l.slot,h]),d={ref:u,...l.props,id:r};return Hi()({ourProps:d,theirProps:a,slot:f,defaultTag:uV,name:l.name||"Description"})}let hV=Ii(cV);Object.assign(hV,{});var hn=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(hn||{});let _p=O.createContext(null);_p.displayName="LabelContext";function yv(){let e=O.useContext(_p);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,yv),t}return e}function fV(e){var t,n,i;let r=(n=(t=O.useContext(_p))==null?void 0:t.value)!=null?n:void 0;return((i=void 0)!=null?i:0)>0?[r,...e].filter(Boolean).join(" "):r}function GO({inherit:e=!1}={}){let t=fV(),[n,i]=O.useState([]),r=e?[t,...n].filter(Boolean):n;return[r.length>0?r.join(" "):void 0,O.useMemo(()=>function(a){let l=se(h=>(i(f=>[...f,h]),()=>i(f=>{let d=f.slice(),p=d.indexOf(h);return p!==-1&&d.splice(p,1),d}))),u=O.useMemo(()=>({register:l,slot:a.slot,name:a.name,props:a.props,value:a.value}),[l,a.slot,a.name,a.props,a.value]);return At.createElement(_p.Provider,{value:u},a.children)},[i])]}let dV="label";function mV(e,t){var n;let i=O.useId(),r=yv(),a=tV(),l=FO(),{id:u=`headlessui-label-${i}`,htmlFor:h=a??((n=r.props)==null?void 0:n.htmlFor),passive:f=!1,...d}=e,p=zs(t);Ge(()=>r.register(u),[u,r.register]);let y=se(E=>{let M=E.currentTarget;if(!(E.target!==E.currentTarget&&rV(E.target))&&(xM(M)&&E.preventDefault(),r.props&&"onClick"in r.props&&typeof r.props.onClick=="function"&&r.props.onClick(E),xM(M))){let R=document.getElementById(M.htmlFor);if(R){let z=R.getAttribute("disabled");if(z==="true"||z==="")return;let D=R.getAttribute("aria-disabled");if(D==="true"||D==="")return;($O(R)&&(R.type==="file"||R.type==="radio"||R.type==="checkbox")||R.role==="radio"||R.role==="checkbox"||R.role==="switch")&&R.click(),R.focus({preventScroll:!0})}}}),_=l||!1,v=O.useMemo(()=>({...r.slot,disabled:_}),[r.slot,_]),w={ref:p,...r.props,id:u,htmlFor:h,onClick:y};return f&&("onClick"in w&&(delete w.htmlFor,delete w.onClick),"onClick"in d&&delete d.onClick),Hi()({ourProps:w,theirProps:d,slot:v,defaultTag:h?dV:"div",name:r.name||"Label"})}let pV=Ii(mV);Object.assign(pV,{});function _V(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function yV(e,t=!1){let[n,i]=O.useReducer(()=>({}),{}),r=O.useMemo(()=>_V(e),[e,n]);return Ge(()=>{if(!e)return;let a=new ResizeObserver(i);return a.observe(e),()=>{a.disconnect()}},[e]),t?{width:`${r.width}px`,height:`${r.height}px`}:r}let YO=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var gV=Object.defineProperty,vV=(e,t,n)=>t in e?gV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xV=(e,t,n)=>(vV(e,t+"",n),n),XO=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Ni=(e,t,n)=>(XO(e,t,"read from private field"),n?n.call(e):t.get(e)),cg=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},bM=(e,t,n,i)=>(XO(e,t,"write to private field"),t.set(e,n),n),gr,Vh,$h;let ZO=class{constructor(t){cg(this,gr,{}),cg(this,Vh,new YO(()=>new Set)),cg(this,$h,new Set),xV(this,"disposables",$i()),bM(this,gr,t),Or.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Ni(this,gr)}subscribe(t,n){if(Or.isServer)return()=>{};let i={selector:t,callback:n,current:t(Ni(this,gr))};return Ni(this,$h).add(i),this.disposables.add(()=>{Ni(this,$h).delete(i)})}on(t,n){return Or.isServer?()=>{}:(Ni(this,Vh).get(t).add(n),this.disposables.add(()=>{Ni(this,Vh).get(t).delete(n)}))}send(t){let n=this.reduce(Ni(this,gr),t);if(n!==Ni(this,gr)){bM(this,gr,n);for(let i of Ni(this,$h)){let r=i.selector(Ni(this,gr));KO(i.current,r)||(i.current=r,i.callback(r))}for(let i of Ni(this,Vh).get(t.type))i(Ni(this,gr),t)}}};gr=new WeakMap,Vh=new WeakMap,$h=new WeakMap;function KO(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:hg(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:hg(e.entries(),t.entries()):wM(e)&&wM(t)?hg(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function hg(e,t){do{let n=e.next(),i=t.next();if(n.done&&i.done)return!0;if(n.done||i.done||!Object.is(n.value,i.value))return!1}while(!0)}function wM(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}function EM(e){let[t,n]=e(),i=$i();return(...r)=>{t(...r),i.dispose(),i.microTask(n)}}var bV=Object.defineProperty,wV=(e,t,n)=>t in e?bV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,TM=(e,t,n)=>(wV(e,typeof t!="symbol"?t+"":t,n),n),QO=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(QO||{});let EV={0(e,t){let n=t.id,i=e.stack,r=e.stack.indexOf(n);if(r!==-1){let a=e.stack.slice();return a.splice(r,1),a.push(n),i=a,{...e,stack:i}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,i=e.stack.indexOf(n);if(i===-1)return e;let r=e.stack.slice();return r.splice(i,1),{...e,stack:r}}},TV=class WO extends ZO{constructor(){super(...arguments),TM(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),TM(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new WO({stack:[]})}reduce(t,n){return gc(n.type,EV,t,n)}};const gv=new YO(()=>TV.new());var fg={exports:{}},dg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MM;function MV(){if(MM)return dg;MM=1;var e=sp();function t(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,r=e.useRef,a=e.useEffect,l=e.useMemo,u=e.useDebugValue;return dg.useSyncExternalStoreWithSelector=function(h,f,d,p,y){var _=r(null);if(_.current===null){var v={hasValue:!1,value:null};_.current=v}else v=_.current;_=l(function(){function E(C){if(!M){if(M=!0,R=C,C=p(C),y!==void 0&&v.hasValue){var N=v.value;if(y(N,C))return z=N}return z=C}if(N=z,n(R,C))return N;var k=p(C);return y!==void 0&&y(N,k)?(R=C,N):(R=C,z=k)}var M=!1,R,z,D=d===void 0?null:d;return[function(){return E(f())},D===null?void 0:function(){return E(D())}]},[f,d,p,y]);var w=i(h,_[0],_[1]);return a(function(){v.hasValue=!0,v.value=w},[w]),u(w),w},dg}var SM;function SV(){return SM||(SM=1,fg.exports=MV()),fg.exports}var AV=SV();function Cr(e,t,n=KO){return AV.useSyncExternalStoreWithSelector(se(i=>e.subscribe(CV,i)),se(()=>e.state),se(()=>e.state),se(t),n)}function CV(e){return e}function JO(e,t){let n=O.useId(),i=gv.get(t),[r,a]=Cr(i,O.useCallback(l=>[i.selectors.isTop(l,n),i.selectors.inStack(l,n)],[i,n]));return Ge(()=>{if(e)return i.actions.push(n),()=>i.actions.pop(n)},[i,e,n]),e?a?r:!0:!1}let x1=new Map,Yh=new Map;function AM(e){var t;let n=(t=Yh.get(e))!=null?t:0;return Yh.set(e,n+1),n!==0?()=>CM(e):(x1.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>CM(e))}function CM(e){var t;let n=(t=Yh.get(e))!=null?t:1;if(n===1?Yh.delete(e):Yh.set(e,n-1),n!==1)return;let i=x1.get(e);i&&(i["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",i["aria-hidden"]),e.inert=i.inert,x1.delete(e))}function RV(e,{allowed:t,disallowed:n}={}){let i=JO(e,"inert-others");Ge(()=>{var r,a;if(!i)return;let l=$i();for(let h of(r=n==null?void 0:n())!=null?r:[])h&&l.add(AM(h));let u=(a=t==null?void 0:t())!=null?a:[];for(let h of u){if(!h)continue;let f=yc(h);if(!f)continue;let d=h.parentElement;for(;d&&d!==f.body;){for(let p of d.children)u.some(y=>p.contains(y))||l.add(AM(p));d=d.parentElement}}return l.dispose},[i,t,n])}function OV(e,t,n){let i=od(r=>{let a=r.getBoundingClientRect();a.x===0&&a.y===0&&a.width===0&&a.height===0&&n()});O.useEffect(()=>{if(!e)return;let r=t===null?null:Os(t)?t:t.current;if(!r)return;let a=$i();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>i.current(r));l.observe(r),a.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>i.current(r));l.observe(r),a.add(()=>l.disconnect())}return()=>a.dispose()},[t,i,e])}let b1=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),zV=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var w1=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(w1||{}),DV=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(DV||{}),LV=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(LV||{});function t5(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(b1)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function UV(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(zV)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var vv=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(vv||{});function xv(e,t=0){var n;return e===((n=yc(e))==null?void 0:n.body)?!1:gc(t,{0(){return e.matches(b1)},1(){let i=e;for(;i!==null;){if(i.matches(b1))return!0;i=i.parentElement}return!1}})}function e5(e){let t=yc(e);$i().nextFrame(()=>{t&&fo(t.activeElement)&&!xv(t.activeElement,0)&&kV(e)})}var NV=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(NV||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function kV(e){e==null||e.focus({preventScroll:!0})}let PV=["textarea","input"].join(",");function BV(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,PV))!=null?n:!1}function n5(e,t=n=>n){return e.slice().sort((n,i)=>{let r=t(n),a=t(i);if(r===null||a===null)return 0;let l=r.compareDocumentPosition(a);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function FV(e,t){return jV(t5(),t,{relativeTo:e})}function jV(e,t,{sorted:n=!0,relativeTo:i=null,skipElements:r=[]}={}){let a=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,l=Array.isArray(e)?n?n5(e):e:t&64?UV(e):t5(e);r.length>0&&l.length>1&&(l=l.filter(_=>!r.some(v=>v!=null&&"current"in v?(v==null?void 0:v.current)===_:v===_))),i=i??a.activeElement;let u=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(i))-1;if(t&4)return Math.max(0,l.indexOf(i))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},d=0,p=l.length,y;do{if(d>=p||d+p<=0)return 0;let _=h+d;if(t&16)_=(_+p)%p;else{if(_<0)return 3;if(_>=p)return 1}y=l[_],y==null||y.focus(f),d+=u}while(y!==a.activeElement);return t&6&&BV(y)&&y.select(),2}function i5(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function VV(){return/Android/gi.test(window.navigator.userAgent)}function RM(){return i5()||VV()}function jl(e,t,n,i){let r=od(n);O.useEffect(()=>{if(!e)return;function a(l){r.current(l)}return document.addEventListener(t,a,i),()=>document.removeEventListener(t,a,i)},[e,t,i])}function $V(e,t,n,i){let r=od(n);O.useEffect(()=>{if(!e)return;function a(l){r.current(l)}return window.addEventListener(t,a,i),()=>window.removeEventListener(t,a,i)},[e,t,i])}const OM=30;function HV(e,t,n){let i=od(n),r=O.useCallback(function(u,h){if(u.defaultPrevented)return;let f=h(u);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let d=function p(y){return typeof y=="function"?p(y()):Array.isArray(y)||y instanceof Set?y:[y]}(t);for(let p of d)if(p!==null&&(p.contains(f)||u.composed&&u.composedPath().includes(p)))return;return!xv(f,vv.Loose)&&f.tabIndex!==-1&&u.preventDefault(),i.current(u,f)},[i,t]),a=O.useRef(null);jl(e,"pointerdown",u=>{var h,f;RM()||(a.current=((f=(h=u.composedPath)==null?void 0:h.call(u))==null?void 0:f[0])||u.target)},!0),jl(e,"pointerup",u=>{if(RM()||!a.current)return;let h=a.current;return a.current=null,r(u,()=>h)},!0);let l=O.useRef({x:0,y:0});jl(e,"touchstart",u=>{l.current.x=u.touches[0].clientX,l.current.y=u.touches[0].clientY},!0),jl(e,"touchend",u=>{let h={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY};if(!(Math.abs(h.x-l.current.x)>=OM||Math.abs(h.y-l.current.y)>=OM))return r(u,()=>fo(u.target)?u.target:null)},!0),$V(e,"blur",u=>r(u,()=>nV(window.document.activeElement)?window.document.activeElement:null),!0)}function E1(...e){return O.useMemo(()=>yc(...e),[...e])}var IV=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(IV||{});const Im={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},qV=200,zM=5;function GV(e,{trigger:t,action:n,close:i,select:r}){let a=O.useRef(null),l=O.useRef(null),u=O.useRef(null);jl(e&&t!==null,"pointerdown",h=>{pv(h==null?void 0:h.target)&&t!=null&&t.contains(h.target)&&(l.current=h.x,u.current=h.y,a.current=h.timeStamp)}),jl(e&&t!==null,"pointerup",h=>{var f,d;let p=a.current;if(p===null||(a.current=null,!fo(h.target))||Math.abs(h.x-((f=l.current)!=null?f:h.x))<zM&&Math.abs(h.y-((d=u.current)!=null?d:h.y))<zM)return;let y=n(h);switch(y.kind){case 0:return;case 1:{h.timeStamp-p>qV&&(r(y.target),i());break}case 2:{i();break}}},{capture:!0})}function YV(e,t){return O.useMemo(()=>{var n;if(e.type)return e.type;let i=(n=e.as)!=null?n:"button";if(typeof i=="string"&&i.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function XV(e){return O.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function ZV(e,t){let n=e(),i=new Set;return{getSnapshot(){return n},subscribe(r){return i.add(r),()=>i.delete(r)},dispatch(r,...a){let l=t[r].call(n,...a);l&&(n=l,i.forEach(u=>u()))}}}function KV(){let e;return{before({doc:t}){var n;let i=t.documentElement,r=(n=t.defaultView)!=null?n:window;e=Math.max(0,r.innerWidth-i.clientWidth)},after({doc:t,d:n}){let i=t.documentElement,r=Math.max(0,i.clientWidth-i.offsetWidth),a=Math.max(0,e-r);n.style(i,"paddingRight",`${a}px`)}}}function QV(){return i5()?{before({doc:e,d:t,meta:n}){function i(r){return n.containers.flatMap(a=>a()).some(a=>a.contains(r))}t.microTask(()=>{var r;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let u=$i();u.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>u.dispose()))}let a=(r=window.scrollY)!=null?r:window.pageYOffset,l=null;t.addEventListener(e,"click",u=>{if(fo(u.target))try{let h=u.target.closest("a");if(!h)return;let{hash:f}=new URL(h.href),d=e.querySelector(f);fo(d)&&!i(d)&&(l=d)}catch{}},!0),t.addEventListener(e,"touchstart",u=>{if(fo(u.target)&&eV(u.target))if(i(u.target)){let h=u.target;for(;h.parentElement&&i(h.parentElement);)h=h.parentElement;t.style(h,"overscrollBehavior","contain")}else t.style(u.target,"touchAction","none")}),t.addEventListener(e,"touchmove",u=>{if(fo(u.target)){if($O(u.target))return;if(i(u.target)){let h=u.target;for(;h.parentElement&&h.dataset.headlessuiPortal!==""&&!(h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth);)h=h.parentElement;h.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),t.add(()=>{var u;let h=(u=window.scrollY)!=null?u:window.pageYOffset;a!==h&&window.scrollTo(0,a),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function WV(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function JV(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let mo=ZV(()=>new Map,{PUSH(e,t){var n;let i=(n=this.get(e))!=null?n:{doc:e,count:0,d:$i(),meta:new Set};return i.count++,i.meta.add(t),this.set(e,i),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let i={doc:e,d:t,meta:JV(n)},r=[QV(),KV(),WV()];r.forEach(({before:a})=>a==null?void 0:a(i)),r.forEach(({after:a})=>a==null?void 0:a(i))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});mo.subscribe(()=>{let e=mo.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let i=t.get(n.doc)==="hidden",r=n.count!==0;(r&&!i||!r&&i)&&mo.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&mo.dispatch("TEARDOWN",n)}});function t$(e,t,n=()=>({containers:[]})){let i=XV(mo),r=t?i.get(t):void 0,a=r?r.count>0:!1;return Ge(()=>{if(!(!t||!e))return mo.dispatch("PUSH",t,n),()=>mo.dispatch("POP",t,n)},[e,t]),a}function e$(e,t,n=()=>[document.body]){let i=JO(e,"scroll-lock");t$(i,t,r=>{var a;return{containers:[...(a=r.containers)!=null?a:[],n]}})}function DM(e){return[e.screenX,e.screenY]}function n$(){let e=O.useRef([-1,-1]);return{wasMoved(t){let n=DM(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=DM(t)}}}function i$(e=0){let[t,n]=O.useState(e),i=O.useCallback(h=>n(h),[t]),r=O.useCallback(h=>n(f=>f|h),[t]),a=O.useCallback(h=>(t&h)===h,[t]),l=O.useCallback(h=>n(f=>f&~h),[n]),u=O.useCallback(h=>n(f=>f^h),[n]);return{flags:t,setFlag:i,addFlag:r,hasFlag:a,removeFlag:l,toggleFlag:u}}var r$={},LM,UM;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((LM=process==null?void 0:r$)==null?void 0:LM.NODE_ENV)==="test"&&typeof((UM=Element==null?void 0:Element.prototype)==null?void 0:UM.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var s$=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(s$||{});function a$(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function o$(e,t,n,i){let[r,a]=O.useState(n),{hasFlag:l,addFlag:u,removeFlag:h}=i$(e&&r?3:0),f=O.useRef(!1),d=O.useRef(!1),p=mp();return Ge(()=>{var y;if(e){if(n&&a(!0),!t){n&&u(3);return}return(y=void 0)==null||y.call(i,n),l$(t,{inFlight:f,prepare(){d.current?d.current=!1:d.current=f.current,f.current=!0,!d.current&&(n?(u(3),h(4)):(u(4),h(2)))},run(){d.current?n?(h(3),u(4)):(h(4),u(3)):n?h(1):u(1)},done(){var _;d.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(f.current=!1,h(7),n||a(!1),(_=void 0)==null||_.call(i,n))}})}},[e,n,t,p]),e?[r,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function l$(e,{prepare:t,run:n,done:i,inFlight:r}){let a=$i();return c$(e,{prepare:t,inFlight:r}),a.nextFrame(()=>{n(),a.requestAnimationFrame(()=>{a.add(u$(e,i))})}),a.dispose}function u$(e,t){var n,i;let r=$i();if(!e)return r.dispose;let a=!1;r.add(()=>{a=!0});let l=(i=(n=e.getAnimations)==null?void 0:n.call(e).filter(u=>u instanceof CSSTransition))!=null?i:[];return l.length===0?(t(),r.dispose):(Promise.allSettled(l.map(u=>u.finished)).then(()=>{a||t()}),r.dispose)}function c$(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let i=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=i}function h$(e,{container:t,accept:n,walk:i}){let r=O.useRef(n),a=O.useRef(i);O.useEffect(()=>{r.current=n,a.current=i},[n,i]),Ge(()=>{if(!t||!e)return;let l=yc(t);if(!l)return;let u=r.current,h=a.current,f=Object.assign(p=>u(p),{acceptNode:u}),d=l.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,f,!1);for(;d.nextNode();)h(d.currentNode)},[t,e,r,a])}function yp(){return typeof window<"u"}function vc(e){return r5(e)?(e.nodeName||"").toLowerCase():"#document"}function xi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function jr(e){var t;return(t=(r5(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function r5(e){return yp()?e instanceof Node||e instanceof xi(e).Node:!1}function Nn(e){return yp()?e instanceof Element||e instanceof xi(e).Element:!1}function Pr(e){return yp()?e instanceof HTMLElement||e instanceof xi(e).HTMLElement:!1}function NM(e){return!yp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof xi(e).ShadowRoot}const f$=new Set(["inline","contents"]);function ld(e){const{overflow:t,overflowX:n,overflowY:i,display:r}=cr(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!f$.has(r)}const d$=new Set(["table","td","th"]);function m$(e){return d$.has(vc(e))}const p$=[":popover-open",":modal"];function gp(e){return p$.some(t=>{try{return e.matches(t)}catch{return!1}})}const _$=["transform","translate","scale","rotate","perspective"],y$=["transform","translate","scale","rotate","perspective","filter"],g$=["paint","layout","strict","content"];function bv(e){const t=wv(),n=Nn(e)?cr(e):e;return _$.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||y$.some(i=>(n.willChange||"").includes(i))||g$.some(i=>(n.contain||"").includes(i))}function v$(e){let t=Da(e);for(;Pr(t)&&!ac(t);){if(bv(t))return t;if(gp(t))return null;t=Da(t)}return null}function wv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const x$=new Set(["html","body","#document"]);function ac(e){return x$.has(vc(e))}function cr(e){return xi(e).getComputedStyle(e)}function vp(e){return Nn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Da(e){if(vc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||NM(e)&&e.host||jr(e);return NM(t)?t.host:t}function s5(e){const t=Da(e);return ac(t)?e.ownerDocument?e.ownerDocument.body:e.body:Pr(t)&&ld(t)?t:s5(t)}function ef(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=s5(e),a=r===((i=e.ownerDocument)==null?void 0:i.body),l=xi(r);if(a){const u=T1(l);return t.concat(l,l.visualViewport||[],ld(r)?r:[],u&&n?ef(u):[])}return t.concat(r,ef(r,[],n))}function T1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function b$(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:i}=t;return n+"/"+i}).join(" "):navigator.userAgent}const Bo=Math.min,Tn=Math.max,nf=Math.round,qm=Math.floor,zr=e=>({x:e,y:e}),w$={left:"right",right:"left",bottom:"top",top:"bottom"},E$={start:"end",end:"start"};function kM(e,t,n){return Tn(e,Bo(t,n))}function xc(e,t){return typeof e=="function"?e(t):e}function La(e){return e.split("-")[0]}function ud(e){return e.split("-")[1]}function a5(e){return e==="x"?"y":"x"}function o5(e){return e==="y"?"height":"width"}const T$=new Set(["top","bottom"]);function bs(e){return T$.has(La(e))?"y":"x"}function l5(e){return a5(bs(e))}function M$(e,t,n){n===void 0&&(n=!1);const i=ud(e),r=l5(e),a=o5(r);let l=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=A0(l)),[l,A0(l)]}function S$(e){const t=A0(e);return[M1(e),t,M1(t)]}function M1(e){return e.replace(/start|end/g,t=>E$[t])}const PM=["left","right"],BM=["right","left"],A$=["top","bottom"],C$=["bottom","top"];function R$(e,t,n){switch(e){case"top":case"bottom":return n?t?BM:PM:t?PM:BM;case"left":case"right":return t?A$:C$;default:return[]}}function O$(e,t,n,i){const r=ud(e);let a=R$(La(e),n==="start",i);return r&&(a=a.map(l=>l+"-"+r),t&&(a=a.concat(a.map(M1)))),a}function A0(e){return e.replace(/left|right|bottom|top/g,t=>w$[t])}function z$(e){return{top:0,right:0,bottom:0,left:0,...e}}function D$(e){return typeof e!="number"?z$(e):{top:e,right:e,bottom:e,left:e}}function C0(e){const{x:t,y:n,width:i,height:r}=e;return{width:i,height:r,top:n,left:t,right:t+i,bottom:n+r,x:t,y:n}}function FM(e,t,n){let{reference:i,floating:r}=e;const a=bs(t),l=l5(t),u=o5(l),h=La(t),f=a==="y",d=i.x+i.width/2-r.width/2,p=i.y+i.height/2-r.height/2,y=i[u]/2-r[u]/2;let _;switch(h){case"top":_={x:d,y:i.y-r.height};break;case"bottom":_={x:d,y:i.y+i.height};break;case"right":_={x:i.x+i.width,y:p};break;case"left":_={x:i.x-r.width,y:p};break;default:_={x:i.x,y:i.y}}switch(ud(t)){case"start":_[l]-=y*(n&&f?-1:1);break;case"end":_[l]+=y*(n&&f?-1:1);break}return _}const L$=async(e,t,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:a=[],platform:l}=n,u=a.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:r}),{x:d,y:p}=FM(f,i,h),y=i,_={},v=0;for(let w=0;w<u.length;w++){const{name:E,fn:M}=u[w],{x:R,y:z,data:D,reset:C}=await M({x:d,y:p,initialPlacement:i,placement:y,strategy:r,middlewareData:_,rects:f,platform:l,elements:{reference:e,floating:t}});d=R??d,p=z??p,_={..._,[E]:{..._[E],...D}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(y=C.placement),C.rects&&(f=C.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:r}):C.rects),{x:d,y:p}=FM(f,y,h)),w=-1)}return{x:d,y:p,placement:y,strategy:r,middlewareData:_}};async function xp(e,t){var n;t===void 0&&(t={});const{x:i,y:r,platform:a,rects:l,elements:u,strategy:h}=e,{boundary:f="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:y=!1,padding:_=0}=xc(t,e),v=D$(_),E=u[y?p==="floating"?"reference":"floating":p],M=C0(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(E)))==null||n?E:E.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:f,rootBoundary:d,strategy:h})),R=p==="floating"?{x:i,y:r,width:l.floating.width,height:l.floating.height}:l.reference,z=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),D=await(a.isElement==null?void 0:a.isElement(z))?await(a.getScale==null?void 0:a.getScale(z))||{x:1,y:1}:{x:1,y:1},C=C0(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:R,offsetParent:z,strategy:h}):R);return{top:(M.top-C.top+v.top)/D.y,bottom:(C.bottom-M.bottom+v.bottom)/D.y,left:(M.left-C.left+v.left)/D.x,right:(C.right-M.right+v.right)/D.x}}const U$=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:r,middlewareData:a,rects:l,initialPlacement:u,platform:h,elements:f}=t,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:y,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:w=!0,...E}=xc(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const M=La(r),R=bs(u),z=La(u)===u,D=await(h.isRTL==null?void 0:h.isRTL(f.floating)),C=y||(z||!w?[A0(u)]:S$(u)),N=v!=="none";!y&&N&&C.push(...O$(u,w,v,D));const k=[u,...C],$=await xp(t,E),q=[];let X=((i=a.flip)==null?void 0:i.overflows)||[];if(d&&q.push($[M]),p){const et=M$(r,l,D);q.push($[et[0]],$[et[1]])}if(X=[...X,{placement:r,overflows:q}],!q.every(et=>et<=0)){var tt,at;const et=(((tt=a.flip)==null?void 0:tt.index)||0)+1,bt=k[et];if(bt&&(!(p==="alignment"?R!==bs(bt):!1)||X.every(ft=>bs(ft.placement)===R?ft.overflows[0]>0:!0)))return{data:{index:et,overflows:X},reset:{placement:bt}};let G=(at=X.filter(nt=>nt.overflows[0]<=0).sort((nt,ft)=>nt.overflows[1]-ft.overflows[1])[0])==null?void 0:at.placement;if(!G)switch(_){case"bestFit":{var J;const nt=(J=X.filter(ft=>{if(N){const ht=bs(ft.placement);return ht===R||ht==="y"}return!0}).map(ft=>[ft.placement,ft.overflows.filter(ht=>ht>0).reduce((ht,F)=>ht+F,0)]).sort((ft,ht)=>ft[1]-ht[1])[0])==null?void 0:J[0];nt&&(G=nt);break}case"initialPlacement":G=u;break}if(r!==G)return{reset:{placement:G}}}return{}}}},N$=new Set(["left","top"]);async function k$(e,t){const{placement:n,platform:i,elements:r}=e,a=await(i.isRTL==null?void 0:i.isRTL(r.floating)),l=La(n),u=ud(n),h=bs(n)==="y",f=N$.has(l)?-1:1,d=a&&h?-1:1,p=xc(t,e);let{mainAxis:y,crossAxis:_,alignmentAxis:v}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof v=="number"&&(_=u==="end"?v*-1:v),h?{x:_*d,y:y*f}:{x:y*f,y:_*d}}const P$=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:r,y:a,placement:l,middlewareData:u}=t,h=await k$(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(i=u.arrow)!=null&&i.alignmentOffset?{}:{x:r+h.x,y:a+h.y,data:{...h,placement:l}}}}},B$=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:r}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:E=>{let{x:M,y:R}=E;return{x:M,y:R}}},...h}=xc(e,t),f={x:n,y:i},d=await xp(t,h),p=bs(La(r)),y=a5(p);let _=f[y],v=f[p];if(a){const E=y==="y"?"top":"left",M=y==="y"?"bottom":"right",R=_+d[E],z=_-d[M];_=kM(R,_,z)}if(l){const E=p==="y"?"top":"left",M=p==="y"?"bottom":"right",R=v+d[E],z=v-d[M];v=kM(R,v,z)}const w=u.fn({...t,[y]:_,[p]:v});return{...w,data:{x:w.x-n,y:w.y-i,enabled:{[y]:a,[p]:l}}}}}},F$=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:r,rects:a,platform:l,elements:u}=t,{apply:h=()=>{},...f}=xc(e,t),d=await xp(t,f),p=La(r),y=ud(r),_=bs(r)==="y",{width:v,height:w}=a.floating;let E,M;p==="top"||p==="bottom"?(E=p,M=y===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(M=p,E=y==="end"?"top":"bottom");const R=w-d.top-d.bottom,z=v-d.left-d.right,D=Bo(w-d[E],R),C=Bo(v-d[M],z),N=!t.middlewareData.shift;let k=D,$=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&($=z),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(k=R),N&&!y){const X=Tn(d.left,0),tt=Tn(d.right,0),at=Tn(d.top,0),J=Tn(d.bottom,0);_?$=v-2*(X!==0||tt!==0?X+tt:Tn(d.left,d.right)):k=w-2*(at!==0||J!==0?at+J:Tn(d.top,d.bottom))}await h({...t,availableWidth:$,availableHeight:k});const q=await l.getDimensions(u.floating);return v!==q.width||w!==q.height?{reset:{rects:!0}}:{}}}};function u5(e){const t=cr(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const r=Pr(e),a=r?e.offsetWidth:n,l=r?e.offsetHeight:i,u=nf(n)!==a||nf(i)!==l;return u&&(n=a,i=l),{width:n,height:i,$:u}}function Ev(e){return Nn(e)?e:e.contextElement}function Kl(e){const t=Ev(e);if(!Pr(t))return zr(1);const n=t.getBoundingClientRect(),{width:i,height:r,$:a}=u5(t);let l=(a?nf(n.width):n.width)/i,u=(a?nf(n.height):n.height)/r;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const j$=zr(0);function c5(e){const t=xi(e);return!wv()||!t.visualViewport?j$:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function V$(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==xi(e)?!1:t}function Fo(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=Ev(e);let l=zr(1);t&&(i?Nn(i)&&(l=Kl(i)):l=Kl(e));const u=V$(a,n,i)?c5(a):zr(0);let h=(r.left+u.x)/l.x,f=(r.top+u.y)/l.y,d=r.width/l.x,p=r.height/l.y;if(a){const y=xi(a),_=i&&Nn(i)?xi(i):i;let v=y,w=T1(v);for(;w&&i&&_!==v;){const E=Kl(w),M=w.getBoundingClientRect(),R=cr(w),z=M.left+(w.clientLeft+parseFloat(R.paddingLeft))*E.x,D=M.top+(w.clientTop+parseFloat(R.paddingTop))*E.y;h*=E.x,f*=E.y,d*=E.x,p*=E.y,h+=z,f+=D,v=xi(w),w=T1(v)}}return C0({width:d,height:p,x:h,y:f})}function Tv(e,t){const n=vp(e).scrollLeft;return t?t.left+n:Fo(jr(e)).left+n}function h5(e,t,n){n===void 0&&(n=!1);const i=e.getBoundingClientRect(),r=i.left+t.scrollLeft-(n?0:Tv(e,i)),a=i.top+t.scrollTop;return{x:r,y:a}}function $$(e){let{elements:t,rect:n,offsetParent:i,strategy:r}=e;const a=r==="fixed",l=jr(i),u=t?gp(t.floating):!1;if(i===l||u&&a)return n;let h={scrollLeft:0,scrollTop:0},f=zr(1);const d=zr(0),p=Pr(i);if((p||!p&&!a)&&((vc(i)!=="body"||ld(l))&&(h=vp(i)),Pr(i))){const _=Fo(i);f=Kl(i),d.x=_.x+i.clientLeft,d.y=_.y+i.clientTop}const y=l&&!p&&!a?h5(l,h,!0):zr(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-h.scrollLeft*f.x+d.x+y.x,y:n.y*f.y-h.scrollTop*f.y+d.y+y.y}}function H$(e){return Array.from(e.getClientRects())}function I$(e){const t=jr(e),n=vp(e),i=e.ownerDocument.body,r=Tn(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),a=Tn(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let l=-n.scrollLeft+Tv(e);const u=-n.scrollTop;return cr(i).direction==="rtl"&&(l+=Tn(t.clientWidth,i.clientWidth)-r),{width:r,height:a,x:l,y:u}}function q$(e,t){const n=xi(e),i=jr(e),r=n.visualViewport;let a=i.clientWidth,l=i.clientHeight,u=0,h=0;if(r){a=r.width,l=r.height;const f=wv();(!f||f&&t==="fixed")&&(u=r.offsetLeft,h=r.offsetTop)}return{width:a,height:l,x:u,y:h}}const G$=new Set(["absolute","fixed"]);function Y$(e,t){const n=Fo(e,!0,t==="fixed"),i=n.top+e.clientTop,r=n.left+e.clientLeft,a=Pr(e)?Kl(e):zr(1),l=e.clientWidth*a.x,u=e.clientHeight*a.y,h=r*a.x,f=i*a.y;return{width:l,height:u,x:h,y:f}}function jM(e,t,n){let i;if(t==="viewport")i=q$(e,n);else if(t==="document")i=I$(jr(e));else if(Nn(t))i=Y$(t,n);else{const r=c5(e);i={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return C0(i)}function f5(e,t){const n=Da(e);return n===t||!Nn(n)||ac(n)?!1:cr(n).position==="fixed"||f5(n,t)}function X$(e,t){const n=t.get(e);if(n)return n;let i=ef(e,[],!1).filter(u=>Nn(u)&&vc(u)!=="body"),r=null;const a=cr(e).position==="fixed";let l=a?Da(e):e;for(;Nn(l)&&!ac(l);){const u=cr(l),h=bv(l);!h&&u.position==="fixed"&&(r=null),(a?!h&&!r:!h&&u.position==="static"&&!!r&&G$.has(r.position)||ld(l)&&!h&&f5(e,l))?i=i.filter(d=>d!==l):r=u,l=Da(l)}return t.set(e,i),i}function Z$(e){let{element:t,boundary:n,rootBoundary:i,strategy:r}=e;const l=[...n==="clippingAncestors"?gp(t)?[]:X$(t,this._c):[].concat(n),i],u=l[0],h=l.reduce((f,d)=>{const p=jM(t,d,r);return f.top=Tn(p.top,f.top),f.right=Bo(p.right,f.right),f.bottom=Bo(p.bottom,f.bottom),f.left=Tn(p.left,f.left),f},jM(t,u,r));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function K$(e){const{width:t,height:n}=u5(e);return{width:t,height:n}}function Q$(e,t,n){const i=Pr(t),r=jr(t),a=n==="fixed",l=Fo(e,!0,a,t);let u={scrollLeft:0,scrollTop:0};const h=zr(0);function f(){h.x=Tv(r)}if(i||!i&&!a)if((vc(t)!=="body"||ld(r))&&(u=vp(t)),i){const _=Fo(t,!0,a,t);h.x=_.x+t.clientLeft,h.y=_.y+t.clientTop}else r&&f();a&&!i&&r&&f();const d=r&&!i&&!a?h5(r,u):zr(0),p=l.left+u.scrollLeft-h.x-d.x,y=l.top+u.scrollTop-h.y-d.y;return{x:p,y,width:l.width,height:l.height}}function mg(e){return cr(e).position==="static"}function VM(e,t){if(!Pr(e)||cr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return jr(e)===n&&(n=n.ownerDocument.body),n}function d5(e,t){const n=xi(e);if(gp(e))return n;if(!Pr(e)){let r=Da(e);for(;r&&!ac(r);){if(Nn(r)&&!mg(r))return r;r=Da(r)}return n}let i=VM(e,t);for(;i&&m$(i)&&mg(i);)i=VM(i,t);return i&&ac(i)&&mg(i)&&!bv(i)?n:i||v$(e)||n}const W$=async function(e){const t=this.getOffsetParent||d5,n=this.getDimensions,i=await n(e.floating);return{reference:Q$(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function J$(e){return cr(e).direction==="rtl"}const tH={convertOffsetParentRelativeRectToViewportRelativeRect:$$,getDocumentElement:jr,getClippingRect:Z$,getOffsetParent:d5,getElementRects:W$,getClientRects:H$,getDimensions:K$,getScale:Kl,isElement:Nn,isRTL:J$};function m5(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function eH(e,t){let n=null,i;const r=jr(e);function a(){var u;clearTimeout(i),(u=n)==null||u.disconnect(),n=null}function l(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),a();const f=e.getBoundingClientRect(),{left:d,top:p,width:y,height:_}=f;if(u||t(),!y||!_)return;const v=qm(p),w=qm(r.clientWidth-(d+y)),E=qm(r.clientHeight-(p+_)),M=qm(d),z={rootMargin:-v+"px "+-w+"px "+-E+"px "+-M+"px",threshold:Tn(0,Bo(1,h))||1};let D=!0;function C(N){const k=N[0].intersectionRatio;if(k!==h){if(!D)return l();k?l(!1,k):i=setTimeout(()=>{l(!1,1e-7)},1e3)}k===1&&!m5(f,e.getBoundingClientRect())&&l(),D=!1}try{n=new IntersectionObserver(C,{...z,root:r.ownerDocument})}catch{n=new IntersectionObserver(C,z)}n.observe(e)}return l(!0),a}function nH(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,f=Ev(e),d=r||a?[...f?ef(f):[],...ef(t)]:[];d.forEach(M=>{r&&M.addEventListener("scroll",n,{passive:!0}),a&&M.addEventListener("resize",n)});const p=f&&u?eH(f,n):null;let y=-1,_=null;l&&(_=new ResizeObserver(M=>{let[R]=M;R&&R.target===f&&_&&(_.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var z;(z=_)==null||z.observe(t)})),n()}),f&&!h&&_.observe(f),_.observe(t));let v,w=h?Fo(e):null;h&&E();function E(){const M=Fo(e);w&&!m5(w,M)&&n(),w=M,v=requestAnimationFrame(E)}return n(),()=>{var M;d.forEach(R=>{r&&R.removeEventListener("scroll",n),a&&R.removeEventListener("resize",n)}),p==null||p(),(M=_)==null||M.disconnect(),_=null,h&&cancelAnimationFrame(v)}}const pg=xp,iH=P$,rH=B$,sH=U$,aH=F$,oH=(e,t,n)=>{const i=new Map,r={platform:tH,...n},a={...r.platform,_c:i};return L$(e,t,{...r,platform:a})};var lH=typeof document<"u",uH=function(){},f0=lH?O.useLayoutEffect:uH;function R0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!R0(e[i],t[i]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,r[i]))return!1;for(i=n;i--!==0;){const a=r[i];if(!(a==="_owner"&&e.$$typeof)&&!R0(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function p5(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $M(e,t){const n=p5(e);return Math.round(t*n)/n}function _g(e){const t=O.useRef(e);return f0(()=>{t.current=e}),t}function cH(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:h,open:f}=e,[d,p]=O.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[y,_]=O.useState(i);R0(y,i)||_(i);const[v,w]=O.useState(null),[E,M]=O.useState(null),R=O.useCallback(ft=>{ft!==N.current&&(N.current=ft,w(ft))},[]),z=O.useCallback(ft=>{ft!==k.current&&(k.current=ft,M(ft))},[]),D=a||v,C=l||E,N=O.useRef(null),k=O.useRef(null),$=O.useRef(d),q=h!=null,X=_g(h),tt=_g(r),at=_g(f),J=O.useCallback(()=>{if(!N.current||!k.current)return;const ft={placement:t,strategy:n,middleware:y};tt.current&&(ft.platform=tt.current),oH(N.current,k.current,ft).then(ht=>{const F={...ht,isPositioned:at.current!==!1};et.current&&!R0($.current,F)&&($.current=F,Ms.flushSync(()=>{p(F)}))})},[y,t,n,tt,at]);f0(()=>{f===!1&&$.current.isPositioned&&($.current.isPositioned=!1,p(ft=>({...ft,isPositioned:!1})))},[f]);const et=O.useRef(!1);f0(()=>(et.current=!0,()=>{et.current=!1}),[]),f0(()=>{if(D&&(N.current=D),C&&(k.current=C),D&&C){if(X.current)return X.current(D,C,J);J()}},[D,C,J,X,q]);const bt=O.useMemo(()=>({reference:N,floating:k,setReference:R,setFloating:z}),[R,z]),G=O.useMemo(()=>({reference:D,floating:C}),[D,C]),nt=O.useMemo(()=>{const ft={position:n,left:0,top:0};if(!G.floating)return ft;const ht=$M(G.floating,d.x),F=$M(G.floating,d.y);return u?{...ft,transform:"translate("+ht+"px, "+F+"px)",...p5(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ht,top:F}},[n,u,G.floating,d.x,d.y]);return O.useMemo(()=>({...d,update:J,refs:bt,elements:G,floatingStyles:nt}),[d,J,bt,G,nt])}const _5=(e,t)=>({...iH(e),options:[e,t]}),hH=(e,t)=>({...rH(e),options:[e,t]}),fH=(e,t)=>({...sH(e),options:[e,t]}),dH=(e,t)=>({...aH(e),options:[e,t]}),y5={...XA},mH=y5.useInsertionEffect,pH=mH||(e=>e());function g5(e){const t=O.useRef(()=>{});return pH(()=>{t.current=e}),O.useCallback(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.current==null?void 0:t.current(...i)},[])}var S1=typeof document<"u"?O.useLayoutEffect:O.useEffect;let HM=!1,_H=0;const IM=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+_H++;function yH(){const[e,t]=O.useState(()=>HM?IM():void 0);return S1(()=>{e==null&&t(IM())},[]),O.useEffect(()=>{HM=!0},[]),e}const gH=y5.useId,vH=gH||yH;function xH(){const e=new Map;return{emit(t,n){var i;(i=e.get(t))==null||i.forEach(r=>r(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var i;e.set(t,((i=e.get(t))==null?void 0:i.filter(r=>r!==n))||[])}}}const bH=O.createContext(null),wH=O.createContext(null),EH=()=>{var e;return((e=O.useContext(bH))==null?void 0:e.id)||null},TH=()=>O.useContext(wH),MH="data-floating-ui-focusable";function SH(e){const{open:t=!1,onOpenChange:n,elements:i}=e,r=vH(),a=O.useRef({}),[l]=O.useState(()=>xH()),u=EH()!=null,[h,f]=O.useState(i.reference),d=g5((_,v,w)=>{a.current.openEvent=_?v:void 0,l.emit("openchange",{open:_,event:v,reason:w,nested:u}),n==null||n(_,v,w)}),p=O.useMemo(()=>({setPositionReference:f}),[]),y=O.useMemo(()=>({reference:h||i.reference||null,floating:i.floating||null,domReference:i.reference}),[h,i.reference,i.floating]);return O.useMemo(()=>({dataRef:a,open:t,onOpenChange:d,elements:y,events:l,floatingId:r,refs:p}),[t,d,y,l,r,p])}function AH(e){e===void 0&&(e={});const{nodeId:t}=e,n=SH({...e,elements:{reference:null,floating:null,...e.elements}}),i=e.rootContext||n,r=i.elements,[a,l]=O.useState(null),[u,h]=O.useState(null),d=(r==null?void 0:r.domReference)||a,p=O.useRef(null),y=TH();S1(()=>{d&&(p.current=d)},[d]);const _=cH({...e,elements:{...r,...u&&{reference:u}}}),v=O.useCallback(z=>{const D=Nn(z)?{getBoundingClientRect:()=>z.getBoundingClientRect(),contextElement:z}:z;h(D),_.refs.setReference(D)},[_.refs]),w=O.useCallback(z=>{(Nn(z)||z===null)&&(p.current=z,l(z)),(Nn(_.refs.reference.current)||_.refs.reference.current===null||z!==null&&!Nn(z))&&_.refs.setReference(z)},[_.refs]),E=O.useMemo(()=>({..._.refs,setReference:w,setPositionReference:v,domReference:p}),[_.refs,w,v]),M=O.useMemo(()=>({..._.elements,domReference:d}),[_.elements,d]),R=O.useMemo(()=>({..._,...i,refs:E,elements:M,nodeId:t}),[_,E,M,t,i]);return S1(()=>{i.dataRef.current.floatingContext=R;const z=y==null?void 0:y.nodesRef.current.find(D=>D.id===t);z&&(z.context=R)}),O.useMemo(()=>({..._,context:R,refs:E,elements:M}),[_,E,M,R])}const qM="active",GM="selected";function yg(e,t,n){const i=new Map,r=n==="item";let a=e;if(r&&e){const{[qM]:l,[GM]:u,...h}=e;a=h}return{...n==="floating"&&{tabIndex:-1,[MH]:""},...a,...t.map(l=>{const u=l?l[n]:null;return typeof u=="function"?e?u(e):null:u}).concat(e).reduce((l,u)=>(u&&Object.entries(u).forEach(h=>{let[f,d]=h;if(!(r&&[qM,GM].includes(f)))if(f.indexOf("on")===0){if(i.has(f)||i.set(f,[]),typeof d=="function"){var p;(p=i.get(f))==null||p.push(d),l[f]=function(){for(var y,_=arguments.length,v=new Array(_),w=0;w<_;w++)v[w]=arguments[w];return(y=i.get(f))==null?void 0:y.map(E=>E(...v)).find(E=>E!==void 0)}}}else l[f]=d}),l),{})}}function CH(e){e===void 0&&(e=[]);const t=e.map(u=>u==null?void 0:u.reference),n=e.map(u=>u==null?void 0:u.floating),i=e.map(u=>u==null?void 0:u.item),r=O.useCallback(u=>yg(u,e,"reference"),t),a=O.useCallback(u=>yg(u,e,"floating"),n),l=O.useCallback(u=>yg(u,e,"item"),i);return O.useMemo(()=>({getReferenceProps:r,getFloatingProps:a,getItemProps:l}),[r,a,l])}function YM(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const RH=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:i,onFallbackChange:r,offset:a=0,index:l=0,minItemsVisible:u=4,referenceOverflowThreshold:h=0,scrollRef:f,...d}=xc(e,t),{rects:p,elements:{floating:y}}=t,_=n.current[l],v=(f==null?void 0:f.current)||y,w=y.clientTop||v.clientTop,E=y.clientTop!==0,M=v.clientTop!==0,R=y===v;if(!_)return{};const z={...t,...await _5(-_.offsetTop-y.clientTop-p.reference.height/2-_.offsetHeight/2-a).fn(t)},D=await pg(YM(z,v.scrollHeight+w+y.clientTop),d),C=await pg(z,{...d,elementContext:"reference"}),N=Tn(0,D.top),k=z.y+N,X=(v.scrollHeight>v.clientHeight?tt=>tt:nf)(Tn(0,v.scrollHeight+(E&&R||M?w*2:0)-N-Tn(0,D.bottom)));if(v.style.maxHeight=X+"px",v.scrollTop=N,r){const tt=v.offsetHeight<_.offsetHeight*Bo(u,n.current.length)-1||C.top>=-h||C.bottom>=-h;Ms.flushSync(()=>r(tt))}return i&&(i.current=await pg(YM({...z,y:k},v.offsetHeight+w+y.clientTop),d)),{y:k}}});function OH(e,t){const{open:n,elements:i}=e,{enabled:r=!0,overflowRef:a,scrollRef:l,onChange:u}=t,h=g5(u),f=O.useRef(!1),d=O.useRef(null),p=O.useRef(null);O.useEffect(()=>{if(!r)return;function _(w){if(w.ctrlKey||!v||a.current==null)return;const E=w.deltaY,M=a.current.top>=-.5,R=a.current.bottom>=-.5,z=v.scrollHeight-v.clientHeight,D=E<0?-1:1,C=E<0?"max":"min";v.scrollHeight<=v.clientHeight||(!M&&E>0||!R&&E<0?(w.preventDefault(),Ms.flushSync(()=>{h(N=>N+Math[C](E,z*D))})):/firefox/i.test(b$())&&(v.scrollTop+=E))}const v=(l==null?void 0:l.current)||i.floating;if(n&&v)return v.addEventListener("wheel",_),requestAnimationFrame(()=>{d.current=v.scrollTop,a.current!=null&&(p.current={...a.current})}),()=>{d.current=null,p.current=null,v.removeEventListener("wheel",_)}},[r,n,i.floating,a,l,h]);const y=O.useMemo(()=>({onKeyDown(){f.current=!0},onWheel(){f.current=!1},onPointerMove(){f.current=!1},onScroll(){const _=(l==null?void 0:l.current)||i.floating;if(!(!a.current||!_||!f.current)){if(d.current!==null){const v=_.scrollTop-d.current;(a.current.bottom<-.5&&v<-1||a.current.top<-.5&&v>1)&&Ms.flushSync(()=>h(w=>w+v))}requestAnimationFrame(()=>{d.current=_.scrollTop})}}}),[i.floating,h,a,l]);return O.useMemo(()=>r?{floating:y}:{},[r,y])}let bc=O.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});bc.displayName="FloatingContext";let Mv=O.createContext(null);Mv.displayName="PlacementContext";function zH(e){return O.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function DH(){return O.useContext(bc).setReference}function LH(){return O.useContext(bc).getReferenceProps}function UH(){let{getFloatingProps:e,slot:t}=O.useContext(bc);return O.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function NH(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=O.useContext(Mv),n=O.useMemo(()=>e,[JSON.stringify(e,(r,a)=>{var l;return(l=a==null?void 0:a.outerHTML)!=null?l:a})]);Ge(()=>{t==null||t(n??null)},[t,n]);let i=O.useContext(bc);return O.useMemo(()=>[i.setFloating,e?i.styles:{}],[i.setFloating,e,i.styles])}let XM=4;function kH({children:e,enabled:t=!0}){let[n,i]=O.useState(null),[r,a]=O.useState(0),l=O.useRef(null),[u,h]=O.useState(null);PH(u);let f=t&&n!==null&&u!==null,{to:d="bottom",gap:p=0,offset:y=0,padding:_=0,inner:v}=BH(n,u),[w,E="center"]=d.split(" ");Ge(()=>{f&&a(0)},[f]);let{refs:M,floatingStyles:R,context:z}=AH({open:f,placement:w==="selection"?E==="center"?"bottom":`bottom-${E}`:E==="center"?`${w}`:`${w}-${E}`,strategy:"absolute",transform:!1,middleware:[_5({mainAxis:w==="selection"?0:p,crossAxis:y}),hH({padding:_}),w!=="selection"&&fH({padding:_}),w==="selection"&&v?RH({...v,padding:_,overflowRef:l,offset:r,minItemsVisible:XM,referenceOverflowThreshold:_,onFallbackChange(tt){var at,J;if(!tt)return;let et=z.elements.floating;if(!et)return;let bt=parseFloat(getComputedStyle(et).scrollPaddingBottom)||0,G=Math.min(XM,et.childElementCount),nt=0,ft=0;for(let ht of(J=(at=z.elements.floating)==null?void 0:at.childNodes)!=null?J:[])if(Os(ht)){let F=ht.offsetTop,ot=F+ht.clientHeight+bt,vt=et.scrollTop,wt=vt+et.clientHeight;if(F>=vt&&ot<=wt)G--;else{ft=Math.max(0,Math.min(ot,wt)-Math.max(F,vt)),nt=ht.clientHeight;break}}G>=1&&a(ht=>{let F=nt*G-ft+bt;return ht>=F?ht:F})}}):null,dH({padding:_,apply({availableWidth:tt,availableHeight:at,elements:J}){Object.assign(J.floating.style,{overflow:"auto",maxWidth:`${tt}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${at}px)`})}})].filter(Boolean),whileElementsMounted:nH}),[D=w,C=E]=z.placement.split("-");w==="selection"&&(D="selection");let N=O.useMemo(()=>({anchor:[D,C].filter(Boolean).join(" ")}),[D,C]),k=OH(z,{overflowRef:l,onChange:a}),{getReferenceProps:$,getFloatingProps:q}=CH([k]),X=se(tt=>{h(tt),M.setFloating(tt)});return O.createElement(Mv.Provider,{value:i},O.createElement(bc.Provider,{value:{setFloating:X,setReference:M.setReference,styles:R,getReferenceProps:$,getFloatingProps:q,slot:N}},e))}function PH(e){Ge(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,i=parseFloat(n);if(isNaN(i))return;let r=parseInt(n);isNaN(r)||i!==r&&(e.style.maxHeight=`${Math.ceil(i)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function BH(e,t){var n,i,r;let a=gg((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),l=gg((i=e==null?void 0:e.offset)!=null?i:"var(--anchor-offset, 0)",t),u=gg((r=e==null?void 0:e.padding)!=null?r:"var(--anchor-padding, 0)",t);return{...e,gap:a,offset:l,padding:u}}function gg(e,t,n=void 0){let i=mp(),r=se((h,f)=>{if(h==null)return[n,null];if(typeof h=="number")return[h,null];if(typeof h=="string"){if(!f)return[n,null];let d=ZM(h,f);return[d,p=>{let y=v5(h);{let _=y.map(v=>window.getComputedStyle(f).getPropertyValue(v));i.requestAnimationFrame(function v(){i.nextFrame(v);let w=!1;for(let[M,R]of y.entries()){let z=window.getComputedStyle(f).getPropertyValue(R);if(_[M]!==z){_[M]=z,w=!0;break}}if(!w)return;let E=ZM(h,f);d!==E&&(p(E),d=E)})}return i.dispose}]}return[n,null]}),a=O.useMemo(()=>r(e,t)[0],[e,t]),[l=a,u]=O.useState();return Ge(()=>{let[h,f]=r(e,t);if(u(h),!!f)return f(u)},[e,t]),l}function v5(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let i=t[1].slice(0,n).trim(),r=t[1].slice(n+1).trim();return r?[i,...v5(r)]:[i]}return[]}function ZM(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let i=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),i}let Sv=O.createContext(null);Sv.displayName="OpenClosedContext";var rf=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(rf||{});function FH(){return O.useContext(Sv)}function jH({value:e,children:t}){return At.createElement(Sv.Provider,{value:e},t)}function VH(e){throw new Error("Unexpected object: "+e)}var qe=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(qe||{});function Gm(e,t){let n=t.resolveItems();if(n.length<=0)return null;let i=t.resolveActiveIndex(),r=i??-1;switch(e.focus){case 0:{for(let a=0;a<n.length;++a)if(!t.resolveDisabled(n[a],a,n))return a;return i}case 1:{r===-1&&(r=n.length);for(let a=r-1;a>=0;--a)if(!t.resolveDisabled(n[a],a,n))return a;return i}case 2:{for(let a=r+1;a<n.length;++a)if(!t.resolveDisabled(n[a],a,n))return a;return i}case 3:{for(let a=n.length-1;a>=0;--a)if(!t.resolveDisabled(n[a],a,n))return a;return i}case 4:{for(let a=0;a<n.length;++a)if(t.resolveId(n[a],a,n)===e.id)return a;return i}case 5:return null;default:VH(e)}}var x5=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(x5||{});function b5(e){let t=se(e),n=O.useRef(!1);O.useEffect(()=>(n.current=!1,()=>{n.current=!0,BO(()=>{n.current&&t()})}),[t])}function $H(){let e=typeof document>"u";return(t=>t.useSyncExternalStore)(XA)(()=>()=>{},()=>!1,()=>!e)}function HH(){let e=$H(),[t,n]=O.useState(Or.isHandoffComplete);return t&&Or.isHandoffComplete===!1&&n(!1),O.useEffect(()=>{t!==!0&&n(!0)},[t]),O.useEffect(()=>Or.handoff(),[]),e?!1:t}let IH=O.createContext(!1);function qH(){return O.useContext(IH)}function GH(e){let t=qH(),n=O.useContext(E5),[i,r]=O.useState(()=>{var a;if(!t&&n!==null)return(a=n.current)!=null?a:null;if(Or.isServer)return null;let l=e==null?void 0:e.getElementById("headlessui-portal-root");if(l)return l;if(e===null)return null;let u=e.createElement("div");return u.setAttribute("id","headlessui-portal-root"),e.body.appendChild(u)});return O.useEffect(()=>{i!==null&&(e!=null&&e.body.contains(i)||e==null||e.body.appendChild(i))},[i,e]),O.useEffect(()=>{t||n!==null&&r(n.current)},[n,r,t]),i}let w5=O.Fragment,YH=Ii(function(e,t){let{ownerDocument:n=null,...i}=e,r=O.useRef(null),a=zs(oV(_=>{r.current=_}),t),l=E1(r),u=n??l,h=GH(u),[f]=O.useState(()=>{var _;return Or.isServer?null:(_=u==null?void 0:u.createElement("div"))!=null?_:null}),d=O.useContext(QH),p=HH();Ge(()=>{!h||!f||h.contains(f)||(f.setAttribute("data-headlessui-portal",""),h.appendChild(f))},[h,f]),Ge(()=>{if(f&&d)return d.register(f)},[d,f]),b5(()=>{var _;!h||!f||(pv(f)&&h.contains(f)&&h.removeChild(f),h.childNodes.length<=0&&((_=h.parentElement)==null||_.removeChild(h)))});let y=Hi();return p?!h||!f?null:Ms.createPortal(y({ourProps:{ref:a},theirProps:i,slot:{},defaultTag:w5,name:"Portal"}),f):null});function XH(e,t){let n=zs(t),{enabled:i=!0,ownerDocument:r,...a}=e,l=Hi();return i?At.createElement(YH,{...a,ownerDocument:r,ref:n}):l({ourProps:{ref:n},theirProps:a,slot:{},defaultTag:w5,name:"Portal"})}let ZH=O.Fragment,E5=O.createContext(null);function KH(e,t){let{target:n,...i}=e,r={ref:zs(t)},a=Hi();return At.createElement(E5.Provider,{value:n},a({ourProps:r,theirProps:i,defaultTag:ZH,name:"Popover.Group"}))}let QH=O.createContext(null),WH=Ii(XH),JH=Ii(KH),tI=Object.assign(WH,{Group:JH});function eI(e,t){let n=O.useRef({left:0,top:0});if(Ge(()=>{if(!t)return;let r=t.getBoundingClientRect();r&&(n.current=r)},[e,t]),t==null||!e||t===document.activeElement)return!1;let i=t.getBoundingClientRect();return i.top!==n.current.top||i.left!==n.current.left}let KM=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function QM(e){var t,n;let i=(t=e.innerText)!=null?t:"",r=e.cloneNode(!0);if(!Os(r))return i;let a=!1;for(let u of r.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))u.remove(),a=!0;let l=a?(n=r.innerText)!=null?n:"":i;return KM.test(l)&&(l=l.replace(KM,"")),l}function nI(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let i=n.split(" ").map(r=>{let a=document.getElementById(r);if(a){let l=a.getAttribute("aria-label");return typeof l=="string"?l.trim():QM(a).trim()}return null}).filter(Boolean);if(i.length>0)return i.join(", ")}return QM(e).trim()}function iI(e){let t=O.useRef(""),n=O.useRef("");return se(()=>{let i=e.current;if(!i)return"";let r=i.innerText;if(t.current===r)return n.current;let a=nI(i).trim().toLowerCase();return t.current=r,n.current=a,a})}var rI=Object.defineProperty,sI=(e,t,n)=>t in e?rI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WM=(e,t,n)=>(sI(e,typeof t!="symbol"?t+"":t,n),n),dn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(dn||{}),O0=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(O0||{}),_e=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItems=5]="RegisterItems",e[e.UnregisterItems=6]="UnregisterItems",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e[e.SortItems=9]="SortItems",e))(_e||{});function JM(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,i=n5(t(e.items.slice()),a=>a.dataRef.current.domRef.current),r=n?i.indexOf(n):null;return r===-1&&(r=null),{items:i,activeItemIndex:r}}let aI={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,pendingFocus:{focus:qe.Nothing},menuState:1}},0(e,t){return e.menuState===0?e:{...e,__demoMode:!1,pendingFocus:t.focus,menuState:0}},2:(e,t)=>{var n,i,r,a,l;if(e.menuState===1)return e;let u={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===qe.Nothing)return{...u,activeItemIndex:null};if(t.focus===qe.Specific)return{...u,activeItemIndex:e.items.findIndex(d=>d.id===t.id)};if(t.focus===qe.Previous){let d=e.activeItemIndex;if(d!==null){let p=e.items[d].dataRef.current.domRef,y=Gm(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:_=>_.id,resolveDisabled:_=>_.dataRef.current.disabled});if(y!==null){let _=e.items[y].dataRef.current.domRef;if(((i=p.current)==null?void 0:i.previousElementSibling)===_.current||((r=_.current)==null?void 0:r.previousElementSibling)===null)return{...u,activeItemIndex:y}}}}else if(t.focus===qe.Next){let d=e.activeItemIndex;if(d!==null){let p=e.items[d].dataRef.current.domRef,y=Gm(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:_=>_.id,resolveDisabled:_=>_.dataRef.current.disabled});if(y!==null){let _=e.items[y].dataRef.current.domRef;if(((a=p.current)==null?void 0:a.nextElementSibling)===_.current||((l=_.current)==null?void 0:l.nextElementSibling)===null)return{...u,activeItemIndex:y}}}}let h=JM(e),f=Gm(t,{resolveItems:()=>h.items,resolveActiveIndex:()=>h.activeItemIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});return{...u,...h,activeItemIndex:f}},3:(e,t)=>{let n=e.searchQuery!==""?0:1,i=e.searchQuery+t.value.toLowerCase(),r=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(l=>{var u;return((u=l.dataRef.current.textValue)==null?void 0:u.startsWith(i))&&!l.dataRef.current.disabled}),a=r?e.items.indexOf(r):-1;return a===-1||a===e.activeItemIndex?{...e,searchQuery:i}:{...e,searchQuery:i,activeItemIndex:a,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let n=e.items.concat(t.items.map(r=>r)),i=e.activeItemIndex;return e.pendingFocus.focus!==qe.Nothing&&(i=Gm(e.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>e.activeItemIndex,resolveId:r=>r.id,resolveDisabled:r=>r.dataRef.current.disabled})),{...e,items:n,activeItemIndex:i,pendingFocus:{focus:qe.Nothing},pendingShouldSort:!0}},6:(e,t)=>{let n=e.items,i=[],r=new Set(t.items);for(let[a,l]of n.entries())if(r.has(l.id)&&(i.push(a),r.delete(l.id),r.size===0))break;if(i.length>0){n=n.slice();for(let a of i.reverse())n.splice(a,1)}return{...e,items:n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element},9:e=>e.pendingShouldSort?{...e,...JM(e),pendingShouldSort:!1}:e},oI=class T5 extends ZO{constructor(t){super(t),WM(this,"actions",{registerItem:EM(()=>{let n=[],i=new Set;return[(r,a)=>{i.has(a)||(i.add(a),n.push({id:r,dataRef:a}))},()=>(i.clear(),this.send({type:5,items:n.splice(0)}))]}),unregisterItem:EM(()=>{let n=[];return[i=>n.push(i),()=>this.send({type:6,items:n.splice(0)})]})}),WM(this,"selectors",{activeDescendantId(n){var i;let r=n.activeItemIndex,a=n.items;return r===null||(i=a[r])==null?void 0:i.id},isActive(n,i){var r;let a=n.activeItemIndex,l=n.items;return a!==null?((r=l[a])==null?void 0:r.id)===i:!1},shouldScrollIntoView(n,i){return n.__demoMode||n.menuState!==0||n.activationTrigger===0?!1:this.isActive(n,i)}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,i=gv.get(null);this.disposables.add(i.on(QO.Push,r=>{!i.selectors.isTop(r,n)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>i.actions.push(n)),this.on(1,()=>i.actions.pop(n))}}static new({id:t,__demoMode:n=!1}){return new T5({id:t,__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:qe.Nothing}})}reduce(t,n){return gc(n.type,aI,t,n)}};const M5=O.createContext(null);function Av(e){let t=O.useContext(M5);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,S5),n}return t}function S5({id:e,__demoMode:t=!1}){let n=O.useMemo(()=>oI.new({id:e,__demoMode:t}),[]);return b5(()=>n.dispose()),n}let lI=O.Fragment;function uI(e,t){let n=O.useId(),{__demoMode:i=!1,...r}=e,a=S5({id:n,__demoMode:i}),[l,u,h]=Cr(a,E=>[E.menuState,E.itemsElement,E.buttonElement]),f=zs(t),d=gv.get(null),p=Cr(d,O.useCallback(E=>d.selectors.isTop(E,n),[d,n]));HV(p,[h,u],(E,M)=>{var R;a.send({type:_e.CloseMenu}),xv(M,vv.Loose)||(E.preventDefault(),(R=a.state.buttonElement)==null||R.focus())});let y=se(()=>{a.send({type:_e.CloseMenu})}),_=O.useMemo(()=>({open:l===dn.Open,close:y}),[l,y]),v={ref:f},w=Hi();return At.createElement(kH,null,At.createElement(M5.Provider,{value:a},At.createElement(jH,{value:gc(l,{[dn.Open]:rf.Open,[dn.Closed]:rf.Closed})},w({ourProps:v,theirProps:r,slot:_,defaultTag:lI,name:"Menu"}))))}let cI="button";function hI(e,t){let n=Av("Menu.Button"),i=O.useId(),{id:r=`headlessui-menu-button-${i}`,disabled:a=!1,autoFocus:l=!1,...u}=e,h=O.useRef(null),f=LH(),d=zs(t,h,DH(),se(J=>n.send({type:_e.SetButtonElement,element:J}))),p=se(J=>{switch(J.key){case hn.Space:case hn.Enter:case hn.ArrowDown:J.preventDefault(),J.stopPropagation(),n.send({type:_e.OpenMenu,focus:{focus:qe.First}});break;case hn.ArrowUp:J.preventDefault(),J.stopPropagation(),n.send({type:_e.OpenMenu,focus:{focus:qe.Last}});break}}),y=se(J=>{switch(J.key){case hn.Space:J.preventDefault();break}}),[_,v,w]=Cr(n,J=>[J.menuState,J.buttonElement,J.itemsElement]),E=_===dn.Open;GV(E,{trigger:v,action:O.useCallback(J=>{if(v!=null&&v.contains(J.target))return Im.Ignore;let et=J.target.closest('[role="menuitem"]:not([data-disabled])');return Os(et)?Im.Select(et):w!=null&&w.contains(J.target)?Im.Ignore:Im.Close},[v,w]),close:O.useCallback(()=>n.send({type:_e.CloseMenu}),[]),select:O.useCallback(J=>J.click(),[])});let M=se(J=>{var et;if(J.button===x5.Left){if(sV(J.currentTarget))return J.preventDefault();a||(_===dn.Open?(Ms.flushSync(()=>n.send({type:_e.CloseMenu})),(et=h.current)==null||et.focus({preventScroll:!0})):(J.preventDefault(),n.send({type:_e.OpenMenu,focus:{focus:qe.Nothing},trigger:O0.Pointer})))}}),R=O.useRef(null),z=se(J=>{R.current=J.pointerType,J.pointerType==="mouse"&&M(J)}),D=se(J=>{R.current!=="mouse"&&M(J)}),{isFocusVisible:C,focusProps:N}=jj({autoFocus:l}),{isHovered:k,hoverProps:$}=Fj({isDisabled:a}),{pressed:q,pressProps:X}=Gj({disabled:a}),tt=O.useMemo(()=>({open:_===dn.Open,active:q||_===dn.Open,disabled:a,hover:k,focus:C,autofocus:l}),[_,k,C,q,a,l]),at=VO(f(),{ref:d,id:r,type:YV(e,h.current),"aria-haspopup":"menu","aria-controls":w==null?void 0:w.id,"aria-expanded":_===dn.Open,disabled:a||void 0,autoFocus:l,onKeyDown:p,onKeyUp:y,onPointerDown:z,onClick:D},N,$,X);return Hi()({ourProps:at,theirProps:u,slot:tt,defaultTag:cI,name:"Menu.Button"})}let fI="div",dI=v1.RenderStrategy|v1.Static;function mI(e,t){let n=O.useId(),{id:i=`headlessui-menu-items-${n}`,anchor:r,portal:a=!1,modal:l=!0,transition:u=!1,...h}=e,f=zH(r),d=Av("Menu.Items"),[p,y]=NH(f),_=UH(),[v,w]=O.useState(null),E=zs(t,f?p:null,se(ht=>d.send({type:_e.SetItemsElement,element:ht})),w),[M,R]=Cr(d,ht=>[ht.menuState,ht.buttonElement]),z=E1(R),D=E1(v);f&&(a=!0);let C=FH(),[N,k]=o$(u,v,C!==null?(C&rf.Open)===rf.Open:M===dn.Open);OV(N,R,()=>{d.send({type:_e.CloseMenu})});let $=Cr(d,ht=>ht.__demoMode),q=$?!1:l&&M===dn.Open;e$(q,D);let X=$?!1:l&&M===dn.Open;RV(X,{allowed:O.useCallback(()=>[R,v],[R,v])});let tt=M!==dn.Open,at=eI(tt,R)?!1:N;O.useEffect(()=>{let ht=v;ht&&M===dn.Open&&ht!==(D==null?void 0:D.activeElement)&&ht.focus({preventScroll:!0})},[M,v,D]),h$(M===dn.Open,{container:v,accept(ht){return ht.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:ht.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(ht){ht.setAttribute("role","none")}});let J=mp(),et=se(ht=>{var F,ot,vt;switch(J.dispose(),ht.key){case hn.Space:if(d.state.searchQuery!=="")return ht.preventDefault(),ht.stopPropagation(),d.send({type:_e.Search,value:ht.key});case hn.Enter:if(ht.preventDefault(),ht.stopPropagation(),d.state.activeItemIndex!==null){let{dataRef:wt}=d.state.items[d.state.activeItemIndex];(ot=(F=wt.current)==null?void 0:F.domRef.current)==null||ot.click()}d.send({type:_e.CloseMenu}),e5(d.state.buttonElement);break;case hn.ArrowDown:return ht.preventDefault(),ht.stopPropagation(),d.send({type:_e.GoToItem,focus:qe.Next});case hn.ArrowUp:return ht.preventDefault(),ht.stopPropagation(),d.send({type:_e.GoToItem,focus:qe.Previous});case hn.Home:case hn.PageUp:return ht.preventDefault(),ht.stopPropagation(),d.send({type:_e.GoToItem,focus:qe.First});case hn.End:case hn.PageDown:return ht.preventDefault(),ht.stopPropagation(),d.send({type:_e.GoToItem,focus:qe.Last});case hn.Escape:ht.preventDefault(),ht.stopPropagation(),Ms.flushSync(()=>d.send({type:_e.CloseMenu})),(vt=d.state.buttonElement)==null||vt.focus({preventScroll:!0});break;case hn.Tab:ht.preventDefault(),ht.stopPropagation(),Ms.flushSync(()=>d.send({type:_e.CloseMenu})),FV(d.state.buttonElement,ht.shiftKey?w1.Previous:w1.Next);break;default:ht.key.length===1&&(d.send({type:_e.Search,value:ht.key}),J.setTimeout(()=>d.send({type:_e.ClearSearch}),350));break}}),bt=se(ht=>{switch(ht.key){case hn.Space:ht.preventDefault();break}}),G=O.useMemo(()=>({open:M===dn.Open}),[M]),nt=VO(f?_():{},{"aria-activedescendant":Cr(d,d.selectors.activeDescendantId),"aria-labelledby":Cr(d,ht=>{var F;return(F=ht.buttonElement)==null?void 0:F.id}),id:i,onKeyDown:et,onKeyUp:bt,role:"menu",tabIndex:M===dn.Open?0:void 0,ref:E,style:{...h.style,...y,"--button-width":yV(R,!0).width},...a$(k)}),ft=Hi();return At.createElement(tI,{enabled:a?e.static||N:!1,ownerDocument:z},ft({ourProps:nt,theirProps:h,slot:G,defaultTag:fI,features:dI,visible:at,name:"Menu.Items"}))}let pI=O.Fragment;function _I(e,t){let n=O.useId(),{id:i=`headlessui-menu-item-${n}`,disabled:r=!1,...a}=e,l=Av("Menu.Item"),u=Cr(l,tt=>l.selectors.isActive(tt,i)),h=O.useRef(null),f=zs(t,h),d=Cr(l,tt=>l.selectors.shouldScrollIntoView(tt,i));Ge(()=>{if(d)return $i().requestAnimationFrame(()=>{var tt,at;(at=(tt=h.current)==null?void 0:tt.scrollIntoView)==null||at.call(tt,{block:"nearest"})})},[d,h]);let p=iI(h),y=O.useRef({disabled:r,domRef:h,get textValue(){return p()}});Ge(()=>{y.current.disabled=r},[y,r]),Ge(()=>(l.actions.registerItem(i,y),()=>l.actions.unregisterItem(i)),[y,i]);let _=se(()=>{l.send({type:_e.CloseMenu})}),v=se(tt=>{if(r)return tt.preventDefault();l.send({type:_e.CloseMenu}),e5(l.state.buttonElement)}),w=se(()=>{if(r)return l.send({type:_e.GoToItem,focus:qe.Nothing});l.send({type:_e.GoToItem,focus:qe.Specific,id:i})}),E=n$(),M=se(tt=>E.update(tt)),R=se(tt=>{E.wasMoved(tt)&&(r||u||l.send({type:_e.GoToItem,focus:qe.Specific,id:i,trigger:O0.Pointer}))}),z=se(tt=>{E.wasMoved(tt)&&(r||u&&l.state.activationTrigger===O0.Pointer&&l.send({type:_e.GoToItem,focus:qe.Nothing}))}),[D,C]=GO(),[N,k]=lV(),$=O.useMemo(()=>({active:u,focus:u,disabled:r,close:_}),[u,r,_]),q={id:i,ref:f,role:"menuitem",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,"aria-labelledby":D,"aria-describedby":N,disabled:void 0,onClick:v,onFocus:w,onPointerEnter:M,onMouseEnter:M,onPointerMove:R,onMouseMove:R,onPointerLeave:z,onMouseLeave:z},X=Hi();return At.createElement(C,null,At.createElement(k,null,X({ourProps:q,theirProps:a,slot:$,defaultTag:pI,name:"Menu.Item"})))}let yI="div";function gI(e,t){let[n,i]=GO(),r=e,a={ref:t,"aria-labelledby":n,role:"group"},l=Hi();return At.createElement(i,null,l({ourProps:a,theirProps:r,slot:{},defaultTag:yI,name:"Menu.Section"}))}let vI="header";function xI(e,t){let n=O.useId(),{id:i=`headlessui-menu-heading-${n}`,...r}=e,a=yv();Ge(()=>a.register(i),[i,a.register]);let l={id:i,ref:t,role:"presentation",...a.props};return Hi()({ourProps:l,theirProps:r,slot:{},defaultTag:vI,name:"Menu.Heading"})}let bI="div";function wI(e,t){let n=e,i={ref:t,role:"separator"};return Hi()({ourProps:i,theirProps:n,slot:{},defaultTag:bI,name:"Menu.Separator"})}let EI=Ii(uI),A5=Ii(hI),C5=Ii(mI),R5=Ii(_I),TI=Ii(gI),MI=Ii(xI),SI=Ii(wI),AI=Object.assign(EI,{Button:A5,Items:C5,Item:R5,Section:TI,Heading:MI,Separator:SI});function CI({title:e,titleId:t,...n},i){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?O.createElement("title",{id:t},e):null,O.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const RI=O.forwardRef(CI),O5=O.createContext(void 0),OI=({children:e})=>{const[t,n]=O.useState(100),i=1e4/t;return B.jsx(O5.Provider,{value:{delayMs:t,setDelayMs:n,speed:i},children:e})};function Cv(){const e=O.useContext(O5);if(!e)throw new Error("useSpeed must be used within a SpeedProvider");return e}const z5=O.createContext(void 0),D5=()=>{const e=O.useContext(z5);if(!e)throw new Error("useEntity must be used within an EntityProvider");return e},L5=({children:e})=>{const[t,n]=O.useState(null);return B.jsx(z5.Provider,{value:{selectedEntity:t,setSelectedEntity:n},children:e})};function zI(){const{entity:e}=Un({euid:"7ee8e052-e8bd-4ed4-ba90-6b31b9072d5b"},["material"]),{selectedEntity:t}=D5(),{instance:n}=O.useContext(ti),[i,r]=O.useState({x:0,y:0,z:0}),[a,l]=O.useState(!1),{delayMs:u,setDelayMs:h}=Cv(),f=p=>{const y=parseFloat(p.target.value);e!=null&&e.material&&(e.material.dataJSON.threshold=y)},d=p=>y=>{const _=parseFloat(y.target.value),v=_-i[p];r(w=>({...w,[p]:_})),n&&(t!=null&&t.id)&&_j(n,t.id,p,v)};return a?B.jsxs("div",{className:"fixed top-[3%] right-[3%] z-50 p-6 rounded-xl backdrop-blur bg-white/10 border border-white/20 shadow-xl text-white space-y-6 w-[90vw] max-w-[600px]",children:[B.jsxs("div",{className:"flex justify-between items-center",children:[B.jsx("h1",{className:"text-2xl font-bold",children:"Control Panel"}),B.jsx("button",{className:"text-sm bg-white/10 border border-white/30 rounded-md px-2 py-1 hover:bg-white/20 transition",onClick:()=>l(!1),children:"Minimize"})]}),B.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between mt-4",children:[B.jsx(DI,{}),B.jsx("button",{className:"bg-blue-600 hover:bg-blue-500 text-white font-semibold px-4 py-2 rounded-lg shadow transition",children:"Mount Fronius torch"}),B.jsx("button",{className:"bg-green-600 hover:bg-green-500 text-white font-semibold px-4 py-2 rounded-lg shadow transition",children:"Mount Spindle motor"}),B.jsx("button",{className:"bg-red-600 hover:bg-red-500 text-white font-semibold px-4 py-2 rounded-lg shadow transition",children:"Back to start"})]}),B.jsxs("div",{className:"space-y-4 mt-4",children:[B.jsx(Ph,{label:`Delay: ${u} ms`,value:u,min:5,max:200,step:1,onChange:p=>h(parseInt(p.target.value,10)),color:"purple"}),(e==null?void 0:e.material)&&B.jsx(Ph,{label:`Threshold: ${(e.material.dataJSON.threshold??0).toFixed(2)}`,value:e.material.dataJSON.threshold??0,min:-1.8,max:10,step:.1,onChange:f,color:"white"}),B.jsx(Ph,{label:`Rotation X: ${i.x}°`,value:i.x,min:-180,max:180,onChange:d("x"),color:"red"}),B.jsx(Ph,{label:`Rotation Y: ${i.y}°`,value:i.y,min:-180,max:180,onChange:d("y"),color:"blue"}),B.jsx(Ph,{label:`Rotation Z: ${i.z}°`,value:i.z,min:-180,max:180,onChange:d("z"),color:"green"}),B.jsx(GF,{})]})]}):B.jsx("button",{className:"fixed top-[3%] right-[3%] z-50 bg-white/10 text-white border border-white/20 backdrop-blur px-3 py-2 rounded-full shadow hover:bg-white/20 transition",onClick:()=>l(!0),children:"Control Panel"})}function Ph({label:e,value:t,min:n,max:i,step:r=1,onChange:a,color:l}){const u={white:"accent-white-500",green:"accent-green-500",blue:"accent-blue-500",purple:"accent-purple-500",red:"accent-red-500"};return B.jsxs("div",{className:"flex flex-col w-full max-w-xl",children:[B.jsx("label",{className:"mb-1 font-medium text-sm",children:e}),B.jsx("input",{type:"range",min:n,max:i,step:r,value:t,onChange:a,className:`w-full h-2 rounded-lg appearance-none cursor-pointer ${u[l]} bg-gray-200`})]})}function DI(){const{selectedEntity:e,setSelectedEntity:t}=D5(),{entities:n}=O.useContext(fv),[i,r]=O.useState([]);return O.useEffect(()=>{if(n.length===0)return;console.log(`🔍 EntityDropdown: ${n.length} entités récupérées depuis PartEntitiesContext`);const a=n.filter(l=>/^part_\d+$/.test(l.name??"")).map(l=>({id:l.id,name:l.name||"(sans nom)"})).sort((l,u)=>parseInt(l.name.split("_")[1],10)-parseInt(u.name.split("_")[1],10));r(a)},[n]),B.jsxs(AI,{as:"div",className:"relative inline-block text-left",children:[B.jsx("div",{children:B.jsxs(A5,{className:"inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white/90 px-3 py-2 text-sm font-semibold text-gray-900 shadow ring-1 ring-gray-300 hover:bg-gray-100",children:[(e==null?void 0:e.name)||"Entités",B.jsx(RI,{"aria-hidden":"true",className:"-mr-1 size-5 text-gray-400"})]})}),B.jsx(C5,{className:"absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-none",children:B.jsx("div",{className:"py-1",children:i.map(a=>B.jsx(R5,{children:({active:l})=>B.jsx("button",{onClick:()=>t(a),className:`${l?"bg-gray-100 text-gray-900":"text-gray-700"} block w-full text-left px-4 py-2 text-sm`,children:a.name})},a.id))})})]})}function LI(){const{instance:e}=O.useContext(ti),{speed:t}=Cv();return O.useEffect(()=>{if(!e)return;const n=(r,a,l)=>{const u=T0();return vO(u,r,a,l),[u[0],u[1],u[2],u[3]]},i=async r=>{const a=r.key.toLowerCase();try{const l=await e.scene.findEntitiesWithComponents({mandatory_components:["local_transform"],forbidden_components:[]});a==="m"&&tS(e,l,10,10,10),a==="r"&&tS(e,l,0,0,0),a==="k"&&Ym(e,l,10,10,10,n),a==="l"&&Ym(e,l,-90,0,0,n);const u=(f=0,d=0,p=0)=>eS(e,l,f*t,d*t,p*t);a==="z"&&u(0,0,-1),a==="s"&&u(0,0,1),a==="q"&&u(-1,0,0),a==="d"&&u(1,0,0),a==="+"&&u(0,1,0),a==="-"&&u(0,-1,0);const h=l.filter(f=>{var y,_,v,w;const d=(_=(y=f.name)==null?void 0:y.toLowerCase)==null?void 0:_.call(y),p=(w=(v=f.type)==null?void 0:v.toLowerCase)==null?void 0:w.call(v);return d==="camera"||p==="camera"});a==="a"&&Ym(e,h,0,2,0,n),a==="e"&&Ym(e,h,0,-2,0,n),a===" "&&eS(e,l,0,0,0)}catch(l){console.error("Erreur lors de la manipulation des entités :",l)}};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e,t]),null}async function tS(e,t,n,i,r){for(const a of t){const[l]=await e.scene.findEntities({entity_uuid:a.id});if(l){const[u,h,f]=l.local_transform.position;n===0&&i===0&&r===0?l.local_transform={position:[0,0,0]}:l.local_transform={position:[u+n,h+i,f+r]}}}}async function Ym(e,t,n,i,r,a){for(const l of t){const[u]=await e.scene.findEntities({entity_uuid:l.id});if(u){const[h,f,d,p]=u.local_transform.orientation||[0,0,0,1];n===-90&&i===0&&r===0?u.local_transform={orientation:a(-90,0,0)}:u.local_transform={orientation:a(h+n,f+i,d+r)}}}}async function eS(e,t,n,i,r){var a,l,u,h;for(const f of t){const[d]=await e.scene.findEntities({entity_uuid:f.id});if(!d)continue;const p=(l=(a=d==null?void 0:d.name)==null?void 0:a.toLowerCase)==null?void 0:l.call(a),y=(h=(u=d==null?void 0:d.type)==null?void 0:u.toLowerCase)==null?void 0:h.call(u);if(!(p==="camera"||y==="camera"))continue;const v=E0(...d.local_transform.position),w=d.local_transform.orientation||[0,0,0,1],E=qF(...w);if(n===0&&i===0&&r===0){d.local_transform.position=[200,86,30];const z=T0();vO(z,3.5,88,0),d.local_transform.orientation=[z[0],z[1],z[2],z[3]];continue}const M=E0(n,i,r),R=hv();BF(R,M,E),NF(v,v,R),d.local_transform.position=[v[0],v[1],v[2]]}}function UI(){const{cameraEntity:e}=Qg(),{engine:t}=O.useContext(ti);return O.useEffect(()=>{if(!t||!e)return;const n=i=>{console.log("Camera event triggered:",i)};return t.event.addEventListener("transform-updated",n,e),()=>{t.event.removeEventListener("transform-updated",n,e)}},[t,e]),null}const NI=O.createContext(null),kI=O.createContext({register:(e,t)=>()=>{}});function PI({children:e}){const[t,n]=O.useState(null),{speed:i}=Cv(),r=Math.max(10,1e3/i),{entity:a}=Un(t?{name:t}:{name:""}),{entitiesMap:l}=O.useContext(fv),{instance:u}=O.useContext(ti),h=O.useRef([]),f=O.useRef(null),d=O.useRef(null),p=O.useRef(0),y=O.useRef(null);O.useRef([]);const[_,v]=O.useState(0);O.useEffect(()=>{y.current=(a==null?void 0:a.name)??null},[a]);const w=O.useCallback(()=>{const M=new WebSocket("ws://localhost:8767");f.current=M,M.onopen=()=>{p.current=0,y.current&&M.send(`select ${y.current}`)};let R=performance.now();M.onmessage=async z=>{const D=z.data.trim();try{const C=JSON.parse(D);if(typeof C!="object"||typeof C.name!="string"||!Array.isArray(C.location)||C.location.length!==3&&C.location.length!==4||!C.location.every(q=>typeof q=="number")||!u||l.size===0)return;if(C.name==="part_1"){const q=performance.now(),X=q-R;R=q,X>100&&console.warn("Warnning, delta time gap:",X)}const[N,k,$]=C.location;pj(C.name,[N,k,$],l)}catch(C){console.error("Failed to parse WS message:",C)}},M.onclose=()=>{console.log("❌ WebSocket closed");const z=Math.min(1e4,1e3*2**p.current);if(p.current+=1,p.current>=5){console.log("❌ Too many connection attempts, aborting.");return}d.current=window.setTimeout(()=>{w()},z),console.log(`🔄 Reconnecting in ${z}ms...`)}},[u,l,r]);O.useEffect(()=>{if(!(!u||l.size===0))return w(),()=>{var M;d.current&&clearTimeout(d.current),(M=f.current)==null||M.close()}},[u,l]),O.useEffect(()=>{var M;a!=null&&a.name&&((M=f.current)==null?void 0:M.readyState)===WebSocket.OPEN&&f.current.send(`select ${a.name}`)},[a]);const E=O.useCallback((M,R)=>{if(!h.current.some(z=>z.name===R&&z.setter===M)){const z={setter:M,name:R};return h.current.push(z),console.log(`➕ Registered entity: ${R}`),()=>{h.current=h.current.filter(D=>D!==z),console.log(`➖ Unregistered entity: ${R}`)}}return()=>{}},[]);return B.jsx(kI.Provider,{value:{register:E},children:e})}const U5=O.createContext({});function BI(e){const t=O.useRef(null);return t.current===null&&(t.current=e()),t.current}const Rv=typeof window<"u",FI=Rv?O.useLayoutEffect:O.useEffect,Ov=O.createContext(null);function zv(e,t){e.indexOf(t)===-1&&e.push(t)}function Dv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ss=(e,t,n)=>n>t?t:n<e?e:n;let Lv=()=>{};const As={},N5=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function k5(e){return typeof e=="object"&&e!==null}const P5=e=>/^0[^.\s]+$/u.test(e);function Uv(e){let t;return()=>(t===void 0&&(t=e()),t)}const Vi=e=>e,jI=(e,t)=>n=>t(e(n)),cd=(...e)=>e.reduce(jI),sf=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class Nv{constructor(){this.subscriptions=[]}add(t){return zv(this.subscriptions,t),()=>Dv(this.subscriptions,t)}notify(t,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,i);else for(let a=0;a<r;a++){const l=this.subscriptions[a];l&&l(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Dr=e=>e*1e3,Lr=e=>e/1e3;function B5(e,t){return t?e*(1e3/t):0}const F5=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,VI=1e-7,$I=12;function HI(e,t,n,i,r){let a,l,u=0;do l=t+(n-t)/2,a=F5(l,i,r)-e,a>0?n=l:t=l;while(Math.abs(a)>VI&&++u<$I);return l}function hd(e,t,n,i){if(e===t&&n===i)return Vi;const r=a=>HI(a,0,1,e,n);return a=>a===0||a===1?a:F5(r(a),t,i)}const j5=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,V5=e=>t=>1-e(1-t),$5=hd(.33,1.53,.69,.99),kv=V5($5),H5=j5(kv),I5=e=>(e*=2)<1?.5*kv(e):.5*(2-Math.pow(2,-10*(e-1))),Pv=e=>1-Math.sin(Math.acos(e)),q5=V5(Pv),G5=j5(Pv),II=hd(.42,0,1,1),qI=hd(0,0,.58,1),Y5=hd(.42,0,.58,1),GI=e=>Array.isArray(e)&&typeof e[0]!="number",X5=e=>Array.isArray(e)&&typeof e[0]=="number",YI={linear:Vi,easeIn:II,easeInOut:Y5,easeOut:qI,circIn:Pv,circInOut:G5,circOut:q5,backIn:kv,backInOut:H5,backOut:$5,anticipate:I5},XI=e=>typeof e=="string",nS=e=>{if(X5(e)){Lv(e.length===4);const[t,n,i,r]=e;return hd(t,n,i,r)}else if(XI(e))return YI[e];return e},Xm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ZI(e,t){let n=new Set,i=new Set,r=!1,a=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(d){l.has(d)&&(f.schedule(d),e()),d(u)}const f={schedule:(d,p=!1,y=!1)=>{const v=y&&r?n:i;return p&&l.add(d),v.has(d)||v.add(d),d},cancel:d=>{i.delete(d),l.delete(d)},process:d=>{if(u=d,r){a=!0;return}r=!0,[n,i]=[i,n],n.forEach(h),n.clear(),r=!1,a&&(a=!1,f.process(d))}};return f}const KI=40;function Z5(e,t){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=Xm.reduce((z,D)=>(z[D]=ZI(a),z),{}),{setup:u,read:h,resolveKeyframes:f,preUpdate:d,update:p,preRender:y,render:_,postRender:v}=l,w=()=>{const z=As.useManualTiming?r.timestamp:performance.now();n=!1,As.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(z-r.timestamp,KI),1)),r.timestamp=z,r.isProcessing=!0,u.process(r),h.process(r),f.process(r),d.process(r),p.process(r),y.process(r),_.process(r),v.process(r),r.isProcessing=!1,n&&t&&(i=!1,e(w))},E=()=>{n=!0,i=!0,r.isProcessing||e(w)};return{schedule:Xm.reduce((z,D)=>{const C=l[D];return z[D]=(N,k=!1,$=!1)=>(n||E(),C.schedule(N,k,$)),z},{}),cancel:z=>{for(let D=0;D<Xm.length;D++)l[Xm[D]].cancel(z)},state:r,steps:l}}const{schedule:Te,cancel:Ua,state:fn,steps:vg}=Z5(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vi,!0);let d0;function QI(){d0=void 0}const Kn={now:()=>(d0===void 0&&Kn.set(fn.isProcessing||As.useManualTiming?fn.timestamp:performance.now()),d0),set:e=>{d0=e,queueMicrotask(QI)}},K5=e=>t=>typeof t=="string"&&t.startsWith(e),Bv=K5("--"),WI=K5("var(--"),Fv=e=>WI(e)?JI.test(e.split("/*")[0].trim()):!1,JI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,wc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},af={...wc,transform:e=>Ss(0,1,e)},Zm={...wc,default:1},Xh=e=>Math.round(e*1e5)/1e5,jv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tq(e){return e==null}const eq=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Vv=(e,t)=>n=>!!(typeof n=="string"&&eq.test(n)&&n.startsWith(e)||t&&!tq(n)&&Object.prototype.hasOwnProperty.call(n,t)),Q5=(e,t,n)=>i=>{if(typeof i!="string")return i;const[r,a,l,u]=i.match(jv);return{[e]:parseFloat(r),[t]:parseFloat(a),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},nq=e=>Ss(0,255,e),xg={...wc,transform:e=>Math.round(nq(e))},po={test:Vv("rgb","red"),parse:Q5("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+xg.transform(e)+", "+xg.transform(t)+", "+xg.transform(n)+", "+Xh(af.transform(i))+")"};function iq(e){let t="",n="",i="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const A1={test:Vv("#"),parse:iq,transform:po.transform},fd=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ua=fd("deg"),Ur=fd("%"),Ut=fd("px"),rq=fd("vh"),sq=fd("vw"),iS={...Ur,parse:e=>Ur.parse(e)/100,transform:e=>Ur.transform(e*100)},Vl={test:Vv("hsl","hue"),parse:Q5("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Ur.transform(Xh(t))+", "+Ur.transform(Xh(n))+", "+Xh(af.transform(i))+")"},Ie={test:e=>po.test(e)||A1.test(e)||Vl.test(e),parse:e=>po.test(e)?po.parse(e):Vl.test(e)?Vl.parse(e):A1.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?po.transform(e):Vl.transform(e),getAnimatableNone:e=>{const t=Ie.parse(e);return t.alpha=0,Ie.transform(t)}},aq=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oq(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(jv))==null?void 0:t.length)||0)+(((n=e.match(aq))==null?void 0:n.length)||0)>0}const W5="number",J5="color",lq="var",uq="var(",rS="${}",cq=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function of(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},r=[];let a=0;const u=t.replace(cq,h=>(Ie.test(h)?(i.color.push(a),r.push(J5),n.push(Ie.parse(h))):h.startsWith(uq)?(i.var.push(a),r.push(lq),n.push(h)):(i.number.push(a),r.push(W5),n.push(parseFloat(h))),++a,rS)).split(rS);return{values:n,split:u,indexes:i,types:r}}function t8(e){return of(e).values}function e8(e){const{split:t,types:n}=of(e),i=t.length;return r=>{let a="";for(let l=0;l<i;l++)if(a+=t[l],r[l]!==void 0){const u=n[l];u===W5?a+=Xh(r[l]):u===J5?a+=Ie.transform(r[l]):a+=r[l]}return a}}const hq=e=>typeof e=="number"?0:Ie.test(e)?Ie.getAnimatableNone(e):e;function fq(e){const t=t8(e);return e8(e)(t.map(hq))}const Na={test:oq,parse:t8,createTransformer:e8,getAnimatableNone:fq};function bg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function dq({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let r=0,a=0,l=0;if(!t)r=a=l=n;else{const u=n<.5?n*(1+t):n+t-n*t,h=2*n-u;r=bg(h,u,e+1/3),a=bg(h,u,e),l=bg(h,u,e-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:i}}function z0(e,t){return n=>n>0?t:e}const Ae=(e,t,n)=>e+(t-e)*n,wg=(e,t,n)=>{const i=e*e,r=n*(t*t-i)+i;return r<0?0:Math.sqrt(r)},mq=[A1,po,Vl],pq=e=>mq.find(t=>t.test(e));function sS(e){const t=pq(e);if(!t)return!1;let n=t.parse(e);return t===Vl&&(n=dq(n)),n}const aS=(e,t)=>{const n=sS(e),i=sS(t);if(!n||!i)return z0(e,t);const r={...n};return a=>(r.red=wg(n.red,i.red,a),r.green=wg(n.green,i.green,a),r.blue=wg(n.blue,i.blue,a),r.alpha=Ae(n.alpha,i.alpha,a),po.transform(r))},C1=new Set(["none","hidden"]);function _q(e,t){return C1.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function yq(e,t){return n=>Ae(e,t,n)}function $v(e){return typeof e=="number"?yq:typeof e=="string"?Fv(e)?z0:Ie.test(e)?aS:xq:Array.isArray(e)?n8:typeof e=="object"?Ie.test(e)?aS:gq:z0}function n8(e,t){const n=[...e],i=n.length,r=e.map((a,l)=>$v(a)(a,t[l]));return a=>{for(let l=0;l<i;l++)n[l]=r[l](a);return n}}function gq(e,t){const n={...e,...t},i={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(i[r]=$v(e[r])(e[r],t[r]));return r=>{for(const a in i)n[a]=i[a](r);return n}}function vq(e,t){const n=[],i={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const a=t.types[r],l=e.indexes[a][i[a]],u=e.values[l]??0;n[r]=u,i[a]++}return n}const xq=(e,t)=>{const n=Na.createTransformer(t),i=of(e),r=of(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?C1.has(e)&&!r.values.length||C1.has(t)&&!i.values.length?_q(e,t):cd(n8(vq(i,r),r.values),n):z0(e,t)};function i8(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ae(e,t,n):$v(e)(e,t)}const bq=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Te.update(t,n),stop:()=>Ua(t),now:()=>fn.isProcessing?fn.timestamp:Kn.now()}},r8=(e,t,n=10)=>{let i="";const r=Math.max(Math.round(t/n),2);for(let a=0;a<r;a++)i+=Math.round(e(a/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},D0=2e4;function Hv(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<D0;)t+=n,i=e.next(t);return t>=D0?1/0:t}function wq(e,t=100,n){const i=n({...e,keyframes:[0,t]}),r=Math.min(Hv(i),D0);return{type:"keyframes",ease:a=>i.next(r*a).value/t,duration:Lr(r)}}const Eq=5;function s8(e,t,n){const i=Math.max(t-Eq,0);return B5(n-e(i),t-i)}const ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Eg=.001;function Tq({duration:e=ze.duration,bounce:t=ze.bounce,velocity:n=ze.velocity,mass:i=ze.mass}){let r,a,l=1-t;l=Ss(ze.minDamping,ze.maxDamping,l),e=Ss(ze.minDuration,ze.maxDuration,Lr(e)),l<1?(r=f=>{const d=f*l,p=d*e,y=d-n,_=R1(f,l),v=Math.exp(-p);return Eg-y/_*v},a=f=>{const p=f*l*e,y=p*n+n,_=Math.pow(l,2)*Math.pow(f,2)*e,v=Math.exp(-p),w=R1(Math.pow(f,2),l);return(-r(f)+Eg>0?-1:1)*((y-_)*v)/w}):(r=f=>{const d=Math.exp(-f*e),p=(f-n)*e+1;return-Eg+d*p},a=f=>{const d=Math.exp(-f*e),p=(n-f)*(e*e);return d*p});const u=5/e,h=Sq(r,a,u);if(e=Dr(e),isNaN(h))return{stiffness:ze.stiffness,damping:ze.damping,duration:e};{const f=Math.pow(h,2)*i;return{stiffness:f,damping:l*2*Math.sqrt(i*f),duration:e}}}const Mq=12;function Sq(e,t,n){let i=n;for(let r=1;r<Mq;r++)i=i-e(i)/t(i);return i}function R1(e,t){return e*Math.sqrt(1-t*t)}const Aq=["duration","bounce"],Cq=["stiffness","damping","mass"];function oS(e,t){return t.some(n=>e[n]!==void 0)}function Rq(e){let t={velocity:ze.velocity,stiffness:ze.stiffness,damping:ze.damping,mass:ze.mass,isResolvedFromDuration:!1,...e};if(!oS(e,Cq)&&oS(e,Aq))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,a=2*Ss(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:ze.mass,stiffness:r,damping:a}}else{const n=Tq(e);t={...t,...n,mass:ze.mass},t.isResolvedFromDuration=!0}return t}function L0(e=ze.visualDuration,t=ze.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:r}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:h,damping:f,mass:d,duration:p,velocity:y,isResolvedFromDuration:_}=Rq({...n,velocity:-Lr(n.velocity||0)}),v=y||0,w=f/(2*Math.sqrt(h*d)),E=l-a,M=Lr(Math.sqrt(h/d)),R=Math.abs(E)<5;i||(i=R?ze.restSpeed.granular:ze.restSpeed.default),r||(r=R?ze.restDelta.granular:ze.restDelta.default);let z;if(w<1){const C=R1(M,w);z=N=>{const k=Math.exp(-w*M*N);return l-k*((v+w*M*E)/C*Math.sin(C*N)+E*Math.cos(C*N))}}else if(w===1)z=C=>l-Math.exp(-M*C)*(E+(v+M*E)*C);else{const C=M*Math.sqrt(w*w-1);z=N=>{const k=Math.exp(-w*M*N),$=Math.min(C*N,300);return l-k*((v+w*M*E)*Math.sinh($)+C*E*Math.cosh($))/C}}const D={calculatedDuration:_&&p||null,next:C=>{const N=z(C);if(_)u.done=C>=p;else{let k=C===0?v:0;w<1&&(k=C===0?Dr(v):s8(z,C,N));const $=Math.abs(k)<=i,q=Math.abs(l-N)<=r;u.done=$&&q}return u.value=u.done?l:N,u},toString:()=>{const C=Math.min(Hv(D),D0),N=r8(k=>D.next(C*k).value,C,30);return C+"ms "+N},toTransition:()=>{}};return D}L0.applyToOptions=e=>{const t=wq(e,100,L0);return e.ease=t.ease,e.duration=Dr(t.duration),e.type="keyframes",e};function O1({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:h,restDelta:f=.5,restSpeed:d}){const p=e[0],y={done:!1,value:p},_=$=>u!==void 0&&$<u||h!==void 0&&$>h,v=$=>u===void 0?h:h===void 0||Math.abs(u-$)<Math.abs(h-$)?u:h;let w=n*t;const E=p+w,M=l===void 0?E:l(E);M!==E&&(w=M-p);const R=$=>-w*Math.exp(-$/i),z=$=>M+R($),D=$=>{const q=R($),X=z($);y.done=Math.abs(q)<=f,y.value=y.done?M:X};let C,N;const k=$=>{_(y.value)&&(C=$,N=L0({keyframes:[y.value,v(y.value)],velocity:s8(z,$,y.value),damping:r,stiffness:a,restDelta:f,restSpeed:d}))};return k(0),{calculatedDuration:null,next:$=>{let q=!1;return!N&&C===void 0&&(q=!0,D($),k($)),C!==void 0&&$>=C?N.next($-C):(!q&&D($),y)}}}function Oq(e,t,n){const i=[],r=n||As.mix||i8,a=e.length-1;for(let l=0;l<a;l++){let u=r(e[l],e[l+1]);if(t){const h=Array.isArray(t)?t[l]||Vi:t;u=cd(h,u)}i.push(u)}return i}function zq(e,t,{clamp:n=!0,ease:i,mixer:r}={}){const a=e.length;if(Lv(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=Oq(t,i,r),h=u.length,f=d=>{if(l&&d<e[0])return t[0];let p=0;if(h>1)for(;p<e.length-2&&!(d<e[p+1]);p++);const y=sf(e[p],e[p+1],d);return u[p](y)};return n?d=>f(Ss(e[0],e[a-1],d)):f}function Dq(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const r=sf(0,t,i);e.push(Ae(n,1,r))}}function Lq(e){const t=[0];return Dq(t,e.length-1),t}function Uq(e,t){return e.map(n=>n*t)}function Nq(e,t){return e.map(()=>t||Y5).splice(0,e.length-1)}function Zh({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const r=GI(i)?i.map(nS):nS(i),a={done:!1,value:t[0]},l=Uq(n&&n.length===t.length?n:Lq(t),e),u=zq(l,t,{ease:Array.isArray(r)?r:Nq(t,r)});return{calculatedDuration:e,next:h=>(a.value=u(h),a.done=h>=e,a)}}const kq=e=>e!==null;function Iv(e,{repeat:t,repeatType:n="loop"},i,r=1){const a=e.filter(kq),u=r<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!u||i===void 0?a[u]:i}const Pq={decay:O1,inertia:O1,tween:Zh,keyframes:Zh,spring:L0};function a8(e){typeof e.type=="string"&&(e.type=Pq[e.type])}class qv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Bq=e=>e/100;class Gv extends qv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,r;const{motionValue:n}=this.options;n&&n.updatedAt!==Kn.now()&&this.tick(Kn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(i=this.options).onStop)==null||r.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;a8(t);const{type:n=Zh,repeat:i=0,repeatDelay:r=0,repeatType:a,velocity:l=0}=t;let{keyframes:u}=t;const h=n||Zh;h!==Zh&&typeof u[0]!="number"&&(this.mixKeyframes=cd(Bq,i8(u[0],u[1])),u=[0,100]);const f=h({...t,keyframes:u});a==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...u].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=Hv(f));const{calculatedDuration:d}=f;this.calculatedDuration=d,this.resolvedDuration=d+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=f}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:r,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:d,repeat:p,repeatType:y,repeatDelay:_,type:v,onUpdate:w,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const M=this.currentTime-f*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?M<0:M>r;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let z=this.currentTime,D=i;if(p){const $=Math.min(this.currentTime,r)/u;let q=Math.floor($),X=$%1;!X&&$>=1&&(X=1),X===1&&q--,q=Math.min(q,p+1),!!(q%2)&&(y==="reverse"?(X=1-X,_&&(X-=_/u)):y==="mirror"&&(D=l)),z=Ss(0,1,X)*u}const C=R?{done:!1,value:d[0]}:D.next(z);a&&(C.value=a(C.value));let{done:N}=C;!R&&h!==null&&(N=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return k&&v!==O1&&(C.value=Iv(d,this.options,E,this.speed)),w&&w(C.value),k&&this.finish(),C}then(t,n){return this.finished.then(t,n)}get duration(){return Lr(this.calculatedDuration)}get time(){return Lr(this.currentTime)}set time(t){var n;t=Dr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Kn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Lr(this.currentTime))}play(){var r,a;if(this.isStopped)return;const{driver:t=bq,startTime:n}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),(a=(r=this.options).onPlay)==null||a.call(r);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Kn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function Fq(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const _o=e=>e*180/Math.PI,z1=e=>{const t=_o(Math.atan2(e[1],e[0]));return D1(t)},jq={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:z1,rotateZ:z1,skewX:e=>_o(Math.atan(e[1])),skewY:e=>_o(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},D1=e=>(e=e%360,e<0&&(e+=360),e),lS=z1,uS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),cS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Vq={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uS,scaleY:cS,scale:e=>(uS(e)+cS(e))/2,rotateX:e=>D1(_o(Math.atan2(e[6],e[5]))),rotateY:e=>D1(_o(Math.atan2(-e[2],e[0]))),rotateZ:lS,rotate:lS,skewX:e=>_o(Math.atan(e[4])),skewY:e=>_o(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function L1(e){return e.includes("scale")?1:0}function U1(e,t){if(!e||e==="none")return L1(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=Vq,r=n;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=jq,r=u}if(!r)return L1(t);const a=i[t],l=r[1].split(",").map(Hq);return typeof a=="function"?a(l):l[a]}const $q=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return U1(n,t)};function Hq(e){return parseFloat(e.trim())}const Ec=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tc=new Set(Ec),hS=e=>e===wc||e===Ut,Iq=new Set(["x","y","z"]),qq=Ec.filter(e=>!Iq.has(e));function Gq(e){const t=[];return qq.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Uo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>U1(t,"x"),y:(e,{transform:t})=>U1(t,"y")};Uo.translateX=Uo.x;Uo.translateY=Uo.y;const No=new Set;let N1=!1,k1=!1,P1=!1;function o8(){if(k1){const e=Array.from(No).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const r=Gq(i);r.length&&(n.set(i,r),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([a,l])=>{var u;(u=i.getValue(a))==null||u.set(l)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}k1=!1,N1=!1,No.forEach(e=>e.complete(P1)),No.clear()}function l8(){No.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(k1=!0)})}function Yq(){P1=!0,l8(),o8(),P1=!1}class Yv{constructor(t,n,i,r,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=r,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(No.add(this),N1||(N1=!0,Te.read(l8),Te.resolveKeyframes(o8))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:r}=this;if(t[0]===null){const a=r==null?void 0:r.get(),l=t[t.length-1];if(a!==void 0)t[0]=a;else if(i&&n){const u=i.readValue(n,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),r&&a===void 0&&r.set(t[0])}Fq(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),No.delete(this)}cancel(){this.state==="scheduled"&&(No.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Xq=e=>e.startsWith("--");function Zq(e,t,n){Xq(t)?e.style.setProperty(t,n):e.style[t]=n}const Kq=Uv(()=>window.ScrollTimeline!==void 0),Qq={};function Wq(e,t){const n=Uv(e);return()=>Qq[t]??n()}const u8=Wq(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hh=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,fS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hh([0,.65,.55,1]),circOut:Hh([.55,0,1,.45]),backIn:Hh([.31,.01,.66,-.59]),backOut:Hh([.33,1.53,.69,.99])};function c8(e,t){if(e)return typeof e=="function"?u8()?r8(e,t):"ease-out":X5(e)?Hh(e):Array.isArray(e)?e.map(n=>c8(n,t)||fS.easeOut):fS[e]}function Jq(e,t,n,{delay:i=0,duration:r=300,repeat:a=0,repeatType:l="loop",ease:u="easeOut",times:h}={},f=void 0){const d={[t]:n};h&&(d.offset=h);const p=c8(u,r);Array.isArray(p)&&(d.easing=p);const y={delay:i,duration:r,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return f&&(y.pseudoElement=f),e.animate(d,y)}function h8(e){return typeof e=="function"&&"applyToOptions"in e}function tG({type:e,...t}){return h8(e)&&u8()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class eG extends qv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:r,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=t;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=t,Lv(typeof t.type!="string");const f=tG(t);this.animation=Jq(n,i,r,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=Iv(r,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(d):Zq(n,i,d),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,i;const t=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Lr(Number(t))}get time(){return Lr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Dr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Kq()?(this.animation.timeline=t,Vi):n(this)}}const f8={anticipate:I5,backInOut:H5,circInOut:G5};function nG(e){return e in f8}function iG(e){typeof e.ease=="string"&&nG(e.ease)&&(e.ease=f8[e.ease])}const dS=10;class rG extends eG{constructor(t){iG(t),a8(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:r,element:a,...l}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const u=new Gv({...l,autoplay:!1}),h=Dr(this.finishedTime??this.time);n.setWithVelocity(u.sample(h-dS).value,u.sample(h).value,dS),u.stop()}}const mS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Na.test(e)||e==="0")&&!e.startsWith("url("));function sG(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function aG(e,t,n,i){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],l=mS(r,t),u=mS(a,t);return!l||!u?!1:sG(e)||(n==="spring"||h8(n))&&i}function B1(e){e.duration=0,e.type}const oG=new Set(["opacity","clipPath","filter","transform"]),lG=Uv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function uG(e){var d;const{motionValue:t,name:n,repeatDelay:i,repeatType:r,damping:a,type:l}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=t.owner.getProps();return lG()&&n&&oG.has(n)&&(n!=="transform"||!f)&&!h&&!i&&r!=="mirror"&&a!==0&&l!=="inertia"}const cG=40;class hG extends qv{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:h,motionValue:f,element:d,...p}){var v;super(),this.stop=()=>{var w,E;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(E=this.keyframeResolver)==null||E.cancel()},this.createdAt=Kn.now();const y={autoplay:t,delay:n,type:i,repeat:r,repeatDelay:a,repeatType:l,name:h,motionValue:f,element:d,...p},_=(d==null?void 0:d.KeyframeResolver)||Yv;this.keyframeResolver=new _(u,(w,E,M)=>this.onKeyframesResolved(w,E,y,!M),h,f,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,i,r){this.keyframeResolver=void 0;const{name:a,type:l,velocity:u,delay:h,isHandoff:f,onUpdate:d}=i;this.resolvedAt=Kn.now(),aG(t,a,l,u)||((As.instantAnimations||!h)&&(d==null||d(Iv(t,i,n))),t[0]=t[t.length-1],B1(i),i.repeat=0);const y={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>cG?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},_=!f&&uG(y)?new rG({...y,element:y.motionValue.owner.current}):new Gv(y);_.finished.then(()=>this.notifyFinished()).catch(Vi),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Yq()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const fG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dG(e){const t=fG.exec(e);if(!t)return[,];const[,n,i,r]=t;return[`--${n??i}`,r]}function d8(e,t,n=1){const[i,r]=dG(e);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const l=a.trim();return N5(l)?parseFloat(l):l}return Fv(r)?d8(r,t,n+1):r}function Xv(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const m8=new Set(["width","height","top","left","right","bottom",...Ec]),mG={test:e=>e==="auto",parse:e=>e},p8=e=>t=>t.test(e),_8=[wc,Ut,Ur,ua,sq,rq,mG],pS=e=>_8.find(p8(e));function pG(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||P5(e):!0}const _G=new Set(["brightness","contrast","saturate","opacity"]);function yG(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(jv)||[];if(!i)return e;const r=n.replace(i,"");let a=_G.has(t)?1:0;return i!==n&&(a*=100),t+"("+a+r+")"}const gG=/\b([a-z-]*)\(.*?\)/gu,F1={...Na,getAnimatableNone:e=>{const t=e.match(gG);return t?t.map(yG).join(" "):e}},_S={...wc,transform:Math.round},vG={rotate:ua,rotateX:ua,rotateY:ua,rotateZ:ua,scale:Zm,scaleX:Zm,scaleY:Zm,scaleZ:Zm,skew:ua,skewX:ua,skewY:ua,distance:Ut,translateX:Ut,translateY:Ut,translateZ:Ut,x:Ut,y:Ut,z:Ut,perspective:Ut,transformPerspective:Ut,opacity:af,originX:iS,originY:iS,originZ:Ut},Zv={borderWidth:Ut,borderTopWidth:Ut,borderRightWidth:Ut,borderBottomWidth:Ut,borderLeftWidth:Ut,borderRadius:Ut,radius:Ut,borderTopLeftRadius:Ut,borderTopRightRadius:Ut,borderBottomRightRadius:Ut,borderBottomLeftRadius:Ut,width:Ut,maxWidth:Ut,height:Ut,maxHeight:Ut,top:Ut,right:Ut,bottom:Ut,left:Ut,padding:Ut,paddingTop:Ut,paddingRight:Ut,paddingBottom:Ut,paddingLeft:Ut,margin:Ut,marginTop:Ut,marginRight:Ut,marginBottom:Ut,marginLeft:Ut,backgroundPositionX:Ut,backgroundPositionY:Ut,...vG,zIndex:_S,fillOpacity:af,strokeOpacity:af,numOctaves:_S},xG={...Zv,color:Ie,backgroundColor:Ie,outlineColor:Ie,fill:Ie,stroke:Ie,borderColor:Ie,borderTopColor:Ie,borderRightColor:Ie,borderBottomColor:Ie,borderLeftColor:Ie,filter:F1,WebkitFilter:F1},y8=e=>xG[e];function g8(e,t){let n=y8(e);return n!==F1&&(n=Na),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const bG=new Set(["auto","none","0"]);function wG(e,t,n){let i=0,r;for(;i<e.length&&!r;){const a=e[i];typeof a=="string"&&!bG.has(a)&&of(a).values.length&&(r=e[i]),i++}if(r&&n)for(const a of t)e[a]=g8(n,r)}class EG extends Yv{constructor(t,n,i,r,a){super(t,n,i,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let f=t[h];if(typeof f=="string"&&(f=f.trim(),Fv(f))){const d=d8(f,n.current);d!==void 0&&(t[h]=d),h===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!m8.has(i)||t.length!==2)return;const[r,a]=t,l=pS(r),u=pS(a);if(l!==u)if(hS(l)&&hS(u))for(let h=0;h<t.length;h++){const f=t[h];typeof f=="string"&&(t[h]=parseFloat(f))}else Uo[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let r=0;r<t.length;r++)(t[r]===null||pG(t[r]))&&i.push(r);i.length&&wG(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Uo[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(i,r).jump(r,!1)}measureEndState(){var u;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,l=i[a];i[a]=Uo[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,f])=>{t.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function TG(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const r=(n==null?void 0:n[e])??i.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const v8=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function MG(e){return k5(e)&&"offsetHeight"in e}const yS=30,SG=e=>!isNaN(parseFloat(e));class AG{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var a;const r=Kn.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Kn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=SG(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Nv);const i=this.events[t].add(n);return t==="change"?()=>{i(),Te.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Kn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>yS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,yS);return B5(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function oc(e,t){return new AG(e,t)}const{schedule:Kv}=Z5(queueMicrotask,!1),er={x:!1,y:!1};function x8(){return er.x||er.y}function CG(e){return e==="x"||e==="y"?er[e]?null:(er[e]=!0,()=>{er[e]=!1}):er.x||er.y?null:(er.x=er.y=!0,()=>{er.x=er.y=!1})}function b8(e,t){const n=TG(e),i=new AbortController,r={passive:!0,...t,signal:i.signal};return[n,r,()=>i.abort()]}function gS(e){return!(e.pointerType==="touch"||x8())}function RG(e,t,n={}){const[i,r,a]=b8(e,n),l=u=>{if(!gS(u))return;const{target:h}=u,f=t(h,u);if(typeof f!="function"||!h)return;const d=p=>{gS(p)&&(f(p),h.removeEventListener("pointerleave",d))};h.addEventListener("pointerleave",d,r)};return i.forEach(u=>{u.addEventListener("pointerenter",l,r)}),a}const w8=(e,t)=>t?e===t?!0:w8(e,t.parentElement):!1,Qv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,OG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zG(e){return OG.has(e.tagName)||e.tabIndex!==-1}const m0=new WeakSet;function vS(e){return t=>{t.key==="Enter"&&e(t)}}function Tg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const DG=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=vS(()=>{if(m0.has(n))return;Tg(n,"down");const r=vS(()=>{Tg(n,"up")}),a=()=>Tg(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function xS(e){return Qv(e)&&!x8()}function LG(e,t,n={}){const[i,r,a]=b8(e,n),l=u=>{const h=u.currentTarget;if(!xS(u))return;m0.add(h);const f=t(h,u),d=(_,v)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",y),m0.has(h)&&m0.delete(h),xS(_)&&typeof f=="function"&&f(_,{success:v})},p=_=>{d(_,h===window||h===document||n.useGlobalTarget||w8(h,_.target))},y=_=>{d(_,!1)};window.addEventListener("pointerup",p,r),window.addEventListener("pointercancel",y,r)};return i.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,r),MG(u)&&(u.addEventListener("focus",f=>DG(f,r)),!zG(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function E8(e){return k5(e)&&"ownerSVGElement"in e}function UG(e){return E8(e)&&e.tagName==="svg"}const Sn=e=>!!(e&&e.getVelocity),NG=[..._8,Ie,Na],kG=e=>NG.find(p8(e)),T8=O.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function PG(e=!0){const t=O.useContext(Ov);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=t,a=O.useId();O.useEffect(()=>{if(e)return r(a)},[e]);const l=O.useCallback(()=>e&&i&&i(a),[a,i,e]);return!n&&i?[!1,l]:[!0]}const M8=O.createContext({strict:!1}),bS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},lc={};for(const e in bS)lc[e]={isEnabled:t=>bS[e].some(n=>!!t[n])};function BG(e){for(const t in e)lc[t]={...lc[t],...e[t]}}const FG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function U0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||FG.has(e)}let S8=e=>!U0(e);function jG(e){typeof e=="function"&&(S8=t=>t.startsWith("on")?!U0(t):e(t))}try{jG(require("@emotion/is-prop-valid").default)}catch{}function VG(e,t,n){const i={};for(const r in e)r==="values"&&typeof e.values=="object"||(S8(r)||n===!0&&U0(r)||!t&&!U0(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}const bp=O.createContext({});function wp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function lf(e){return typeof e=="string"||Array.isArray(e)}const Wv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jv=["initial",...Wv];function Ep(e){return wp(e.animate)||Jv.some(t=>lf(e[t]))}function A8(e){return!!(Ep(e)||e.variants)}function $G(e,t){if(Ep(e)){const{initial:n,animate:i}=e;return{initial:n===!1||lf(n)?n:void 0,animate:lf(i)?i:void 0}}return e.inherit!==!1?t:{}}function HG(e){const{initial:t,animate:n}=$G(e,O.useContext(bp));return O.useMemo(()=>({initial:t,animate:n}),[wS(t),wS(n)])}function wS(e){return Array.isArray(e)?e.join(" "):e}const uf={};function IG(e){for(const t in e)uf[t]=e[t],Bv(t)&&(uf[t].isCSSVariable=!0)}function C8(e,{layout:t,layoutId:n}){return Tc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!uf[e]||e==="opacity")}const qG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},GG=Ec.length;function YG(e,t,n){let i="",r=!0;for(let a=0;a<GG;a++){const l=Ec[a],u=e[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const f=v8(u,Zv[l]);if(!h){r=!1;const d=qG[l]||l;i+=`${d}(${f}) `}n&&(t[l]=f)}}return i=i.trim(),n?i=n(t,r?"":i):r&&(i="none"),i}function tx(e,t,n){const{style:i,vars:r,transformOrigin:a}=e;let l=!1,u=!1;for(const h in t){const f=t[h];if(Tc.has(h)){l=!0;continue}else if(Bv(h)){r[h]=f;continue}else{const d=v8(f,Zv[h]);h.startsWith("origin")?(u=!0,a[h]=d):i[h]=d}}if(t.transform||(l||n?i.transform=YG(t,e.transform,n):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:d=0}=a;i.transformOrigin=`${h} ${f} ${d}`}}const ex=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function R8(e,t,n){for(const i in t)!Sn(t[i])&&!C8(i,n)&&(e[i]=t[i])}function XG({transformTemplate:e},t){return O.useMemo(()=>{const n=ex();return tx(n,t,e),Object.assign({},n.vars,n.style)},[t])}function ZG(e,t){const n=e.style||{},i={};return R8(i,n,e),Object.assign(i,XG(e,t)),i}function KG(e,t){const n={},i=ZG(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const QG={offset:"stroke-dashoffset",array:"stroke-dasharray"},WG={offset:"strokeDashoffset",array:"strokeDasharray"};function JG(e,t,n=1,i=0,r=!0){e.pathLength=1;const a=r?QG:WG;e[a.offset]=Ut.transform(-i);const l=Ut.transform(t),u=Ut.transform(n);e[a.array]=`${l} ${u}`}function O8(e,{attrX:t,attrY:n,attrScale:i,pathLength:r,pathSpacing:a=1,pathOffset:l=0,...u},h,f,d){if(tx(e,u,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:y}=e;p.transform&&(y.transform=p.transform,delete p.transform),(y.transform||p.transformOrigin)&&(y.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),y.transform&&(y.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete p.transformBox),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),i!==void 0&&(p.scale=i),r!==void 0&&JG(p,r,a,l,!1)}const z8=()=>({...ex(),attrs:{}}),D8=e=>typeof e=="string"&&e.toLowerCase()==="svg";function tY(e,t,n,i){const r=O.useMemo(()=>{const a=z8();return O8(a,t,D8(i),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};R8(a,e.style,e),r.style={...a,...r.style}}return r}const eY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nx(e){return typeof e!="string"||e.includes("-")?!1:!!(eY.indexOf(e)>-1||/[A-Z]/u.test(e))}function nY(e,t,n,{latestValues:i},r,a=!1){const u=(nx(e)?tY:KG)(t,i,r,e),h=VG(t,typeof e=="string",a),f=e!==O.Fragment?{...h,...u,ref:n}:{},{children:d}=t,p=O.useMemo(()=>Sn(d)?d.get():d,[d]);return O.createElement(e,{...f,children:p})}function ES(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function ix(e,t,n,i){if(typeof t=="function"){const[r,a]=ES(i);t=t(n!==void 0?n:e.custom,r,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,a]=ES(i);t=t(n!==void 0?n:e.custom,r,a)}return t}function p0(e){return Sn(e)?e.get():e}function iY({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,r){return{latestValues:rY(n,i,r,e),renderState:t()}}function rY(e,t,n,i){const r={},a=i(e,{});for(const y in a)r[y]=p0(a[y]);let{initial:l,animate:u}=e;const h=Ep(e),f=A8(e);t&&f&&!h&&e.inherit!==!1&&(l===void 0&&(l=t.initial),u===void 0&&(u=t.animate));let d=n?n.initial===!1:!1;d=d||l===!1;const p=d?u:l;if(p&&typeof p!="boolean"&&!wp(p)){const y=Array.isArray(p)?p:[p];for(let _=0;_<y.length;_++){const v=ix(e,y[_]);if(v){const{transitionEnd:w,transition:E,...M}=v;for(const R in M){let z=M[R];if(Array.isArray(z)){const D=d?z.length-1:0;z=z[D]}z!==null&&(r[R]=z)}for(const R in w)r[R]=w[R]}}}return r}const L8=e=>(t,n)=>{const i=O.useContext(bp),r=O.useContext(Ov),a=()=>iY(e,t,i,r);return n?a():BI(a)};function rx(e,t,n){var a;const{style:i}=e,r={};for(const l in i)(Sn(i[l])||t.style&&Sn(t.style[l])||C8(l,e)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(r[l]=i[l]);return r}const sY=L8({scrapeMotionValuesFromProps:rx,createRenderState:ex});function U8(e,t,n){const i=rx(e,t,n);for(const r in e)if(Sn(e[r])||Sn(t[r])){const a=Ec.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[a]=e[r]}return i}const aY=L8({scrapeMotionValuesFromProps:U8,createRenderState:z8}),oY=Symbol.for("motionComponentSymbol");function $l(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function lY(e,t,n){return O.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):$l(n)&&(n.current=i))},[t])}const sx=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uY="framerAppearId",N8="data-"+sx(uY),k8=O.createContext({});function cY(e,t,n,i,r){var w,E;const{visualElement:a}=O.useContext(bp),l=O.useContext(M8),u=O.useContext(Ov),h=O.useContext(T8).reducedMotion,f=O.useRef(null);i=i||l.renderer,!f.current&&i&&(f.current=i(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const d=f.current,p=O.useContext(k8);d&&!d.projection&&r&&(d.type==="html"||d.type==="svg")&&hY(f.current,n,r,p);const y=O.useRef(!1);O.useInsertionEffect(()=>{d&&y.current&&d.update(n,u)});const _=n[N8],v=O.useRef(!!_&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,_))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,_)));return FI(()=>{d&&(y.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),v.current&&d.animationState&&d.animationState.animateChanges())}),O.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)==null||M.call(window,_)}),v.current=!1),d.enteringChildren=void 0)}),d}function hY(e,t,n,i){const{layoutId:r,layout:a,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:f,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:P8(e.parent)),e.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!l||u&&$l(u),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:d,layoutScroll:h,layoutRoot:f})}function P8(e){if(e)return e.options.allowProjection!==!1?e.projection:P8(e.parent)}function Mg(e,{forwardMotionProps:t=!1}={},n,i){n&&BG(n);const r=nx(e)?aY:sY;function a(u,h){let f;const d={...O.useContext(T8),...u,layoutId:fY(u)},{isStatic:p}=d,y=HG(u),_=r(u,p);if(!p&&Rv){dY();const v=mY(d);f=v.MeasureLayout,y.visualElement=cY(e,_,d,i,v.ProjectionNode)}return B.jsxs(bp.Provider,{value:y,children:[f&&y.visualElement?B.jsx(f,{visualElement:y.visualElement,...d}):null,nY(e,u,lY(_,y.visualElement,h),_,p,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=O.forwardRef(a);return l[oY]=e,l}function fY({layoutId:e}){const t=O.useContext(U5).id;return t&&e!==void 0?t+"-"+e:e}function dY(e,t){O.useContext(M8).strict}function mY(e){const{drag:t,layout:n}=lc;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function pY(e,t){if(typeof Proxy>"u")return Mg;const n=new Map,i=(a,l)=>Mg(a,l,e,t),r=(a,l)=>i(a,l);return new Proxy(r,{get:(a,l)=>l==="create"?i:(n.has(l)||n.set(l,Mg(l,void 0,e,t)),n.get(l))})}function B8({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function _Y({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function yY(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Sg(e){return e===void 0||e===1}function j1({scale:e,scaleX:t,scaleY:n}){return!Sg(e)||!Sg(t)||!Sg(n)}function uo(e){return j1(e)||F8(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function F8(e){return TS(e.x)||TS(e.y)}function TS(e){return e&&e!=="0%"}function N0(e,t,n){const i=e-n,r=t*i;return n+r}function MS(e,t,n,i,r){return r!==void 0&&(e=N0(e,r,i)),N0(e,n,i)+t}function V1(e,t=0,n=1,i,r){e.min=MS(e.min,t,n,i,r),e.max=MS(e.max,t,n,i,r)}function j8(e,{x:t,y:n}){V1(e.x,t.translate,t.scale,t.originPoint),V1(e.y,n.translate,n.scale,n.originPoint)}const SS=.999999999999,AS=1.0000000000001;function gY(e,t,n,i=!1){const r=n.length;if(!r)return;t.x=t.y=1;let a,l;for(let u=0;u<r;u++){a=n[u],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Il(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,j8(e,l)),i&&uo(a.latestValues)&&Il(e,a.latestValues))}t.x<AS&&t.x>SS&&(t.x=1),t.y<AS&&t.y>SS&&(t.y=1)}function Hl(e,t){e.min=e.min+t,e.max=e.max+t}function CS(e,t,n,i,r=.5){const a=Ae(e.min,e.max,r);V1(e,t,n,a,i)}function Il(e,t){CS(e.x,t.x,t.scaleX,t.scale,t.originX),CS(e.y,t.y,t.scaleY,t.scale,t.originY)}function V8(e,t){return B8(yY(e.getBoundingClientRect(),t))}function vY(e,t,n){const i=V8(e,n),{scroll:r}=t;return r&&(Hl(i.x,r.offset.x),Hl(i.y,r.offset.y)),i}const RS=()=>({translate:0,scale:1,origin:0,originPoint:0}),ql=()=>({x:RS(),y:RS()}),OS=()=>({min:0,max:0}),Fe=()=>({x:OS(),y:OS()}),$1={current:null},$8={current:!1};function xY(){if($8.current=!0,!!Rv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>$1.current=e.matches;e.addEventListener("change",t),t()}else $1.current=!1}const bY=new WeakMap;function wY(e,t,n){for(const i in t){const r=t[i],a=n[i];if(Sn(r))e.addValue(i,r);else if(Sn(a))e.addValue(i,oc(r,{owner:e}));else if(a!==r)if(e.hasValue(i)){const l=e.getValue(i);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=e.getStaticValue(i);e.addValue(i,oc(l!==void 0?l:r,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const zS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class EY{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Yv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Kn.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Te.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=Ep(n),this.isVariantNode=A8(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in p){const _=p[y];h[y]!==void 0&&Sn(_)&&_.set(h[y])}}mount(t){var n;this.current=t,bY.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),$8.current||xY(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$1.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Ua(this.notifyUpdate),Ua(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Tc.has(t);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Te.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in lc){const n=lc[t];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[t]&&r&&i(this.props)&&(this.features[t]=new r(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<zS.length;i++){const r=zS[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,l=t[a];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=wY(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=oc(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(N5(i)||P5(i))?i=parseFloat(i):!kG(i)&&Na.test(n)&&(i=g8(t,n)),this.setBaseTarget(t,Sn(i)?i.get():i)),Sn(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=ix(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(i=l[t])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Sn(r)?r:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Nv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Kv.render(this.render)}}class H8 extends EY{constructor(){super(...arguments),this.KeyframeResolver=EG}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Sn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function I8(e,{style:t,vars:n},i,r){const a=e.style;let l;for(l in t)a[l]=t[l];r==null||r.applyProjectionStyles(a,i);for(l in n)a.setProperty(l,n[l])}function TY(e){return window.getComputedStyle(e)}class MY extends H8{constructor(){super(...arguments),this.type="html",this.renderInstance=I8}readValueFromInstance(t,n){var i;if(Tc.has(n))return(i=this.projection)!=null&&i.isProjecting?L1(n):$q(t,n);{const r=TY(t),a=(Bv(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return V8(t,n)}build(t,n,i){tx(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return rx(t,n,i)}}const q8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function SY(e,t,n,i){I8(e,t,void 0,i);for(const r in t.attrs)e.setAttribute(q8.has(r)?r:sx(r),t.attrs[r])}class AY extends H8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Tc.has(n)){const i=y8(n);return i&&i.default||0}return n=q8.has(n)?n:sx(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return U8(t,n,i)}build(t,n,i){O8(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,r){SY(t,n,i,r)}mount(t){this.isSVGTag=D8(t.tagName),super.mount(t)}}const CY=(e,t)=>nx(e)?new AY(t):new MY(t,{allowProjection:e!==O.Fragment});function Ql(e,t,n){const i=e.getProps();return ix(i,t,n!==void 0?n:i.custom,e)}const H1=e=>Array.isArray(e);function RY(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,oc(n))}function OY(e){return H1(e)?e[e.length-1]||0:e}function zY(e,t){const n=Ql(e,t);let{transitionEnd:i={},transition:r={},...a}=n||{};a={...a,...i};for(const l in a){const u=OY(a[l]);RY(e,l,u)}}function DY(e){return!!(Sn(e)&&e.add)}function I1(e,t){const n=e.getValue("willChange");if(DY(n))return n.add(t);if(!n&&As.WillChange){const i=new As.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function G8(e){return e.props[N8]}const LY=e=>e!==null;function UY(e,{repeat:t,repeatType:n="loop"},i){const r=e.filter(LY),a=t&&n!=="loop"&&t%2===1?0:r.length-1;return r[a]}const NY={type:"spring",stiffness:500,damping:25,restSpeed:10},kY=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),PY={type:"keyframes",duration:.8},BY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},FY=(e,{keyframes:t})=>t.length>2?PY:Tc.has(e)?e.startsWith("scale")?kY(t[1]):NY:BY;function jY({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:l,repeatDelay:u,from:h,elapsed:f,...d}){return!!Object.keys(d).length}const ax=(e,t,n,i={},r,a)=>l=>{const u=Xv(i,e)||{},h=u.delay||i.delay||0;let{elapsed:f=0}=i;f=f-Dr(h);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:y=>{t.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:a?void 0:r};jY(u)||Object.assign(d,FY(e,d)),d.duration&&(d.duration=Dr(d.duration)),d.repeatDelay&&(d.repeatDelay=Dr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(B1(d),d.delay===0&&(p=!0)),(As.instantAnimations||As.skipAnimations)&&(p=!0,B1(d),d.delay=0),d.allowFlatten=!u.type&&!u.ease,p&&!a&&t.get()!==void 0){const y=UY(d.keyframes,u);if(y!==void 0){Te.update(()=>{d.onUpdate(y),d.onComplete()});return}}return u.isSync?new Gv(d):new hG(d)};function VY({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function Y8(e,t,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:l,...u}=t;i&&(a=i);const h=[],f=r&&e.animationState&&e.animationState.getState()[r];for(const d in u){const p=e.getValue(d,e.latestValues[d]??null),y=u[d];if(y===void 0||f&&VY(f,d))continue;const _={delay:n,...Xv(a||{},d)},v=p.get();if(v!==void 0&&!p.isAnimating&&!Array.isArray(y)&&y===v&&!_.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const M=G8(e);if(M){const R=window.MotionHandoffAnimation(M,d,Te);R!==null&&(_.startTime=R,w=!0)}}I1(e,d),p.start(ax(d,p,y,e.shouldReduceMotion&&m8.has(d)?{type:!1}:_,e,w));const E=p.animation;E&&h.push(E)}return l&&Promise.all(h).then(()=>{Te.update(()=>{l&&zY(e,l)})}),h}function X8(e,t,n,i=0,r=1){const a=Array.from(e).sort((f,d)=>f.sortNodePosition(d)).indexOf(t),l=e.size,u=(l-1)*i;return typeof n=="function"?n(a,l):r===1?a*i:u-a*i}function q1(e,t,n={}){var h;const i=Ql(e,t,n.type==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const a=i?()=>Promise.all(Y8(e,i,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:y}=r;return $Y(e,t,f,d,p,y,n)}:()=>Promise.resolve(),{when:u}=r;if(u){const[f,d]=u==="beforeChildren"?[a,l]:[l,a];return f().then(()=>d())}else return Promise.all([a(),l(n.delay)])}function $Y(e,t,n=0,i=0,r=0,a=1,l){const u=[];for(const h of e.variantChildren)h.notify("AnimationStart",t),u.push(q1(h,t,{...l,delay:n+(typeof i=="function"?0:i)+X8(e.variantChildren,h,i,r,a)}).then(()=>h.notify("AnimationComplete",t)));return Promise.all(u)}function HY(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const r=t.map(a=>q1(e,a,n));i=Promise.all(r)}else if(typeof t=="string")i=q1(e,t,n);else{const r=typeof t=="function"?Ql(e,t,n.custom):t;i=Promise.all(Y8(e,r,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function Z8(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const IY=Jv.length;function K8(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?K8(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<IY;n++){const i=Jv[n],r=e.props[i];(lf(r)||r===!1)&&(t[i]=r)}return t}const qY=[...Wv].reverse(),GY=Wv.length;function YY(e){return t=>Promise.all(t.map(({animation:n,options:i})=>HY(e,n,i)))}function XY(e){let t=YY(e),n=DS(),i=!0;const r=h=>(f,d)=>{var y;const p=Ql(e,d,h==="exit"?(y=e.presenceContext)==null?void 0:y.custom:void 0);if(p){const{transition:_,transitionEnd:v,...w}=p;f={...f,...w,...v}}return f};function a(h){t=h(e)}function l(h){const{props:f}=e,d=K8(e.parent)||{},p=[],y=new Set;let _={},v=1/0;for(let E=0;E<GY;E++){const M=qY[E],R=n[M],z=f[M]!==void 0?f[M]:d[M],D=lf(z),C=M===h?R.isActive:null;C===!1&&(v=E);let N=z===d[M]&&z!==f[M]&&D;if(N&&i&&e.manuallyAnimateOnMount&&(N=!1),R.protectedKeys={..._},!R.isActive&&C===null||!z&&!R.prevProp||wp(z)||typeof z=="boolean")continue;const k=ZY(R.prevProp,z);let $=k||M===h&&R.isActive&&!N&&D||E>v&&D,q=!1;const X=Array.isArray(z)?z:[z];let tt=X.reduce(r(M),{});C===!1&&(tt={});const{prevResolvedValues:at={}}=R,J={...at,...tt},et=nt=>{$=!0,y.has(nt)&&(q=!0,y.delete(nt)),R.needsAnimating[nt]=!0;const ft=e.getValue(nt);ft&&(ft.liveStyle=!1)};for(const nt in J){const ft=tt[nt],ht=at[nt];if(_.hasOwnProperty(nt))continue;let F=!1;H1(ft)&&H1(ht)?F=!Z8(ft,ht):F=ft!==ht,F?ft!=null?et(nt):y.add(nt):ft!==void 0&&y.has(nt)?et(nt):R.protectedKeys[nt]=!0}R.prevProp=z,R.prevResolvedValues=tt,R.isActive&&(_={..._,...tt}),i&&e.blockInitialAnimation&&($=!1);const bt=N&&k;$&&(!bt||q)&&p.push(...X.map(nt=>{const ft={type:M};if(typeof nt=="string"&&i&&!bt&&e.manuallyAnimateOnMount&&e.parent){const{parent:ht}=e,F=Ql(ht,nt);if(ht.enteringChildren&&F){const{delayChildren:ot}=F.transition||{};ft.delay=X8(ht.enteringChildren,e,ot)}}return{animation:nt,options:ft}}))}if(y.size){const E={};if(typeof f.initial!="boolean"){const M=Ql(e,Array.isArray(f.initial)?f.initial[0]:f.initial);M&&M.transition&&(E.transition=M.transition)}y.forEach(M=>{const R=e.getBaseTarget(M),z=e.getValue(M);z&&(z.liveStyle=!0),E[M]=R??null}),p.push({animation:E})}let w=!!p.length;return i&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(w=!1),i=!1,w?t(p):Promise.resolve()}function u(h,f){var p;if(n[h].isActive===f)return Promise.resolve();(p=e.variantChildren)==null||p.forEach(y=>{var _;return(_=y.animationState)==null?void 0:_.setActive(h,f)}),n[h].isActive=f;const d=l(h);for(const y in n)n[y].protectedKeys={};return d}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=DS(),i=!0}}}function ZY(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Z8(t,e):!1}function ro(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function DS(){return{animate:ro(!0),whileInView:ro(),whileHover:ro(),whileTap:ro(),whileDrag:ro(),whileFocus:ro(),exit:ro()}}class Pa{constructor(t){this.isMounted=!1,this.node=t}update(){}}class KY extends Pa{constructor(t){super(t),t.animationState||(t.animationState=XY(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();wp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let QY=0;class WY extends Pa{constructor(){super(...arguments),this.id=QY++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const JY={animation:{Feature:KY},exit:{Feature:WY}};function cf(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function dd(e){return{point:{x:e.pageX,y:e.pageY}}}const tX=e=>t=>Qv(t)&&e(t,dd(t));function Kh(e,t,n,i){return cf(e,t,tX(n),i)}const Q8=1e-4,eX=1-Q8,nX=1+Q8,W8=.01,iX=0-W8,rX=0+W8;function kn(e){return e.max-e.min}function sX(e,t,n){return Math.abs(e-t)<=n}function LS(e,t,n,i=.5){e.origin=i,e.originPoint=Ae(t.min,t.max,e.origin),e.scale=kn(n)/kn(t),e.translate=Ae(n.min,n.max,e.origin)-e.originPoint,(e.scale>=eX&&e.scale<=nX||isNaN(e.scale))&&(e.scale=1),(e.translate>=iX&&e.translate<=rX||isNaN(e.translate))&&(e.translate=0)}function Qh(e,t,n,i){LS(e.x,t.x,n.x,i?i.originX:void 0),LS(e.y,t.y,n.y,i?i.originY:void 0)}function US(e,t,n){e.min=n.min+t.min,e.max=e.min+kn(t)}function aX(e,t,n){US(e.x,t.x,n.x),US(e.y,t.y,n.y)}function NS(e,t,n){e.min=t.min-n.min,e.max=e.min+kn(t)}function Wh(e,t,n){NS(e.x,t.x,n.x),NS(e.y,t.y,n.y)}function Pi(e){return[e("x"),e("y")]}const J8=({current:e})=>e?e.ownerDocument.defaultView:null,kS=(e,t)=>Math.abs(e-t);function oX(e,t){const n=kS(e.x,t.x),i=kS(e.y,t.y);return Math.sqrt(n**2+i**2)}class tz{constructor(t,n,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Cg(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,v=oX(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!v)return;const{point:w}=y,{timestamp:E}=fn;this.history.push({...w,timestamp:E});const{onStart:M,onMove:R}=this.handlers;_||(M&&M(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Ag(_,this.transformPagePoint),Te.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=Cg(y.type==="pointercancel"?this.lastMoveEventInfo:Ag(_,this.transformPagePoint),this.history);this.startEvent&&v&&v(y,M),w&&w(y,M)},!Qv(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=r||window;const u=dd(t),h=Ag(u,this.transformPagePoint),{point:f}=h,{timestamp:d}=fn;this.history=[{...f,timestamp:d}];const{onSessionStart:p}=n;p&&p(t,Cg(h,this.history)),this.removeListeners=cd(Kh(this.contextWindow,"pointermove",this.handlePointerMove),Kh(this.contextWindow,"pointerup",this.handlePointerUp),Kh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ua(this.updatePoint)}}function Ag(e,t){return t?{point:t(e.point)}:e}function PS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Cg({point:e},t){return{point:e,delta:PS(e,ez(t)),offset:PS(e,lX(t)),velocity:uX(t,.1)}}function lX(e){return e[0]}function ez(e){return e[e.length-1]}function uX(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const r=ez(e);for(;n>=0&&(i=e[n],!(r.timestamp-i.timestamp>Dr(t)));)n--;if(!i)return{x:0,y:0};const a=Lr(r.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const l={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function cX(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Ae(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Ae(n,e,i.max):Math.min(e,n)),e}function BS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function hX(e,{top:t,left:n,bottom:i,right:r}){return{x:BS(e.x,n,r),y:BS(e.y,t,i)}}function jS(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function fX(e,t){return{x:jS(e.x,t.x),y:jS(e.y,t.y)}}function dX(e,t){let n=.5;const i=kn(e),r=kn(t);return r>i?n=sf(t.min,t.max-i,e.min):i>r&&(n=sf(e.min,e.max-r,t.min)),Ss(0,1,n)}function mX(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const G1=.35;function pX(e=G1){return e===!1?e=0:e===!0&&(e=G1),{x:VS(e,"left","right"),y:VS(e,"top","bottom")}}function VS(e,t,n){return{min:$S(e,t),max:$S(e,n)}}function $S(e,t){return typeof e=="number"?e:e[t]||0}const _X=new WeakMap;class yX{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=p=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(dd(p).point)},l=(p,y)=>{const{drag:_,dragPropagation:v,onDragStart:w}=this.getProps();if(_&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=CG(_),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pi(M=>{let R=this.getAxisMotionValue(M).get()||0;if(Ur.test(R)){const{projection:z}=this.visualElement;if(z&&z.layout){const D=z.layout.layoutBox[M];D&&(R=kn(D)*(parseFloat(R)/100))}}this.originPoint[M]=R}),w&&Te.postRender(()=>w(p,y)),I1(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},u=(p,y)=>{this.latestPointerEvent=p,this.latestPanInfo=y;const{dragPropagation:_,dragDirectionLock:v,onDirectionLock:w,onDrag:E}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:M}=y;if(v&&this.currentDirection===null){this.currentDirection=gX(M),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",y.point,M),this.updateAxis("y",y.point,M),this.visualElement.render(),E&&E(p,y)},h=(p,y)=>{this.latestPointerEvent=p,this.latestPanInfo=y,this.stop(p,y),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Pi(p=>{var y;return this.getAnimationState(p)==="paused"&&((y=this.getAxisMotionValue(p).animation)==null?void 0:y.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new tz(t,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:i,contextWindow:J8(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,r=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!i)return;const{velocity:l}=r;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&Te.postRender(()=>u(i,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:r}=this.getProps();if(!i||!Km(t,r,this.currentDirection))return;const a=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=cX(l,this.constraints[t],this.elastic[t])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,r=this.constraints;t&&$l(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=hX(i.layoutBox,t):this.constraints=!1,this.elastic=pX(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Pi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=mX(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!$l(t))return!1;const i=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=vY(i,r.root,this.visualElement.getTransformPagePoint());let l=fX(r.layout.layoutBox,a);if(n){const u=n(_Y(l));this.hasMutatedConstraints=!!u,u&&(l=B8(u))}return l}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=Pi(d=>{if(!Km(d,n,this.currentDirection))return;let p=h&&h[d]||{};l&&(p={min:0,max:0});const y=r?200:1e6,_=r?40:1e7,v={type:"inertia",velocity:i?t[d]:0,bounceStiffness:y,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...a,...p};return this.startAxisValueAnimation(d,v)});return Promise.all(f).then(u)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return I1(this.visualElement,t),i.start(ax(t,i,0,n,this.visualElement,!1))}stopAnimation(){Pi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Pi(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Pi(n=>{const{drag:i}=this.getProps();if(!Km(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:l,max:u}=r.layout.layoutBox[n];a.set(t[n]-Ae(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!$l(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Pi(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();r[l]=dX({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Pi(l=>{if(!Km(l,t,null))return;const u=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];u.set(Ae(h,f,r[l]))})}addListeners(){if(!this.visualElement.current)return;_X.set(this.visualElement,this);const t=this.visualElement.current,n=Kh(t,"pointerdown",h=>{const{drag:f,dragListener:d=!0}=this.getProps();f&&d&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();$l(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Te.read(i);const l=cf(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(Pi(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=h[d].translate,p.set(p.get()+h[d].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:l=G1,dragMomentum:u=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function Km(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function gX(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class vX extends Pa{constructor(t){super(t),this.removeGroupControls=Vi,this.removeListeners=Vi,this.controls=new yX(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vi}unmount(){this.removeGroupControls(),this.removeListeners()}}const HS=e=>(t,n)=>{e&&Te.postRender(()=>e(t,n))};class xX extends Pa{constructor(){super(...arguments),this.removePointerDownListener=Vi}onPointerDown(t){this.session=new tz(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:J8(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:HS(t),onStart:HS(n),onMove:i,onEnd:(a,l)=>{delete this.session,r&&Te.postRender(()=>r(a,l))}}}mount(){this.removePointerDownListener=Kh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function IS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Bh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ut.test(e))e=parseFloat(e);else return e;const n=IS(e,t.target.x),i=IS(e,t.target.y);return`${n}% ${i}%`}},bX={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,r=Na.parse(e);if(r.length>5)return i;const a=Na.createTransformer(e),l=typeof r[0]!="number"?1:0,u=n.x.scale*t.x,h=n.y.scale*t.y;r[0+l]/=u,r[1+l]/=h;const f=Ae(u,h,.5);return typeof r[2+l]=="number"&&(r[2+l]/=f),typeof r[3+l]=="number"&&(r[3+l]/=f),a(r)}};let Rg=!1;class wX extends O.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:a}=t;IG(EX),a&&(n.group&&n.group.add(a),i&&i.register&&r&&i.register(a),Rg&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),_0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:r,isPresent:a}=this.props,{projection:l}=i;return l&&(l.isPresent=a,Rg=!0,r||t.layoutDependency!==n||n===void 0||t.isPresent!==a?l.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?l.promote():l.relegate()||Te.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Kv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=t;Rg=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function nz(e){const[t,n]=PG(),i=O.useContext(U5);return B.jsx(wX,{...e,layoutGroup:i,switchLayoutGroup:O.useContext(k8),isPresent:t,safeToRemove:n})}const EX={borderRadius:{...Bh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bh,borderTopRightRadius:Bh,borderBottomLeftRadius:Bh,borderBottomRightRadius:Bh,boxShadow:bX};function TX(e,t,n){const i=Sn(e)?e:oc(e);return i.start(ax("",i,t,n)),i.animation}const MX=(e,t)=>e.depth-t.depth;class SX{constructor(){this.children=[],this.isDirty=!1}add(t){zv(this.children,t),this.isDirty=!0}remove(t){Dv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(MX),this.isDirty=!1,this.children.forEach(t)}}function AX(e,t){const n=Kn.now(),i=({timestamp:r})=>{const a=r-n;a>=t&&(Ua(i),e(a-t))};return Te.setup(i,!0),()=>Ua(i)}const iz=["TopLeft","TopRight","BottomLeft","BottomRight"],CX=iz.length,qS=e=>typeof e=="string"?parseFloat(e):e,GS=e=>typeof e=="number"||Ut.test(e);function RX(e,t,n,i,r,a){r?(e.opacity=Ae(0,n.opacity??1,OX(i)),e.opacityExit=Ae(t.opacity??1,0,zX(i))):a&&(e.opacity=Ae(t.opacity??1,n.opacity??1,i));for(let l=0;l<CX;l++){const u=`border${iz[l]}Radius`;let h=YS(t,u),f=YS(n,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||GS(h)===GS(f)?(e[u]=Math.max(Ae(qS(h),qS(f),i),0),(Ur.test(f)||Ur.test(h))&&(e[u]+="%")):e[u]=f}(t.rotate||n.rotate)&&(e.rotate=Ae(t.rotate||0,n.rotate||0,i))}function YS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const OX=rz(0,.5,q5),zX=rz(.5,.95,Vi);function rz(e,t,n){return i=>i<e?0:i>t?1:n(sf(e,t,i))}function XS(e,t){e.min=t.min,e.max=t.max}function ki(e,t){XS(e.x,t.x),XS(e.y,t.y)}function ZS(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function KS(e,t,n,i,r){return e-=t,e=N0(e,1/n,i),r!==void 0&&(e=N0(e,1/r,i)),e}function DX(e,t=0,n=1,i=.5,r,a=e,l=e){if(Ur.test(t)&&(t=parseFloat(t),t=Ae(l.min,l.max,t/100)-l.min),typeof t!="number")return;let u=Ae(a.min,a.max,i);e===a&&(u-=t),e.min=KS(e.min,t,n,u,r),e.max=KS(e.max,t,n,u,r)}function QS(e,t,[n,i,r],a,l){DX(e,t[n],t[i],t[r],t.scale,a,l)}const LX=["x","scaleX","originX"],UX=["y","scaleY","originY"];function WS(e,t,n,i){QS(e.x,t,LX,n?n.x:void 0,i?i.x:void 0),QS(e.y,t,UX,n?n.y:void 0,i?i.y:void 0)}function JS(e){return e.translate===0&&e.scale===1}function sz(e){return JS(e.x)&&JS(e.y)}function tA(e,t){return e.min===t.min&&e.max===t.max}function NX(e,t){return tA(e.x,t.x)&&tA(e.y,t.y)}function eA(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function az(e,t){return eA(e.x,t.x)&&eA(e.y,t.y)}function nA(e){return kn(e.x)/kn(e.y)}function iA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class kX{constructor(){this.members=[]}add(t){zv(this.members,t),t.scheduleRender()}remove(t){if(Dv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function PX(e,t,n){let i="";const r=e.x.translate/t.x,a=e.y.translate/t.y,l=(n==null?void 0:n.z)||0;if((r||a||l)&&(i=`translate3d(${r}px, ${a}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:f,rotate:d,rotateX:p,rotateY:y,skewX:_,skewY:v}=n;f&&(i=`perspective(${f}px) ${i}`),d&&(i+=`rotate(${d}deg) `),p&&(i+=`rotateX(${p}deg) `),y&&(i+=`rotateY(${y}deg) `),_&&(i+=`skewX(${_}deg) `),v&&(i+=`skewY(${v}deg) `)}const u=e.x.scale*t.x,h=e.y.scale*t.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const Og=["","X","Y","Z"],BX=1e3;let FX=0;function zg(e,t,n,i){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function oz(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=G8(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Te,!(r||a))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&oz(i)}function lz({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(l={},u=t==null?void 0:t()){this.id=FX++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach($X),this.nodes.forEach(GX),this.nodes.forEach(YX),this.nodes.forEach(HX)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new SX)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Nv),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=E8(l)&&!UG(l),this.instance=l;const{layoutId:u,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),e){let d,p=0;const y=()=>this.root.updateBlockedByResize=!1;Te.read(()=>{p=window.innerWidth}),e(l,()=>{const _=window.innerWidth;_!==p&&(p=_,this.root.updateBlockedByResize=!0,d&&d(),d=AX(y,250),_0.hasAnimatedSinceResize&&(_0.hasAnimatedSinceResize=!1,this.nodes.forEach(aA)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||h)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:y,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||f.getDefaultTransition()||WX,{onLayoutAnimationStart:w,onLayoutAnimationComplete:E}=f.getProps(),M=!this.targetLayout||!az(this.targetLayout,_),R=!p&&y;if(this.options.layoutRoot||this.resumeFrom||R||p&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const z={...Xv(v,"layout"),onPlay:w,onComplete:E};(f.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z),this.setAnimationOrigin(d,R)}else p||aA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ua(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XX),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&oz(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(sA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(qX),this.nodes.forEach(jX),this.nodes.forEach(VX)):this.nodes.forEach(sA),this.clearAllSnapshots();const u=Kn.now();fn.delta=Ss(0,1e3/60,u-fn.timestamp),fn.timestamp=u,fn.isProcessing=!0,vg.update.process(fn),vg.preRender.process(fn),vg.render.process(fn),fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Kv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(IX),this.sharedNodes.forEach(ZX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kn(this.snapshot.measuredBox.x)&&!kn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!sz(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,d=f!==this.prevTransformTemplateValue;l&&this.instance&&(u||uo(this.latestValues)||d)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),JX(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:l}=this.options;if(!l)return Fe();const u=l.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(tZ))){const{scroll:d}=this.root;d&&(Hl(u.x,d.offset.x),Hl(u.y,d.offset.y))}return u}removeElementScroll(l){var h;const u=Fe();if(ki(u,l),(h=this.scroll)!=null&&h.wasRoot)return u;for(let f=0;f<this.path.length;f++){const d=this.path[f],{scroll:p,options:y}=d;d!==this.root&&p&&y.layoutScroll&&(p.wasRoot&&ki(u,l),Hl(u.x,p.offset.x),Hl(u.y,p.offset.y))}return u}applyTransform(l,u=!1){const h=Fe();ki(h,l);for(let f=0;f<this.path.length;f++){const d=this.path[f];!u&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Il(h,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),uo(d.latestValues)&&Il(h,d.latestValues)}return uo(this.latestValues)&&Il(h,this.latestValues),h}removeTransform(l){const u=Fe();ki(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!uo(f.latestValues))continue;j1(f.latestValues)&&f.updateSnapshot();const d=Fe(),p=f.measurePageBox();ki(d,p),WS(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,d)}return uo(this.latestValues)&&WS(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var y;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=fn.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),Wh(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),ki(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Fe(),this.targetWithTransforms=Fe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aX(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ki(this.target,this.layout.layoutBox),j8(this.target,this.targetDelta)):ki(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),Wh(this.relativeTargetOrigin,this.target,_.target),ki(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||j1(this.parent.latestValues)||F8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===fn.timestamp&&(h=!1),h)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;ki(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,y=this.treeScale.y;gY(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Fe());const{target:_}=l;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ZS(this.prevProjectionDelta.x,this.projectionDelta.x),ZS(this.prevProjectionDelta.y,this.projectionDelta.y)),Qh(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==y||!iA(this.projectionDelta.x,this.prevProjectionDelta.x)||!iA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ql(),this.projectionDelta=ql(),this.projectionDeltaWithTransform=ql()}setAnimationOrigin(l,u=!1){const h=this.snapshot,f=h?h.latestValues:{},d={...this.latestValues},p=ql();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=Fe(),_=h?h.source:void 0,v=this.layout?this.layout.source:void 0,w=_!==v,E=this.getStack(),M=!E||E.members.length<=1,R=!!(w&&!M&&this.options.crossfade===!0&&!this.path.some(QX));this.animationProgress=0;let z;this.mixTargetDelta=D=>{const C=D/1e3;oA(p.x,l.x,C),oA(p.y,l.y,C),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wh(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KX(this.relativeTarget,this.relativeTargetOrigin,y,C),z&&NX(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=Fe()),ki(z,this.relativeTarget)),w&&(this.animationValues=d,RX(d,f,this.latestValues,C,R,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,h,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(f=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||f.stop(),this.pendingAnimation&&(Ua(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Te.update(()=>{_0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=oc(0)),this.currentAnimation=TX(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),l.onUpdate&&l.onUpdate(d)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(BX),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:d}=l;if(!(!u||!h||!f)){if(this!==l&&this.layout&&f&&uz(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||Fe();const p=kn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+p;const y=kn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+y}ki(u,h),Il(u,d),Qh(this.projectionDeltaWithTransform,this.layoutCorrected,u,d)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new kX),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const f={};h.z&&zg("z",l,f,this.animationValues);for(let d=0;d<Og.length;d++)zg(`rotate${Og[d]}`,l,f,this.animationValues),zg(`skew${Og[d]}`,l,f,this.animationValues);l.render();for(const d in f)l.setStaticValue(d,f[d]),this.animationValues&&(this.animationValues[d]=f[d]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=p0(u==null?void 0:u.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=p0(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!uo(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const d=f.animationValues||f.latestValues;this.applyTransformsToTarget();let p=PX(this.projectionDeltaWithTransform,this.treeScale,d);h&&(p=h(d,p)),l.transform=p;const{x:y,y:_}=this.projectionDelta;l.transformOrigin=`${y.origin*100}% ${_.origin*100}% 0`,f.animationValues?l.opacity=f===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in uf){if(d[v]===void 0)continue;const{correct:w,applyTo:E,isCSSVariable:M}=uf[v],R=p==="none"?d[v]:w(d[v],f);if(E){const z=E.length;for(let D=0;D<z;D++)l[E[D]]=R}else M?this.options.visualElement.renderState.vars[v]=R:l[v]=R}this.options.layoutId&&(l.pointerEvents=f===this?p0(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(rA),this.root.sharedNodes.clear()}}}function jX(e){e.updateLayout()}function VX(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?Pi(p=>{const y=l?t.measuredBox[p]:t.layoutBox[p],_=kn(y);y.min=i[p].min,y.max=y.min+_}):uz(a,t.layoutBox,i)&&Pi(p=>{const y=l?t.measuredBox[p]:t.layoutBox[p],_=kn(i[p]);y.max=y.min+_,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+_)});const u=ql();Qh(u,i,t.layoutBox);const h=ql();l?Qh(h,e.applyTransform(r,!0),t.measuredBox):Qh(h,i,t.layoutBox);const f=!sz(u);let d=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:y,layout:_}=p;if(y&&_){const v=Fe();Wh(v,t.layoutBox,y.layoutBox);const w=Fe();Wh(w,i,_.layoutBox),az(v,w)||(d=!0),p.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=v,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function $X(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function HX(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function IX(e){e.clearSnapshot()}function rA(e){e.clearMeasurements()}function sA(e){e.isLayoutDirty=!1}function qX(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function aA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function GX(e){e.resolveTargetDelta()}function YX(e){e.calcProjection()}function XX(e){e.resetSkewAndRotation()}function ZX(e){e.removeLeadSnapshot()}function oA(e,t,n){e.translate=Ae(t.translate,0,n),e.scale=Ae(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function lA(e,t,n,i){e.min=Ae(t.min,n.min,i),e.max=Ae(t.max,n.max,i)}function KX(e,t,n,i){lA(e.x,t.x,n.x,i),lA(e.y,t.y,n.y,i)}function QX(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const WX={duration:.45,ease:[.4,0,.1,1]},uA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),cA=uA("applewebkit/")&&!uA("chrome/")?Math.round:Vi;function hA(e){e.min=cA(e.min),e.max=cA(e.max)}function JX(e){hA(e.x),hA(e.y)}function uz(e,t,n){return e==="position"||e==="preserve-aspect"&&!sX(nA(t),nA(n),.2)}function tZ(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const eZ=lz({attachResizeListener:(e,t)=>cf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dg={current:void 0},cz=lz({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Dg.current){const e=new eZ({});e.mount(window),e.setOptions({layoutScroll:!0}),Dg.current=e}return Dg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),nZ={pan:{Feature:xX},drag:{Feature:vX,ProjectionNode:cz,MeasureLayout:nz}};function fA(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,a=i[r];a&&Te.postRender(()=>a(t,dd(t)))}class iZ extends Pa{mount(){const{current:t}=this.node;t&&(this.unmount=RG(t,(n,i)=>(fA(this.node,i,"Start"),r=>fA(this.node,r,"End"))))}unmount(){}}class rZ extends Pa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cd(cf(this.node.current,"focus",()=>this.onFocus()),cf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function dA(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),a=i[r];a&&Te.postRender(()=>a(t,dd(t)))}class sZ extends Pa{mount(){const{current:t}=this.node;t&&(this.unmount=LG(t,(n,i)=>(dA(this.node,i,"Start"),(r,{success:a})=>dA(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Y1=new WeakMap,Lg=new WeakMap,aZ=e=>{const t=Y1.get(e.target);t&&t(e)},oZ=e=>{e.forEach(aZ)};function lZ({root:e,...t}){const n=e||document;Lg.has(n)||Lg.set(n,{});const i=Lg.get(n),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(oZ,{root:e,...t})),i[r]}function uZ(e,t,n){const i=lZ(t);return Y1.set(e,n),i.observe(e),()=>{Y1.delete(e),i.unobserve(e)}}const cZ={some:0,all:1};class hZ extends Pa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:a}=t,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:cZ[r]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),y=f?d:p;y&&y(h)};return uZ(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(fZ(t,n))&&this.startObserver()}unmount(){}}function fZ({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const dZ={inView:{Feature:hZ},tap:{Feature:sZ},focus:{Feature:rZ},hover:{Feature:iZ}},mZ={layout:{ProjectionNode:cz,MeasureLayout:nz}},pZ={...JY,...dZ,...nZ,...mZ},_Z=pY(pZ,CY),Ug={wrapper:{display:"inline-block",whiteSpace:"pre-wrap"},srOnly:{position:"absolute",width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0,0,0,0)",border:0},jitterStyle:{animation:"jitter 0.3s infinite"}};if(typeof window<"u"){const e="jitter-keyframes";if(!document.getElementById(e)){const t=document.createElement("style");t.id=e,t.innerHTML=`
        @keyframes jitter {
            0%, 100% { transform: translate(0, 0); }
            20% { transform: translate(-1px, 1px); }
            40% { transform: translate(1px, -1px); }
            60% { transform: translate(-1px, -1px); }
            80% { transform: translate(1px, 1px); }
        }`,document.head.appendChild(t)}}function mA({text:e,speed:t=50,maxIterations:n=10,characters:i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!@#$%^&*()_+",className:r="",parentClassName:a="",encryptedClassName:l="",animateOn:u="hover",...h}){const[f,d]=O.useState(e.split("").map(R=>({char:R,revealed:!1,iteration:0}))),[p,y]=O.useState(!1),[_,v]=O.useState(!1),w=O.useRef(null),E=R=>R===" "?" ":i[Math.floor(Math.random()*i.length)];O.useEffect(()=>{if(!p)return;let R=0;const z=setInterval(()=>{d(D=>{const C=[...D];for(let N=0;N<C.length;N++){const k=C[N];if(!k.revealed&&N<=R){k.iteration>=n?k.revealed=!0:k.iteration+=1;break}}return C.every(N=>N.revealed)&&clearInterval(z),C}),R++},t);return()=>clearInterval(z)},[p]),O.useEffect(()=>{if(u!=="view")return;const R=D=>{D.forEach(C=>{C.isIntersecting&&!_&&(y(!0),v(!0))})},z=new IntersectionObserver(R,{threshold:.1});return w.current&&z.observe(w.current),()=>{w.current&&z.unobserve(w.current)}},[u,_]);const M=u==="hover"?{onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1)}:{};return B.jsxs(_Z.span,{className:a,ref:w,style:Ug.wrapper,...M,...h,children:[B.jsx("span",{style:Ug.srOnly,children:e}),B.jsx("span",{"aria-hidden":"true",children:f.map((R,z)=>{const D=R.revealed?R.char:E(R.char);return B.jsx("span",{className:R.revealed?r:l,style:R.revealed?void 0:Ug.jitterStyle,children:D},z)})})]})}function yZ(){const[e,t]=O.useState(!1);return O.useEffect(()=>{const n=setTimeout(()=>{t(!0)},800);return()=>clearTimeout(n)},[]),B.jsxs("div",{className:"flex flex-col items-center text-center",children:[B.jsx(mA,{text:"Welcome to",speed:40,maxIterations:18,characters:"ABCD1234!?XMPLSZQK",className:"font-orbitron font-bold text-2xl text-gray-700",encryptedClassName:"font-orbitron font-bold text-2xl text-gray-400 opacity-70 animate-jitter",animateOn:"view"}),e&&B.jsx(mA,{text:"VLM Dimensions",speed:40,maxIterations:18,characters:"ABCD1234!?XMPLSZQK",className:"font-orbitron font-bold text-2xl text-gray-700",encryptedClassName:"font-orbitron font-bold text-2xl text-gray-400 opacity-70 animate-jitter",animateOn:"view"})]})}const Mc=e=>{let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);t=(t<<5)-t+i,t=t&t}return Math.abs(t)},hz=(e,t)=>Math.floor(e/Math.pow(10,t)%10),X1=(e,t)=>!(hz(e,t)%2),bn=(e,t,n)=>{const i=e%t;return n&&hz(e,n)%2===0?-i:i},jo=(e,t,n)=>t[e%n],gZ=e=>{e.slice(0,1)==="#"&&(e=e.slice(1));const t=parseInt(e.substr(0,2),16),n=parseInt(e.substr(2,2),16),i=parseInt(e.substr(4,2),16);return(t*299+n*587+i*114)/1e3>=128?"#000000":"#FFFFFF"},vZ=4,xe=80;function xZ(e,t){const n=Mc(e),i=t&&t.length;return Array.from({length:vZ},(r,a)=>({color:jo(n+a,t,i),translateX:bn(n*(a+1),xe/2-(a+17),1),translateY:bn(n*(a+1),xe/2-(a+17),2),rotate:bn(n*(a+1),360),isSquare:X1(n,2)}))}const pA=({name:e,colors:t,title:n,square:i,size:r,...a})=>{const l=xZ(e,t),u=O.useId();return B.jsxs("svg",{viewBox:"0 0 "+xe+" "+xe,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:r,height:r,...a,children:[n&&B.jsx("title",{children:e}),B.jsx("mask",{id:u,maskUnits:"userSpaceOnUse",x:0,y:0,width:xe,height:xe,children:B.jsx("rect",{width:xe,height:xe,rx:i?void 0:xe*2,fill:"#FFFFFF"})}),B.jsxs("g",{mask:`url(#${u})`,children:[B.jsx("rect",{width:xe,height:xe,fill:l[0].color}),B.jsx("rect",{x:(xe-60)/2,y:(xe-20)/2,width:xe,height:l[1].isSquare?xe:xe/8,fill:l[1].color,transform:"translate("+l[1].translateX+" "+l[1].translateY+") rotate("+l[1].rotate+" "+xe/2+" "+xe/2+")"}),B.jsx("circle",{cx:xe/2,cy:xe/2,fill:l[2].color,r:xe/5,transform:"translate("+l[2].translateX+" "+l[2].translateY+")"}),B.jsx("line",{x1:0,y1:xe/2,x2:xe,y2:xe/2,strokeWidth:2,stroke:l[3].color,transform:"translate("+l[3].translateX+" "+l[3].translateY+") rotate("+l[3].rotate+" "+xe/2+" "+xe/2+")"})]})]})},so=90,bZ=5;function wZ(e,t){const n=Mc(e),i=t&&t.length,r=Array.from({length:bZ},(l,u)=>jo(n+u,t,i)),a=[];return a[0]=r[0],a[1]=r[1],a[2]=r[1],a[3]=r[2],a[4]=r[2],a[5]=r[3],a[6]=r[3],a[7]=r[0],a[8]=r[4],a}const EZ=({name:e,colors:t,title:n,square:i,size:r,...a})=>{const l=wZ(e,t),u=At.useId();return B.jsxs("svg",{viewBox:"0 0 "+so+" "+so,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:r,height:r,...a,children:[n&&B.jsx("title",{children:e}),B.jsx("mask",{id:u,maskUnits:"userSpaceOnUse",x:0,y:0,width:so,height:so,children:B.jsx("rect",{width:so,height:so,rx:i?void 0:so*2,fill:"#FFFFFF"})}),B.jsxs("g",{mask:`url(#${u})`,children:[B.jsx("path",{d:"M0 0h90v45H0z",fill:l[0]}),B.jsx("path",{d:"M0 45h90v45H0z",fill:l[1]}),B.jsx("path",{d:"M83 45a38 38 0 00-76 0h76z",fill:l[2]}),B.jsx("path",{d:"M83 45a38 38 0 01-76 0h76z",fill:l[3]}),B.jsx("path",{d:"M77 45a32 32 0 10-64 0h64z",fill:l[4]}),B.jsx("path",{d:"M77 45a32 32 0 11-64 0h64z",fill:l[5]}),B.jsx("path",{d:"M71 45a26 26 0 00-52 0h52z",fill:l[6]}),B.jsx("path",{d:"M71 45a26 26 0 01-52 0h52z",fill:l[7]}),B.jsx("circle",{cx:45,cy:45,r:23,fill:l[8]})]})]})},TZ=64,ao=80;function MZ(e,t){const n=Mc(e),i=t&&t.length;return Array.from({length:TZ},(r,a)=>jo(n%(a+1),t,i))}const SZ=({name:e,colors:t,title:n,square:i,size:r,...a})=>{const l=MZ(e,t),u=O.useId();return B.jsxs("svg",{viewBox:"0 0 "+ao+" "+ao,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:r,height:r,...a,children:[n&&B.jsx("title",{children:e}),B.jsx("mask",{id:u,"mask-type":"alpha",maskUnits:"userSpaceOnUse",x:0,y:0,width:ao,height:ao,children:B.jsx("rect",{width:ao,height:ao,rx:i?void 0:ao*2,fill:"#FFFFFF"})}),B.jsxs("g",{mask:`url(#${u})`,children:[B.jsx("rect",{width:10,height:10,fill:l[0]}),B.jsx("rect",{x:20,width:10,height:10,fill:l[1]}),B.jsx("rect",{x:40,width:10,height:10,fill:l[2]}),B.jsx("rect",{x:60,width:10,height:10,fill:l[3]}),B.jsx("rect",{x:10,width:10,height:10,fill:l[4]}),B.jsx("rect",{x:30,width:10,height:10,fill:l[5]}),B.jsx("rect",{x:50,width:10,height:10,fill:l[6]}),B.jsx("rect",{x:70,width:10,height:10,fill:l[7]}),B.jsx("rect",{y:10,width:10,height:10,fill:l[8]}),B.jsx("rect",{y:20,width:10,height:10,fill:l[9]}),B.jsx("rect",{y:30,width:10,height:10,fill:l[10]}),B.jsx("rect",{y:40,width:10,height:10,fill:l[11]}),B.jsx("rect",{y:50,width:10,height:10,fill:l[12]}),B.jsx("rect",{y:60,width:10,height:10,fill:l[13]}),B.jsx("rect",{y:70,width:10,height:10,fill:l[14]}),B.jsx("rect",{x:20,y:10,width:10,height:10,fill:l[15]}),B.jsx("rect",{x:20,y:20,width:10,height:10,fill:l[16]}),B.jsx("rect",{x:20,y:30,width:10,height:10,fill:l[17]}),B.jsx("rect",{x:20,y:40,width:10,height:10,fill:l[18]}),B.jsx("rect",{x:20,y:50,width:10,height:10,fill:l[19]}),B.jsx("rect",{x:20,y:60,width:10,height:10,fill:l[20]}),B.jsx("rect",{x:20,y:70,width:10,height:10,fill:l[21]}),B.jsx("rect",{x:40,y:10,width:10,height:10,fill:l[22]}),B.jsx("rect",{x:40,y:20,width:10,height:10,fill:l[23]}),B.jsx("rect",{x:40,y:30,width:10,height:10,fill:l[24]}),B.jsx("rect",{x:40,y:40,width:10,height:10,fill:l[25]}),B.jsx("rect",{x:40,y:50,width:10,height:10,fill:l[26]}),B.jsx("rect",{x:40,y:60,width:10,height:10,fill:l[27]}),B.jsx("rect",{x:40,y:70,width:10,height:10,fill:l[28]}),B.jsx("rect",{x:60,y:10,width:10,height:10,fill:l[29]}),B.jsx("rect",{x:60,y:20,width:10,height:10,fill:l[30]}),B.jsx("rect",{x:60,y:30,width:10,height:10,fill:l[31]}),B.jsx("rect",{x:60,y:40,width:10,height:10,fill:l[32]}),B.jsx("rect",{x:60,y:50,width:10,height:10,fill:l[33]}),B.jsx("rect",{x:60,y:60,width:10,height:10,fill:l[34]}),B.jsx("rect",{x:60,y:70,width:10,height:10,fill:l[35]}),B.jsx("rect",{x:10,y:10,width:10,height:10,fill:l[36]}),B.jsx("rect",{x:10,y:20,width:10,height:10,fill:l[37]}),B.jsx("rect",{x:10,y:30,width:10,height:10,fill:l[38]}),B.jsx("rect",{x:10,y:40,width:10,height:10,fill:l[39]}),B.jsx("rect",{x:10,y:50,width:10,height:10,fill:l[40]}),B.jsx("rect",{x:10,y:60,width:10,height:10,fill:l[41]}),B.jsx("rect",{x:10,y:70,width:10,height:10,fill:l[42]}),B.jsx("rect",{x:30,y:10,width:10,height:10,fill:l[43]}),B.jsx("rect",{x:30,y:20,width:10,height:10,fill:l[44]}),B.jsx("rect",{x:30,y:30,width:10,height:10,fill:l[45]}),B.jsx("rect",{x:30,y:40,width:10,height:10,fill:l[46]}),B.jsx("rect",{x:30,y:50,width:10,height:10,fill:l[47]}),B.jsx("rect",{x:30,y:60,width:10,height:10,fill:l[48]}),B.jsx("rect",{x:30,y:70,width:10,height:10,fill:l[49]}),B.jsx("rect",{x:50,y:10,width:10,height:10,fill:l[50]}),B.jsx("rect",{x:50,y:20,width:10,height:10,fill:l[51]}),B.jsx("rect",{x:50,y:30,width:10,height:10,fill:l[52]}),B.jsx("rect",{x:50,y:40,width:10,height:10,fill:l[53]}),B.jsx("rect",{x:50,y:50,width:10,height:10,fill:l[54]}),B.jsx("rect",{x:50,y:60,width:10,height:10,fill:l[55]}),B.jsx("rect",{x:50,y:70,width:10,height:10,fill:l[56]}),B.jsx("rect",{x:70,y:10,width:10,height:10,fill:l[57]}),B.jsx("rect",{x:70,y:20,width:10,height:10,fill:l[58]}),B.jsx("rect",{x:70,y:30,width:10,height:10,fill:l[59]}),B.jsx("rect",{x:70,y:40,width:10,height:10,fill:l[60]}),B.jsx("rect",{x:70,y:50,width:10,height:10,fill:l[61]}),B.jsx("rect",{x:70,y:60,width:10,height:10,fill:l[62]}),B.jsx("rect",{x:70,y:70,width:10,height:10,fill:l[63]})]})]})},Oe=36;function AZ(e,t){const n=Mc(e),i=t&&t.length,r=jo(n,t,i),a=bn(n,10,1),l=a<5?a+Oe/9:a,u=bn(n,10,2),h=u<5?u+Oe/9:u;return{wrapperColor:r,faceColor:gZ(r),backgroundColor:jo(n+13,t,i),wrapperTranslateX:l,wrapperTranslateY:h,wrapperRotate:bn(n,360),wrapperScale:1+bn(n,Oe/12)/10,isMouthOpen:X1(n,2),isCircle:X1(n,1),eyeSpread:bn(n,5),mouthSpread:bn(n,3),faceRotate:bn(n,10,3),faceTranslateX:l>Oe/6?l/2:bn(n,8,1),faceTranslateY:h>Oe/6?h/2:bn(n,7,2)}}const _A=({name:e,colors:t,title:n,square:i,size:r,...a})=>{const l=AZ(e,t),u=O.useId();return B.jsxs("svg",{viewBox:"0 0 "+Oe+" "+Oe,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:r,height:r,...a,children:[n&&B.jsx("title",{children:e}),B.jsx("mask",{id:u,maskUnits:"userSpaceOnUse",x:0,y:0,width:Oe,height:Oe,children:B.jsx("rect",{width:Oe,height:Oe,rx:i?void 0:Oe*2,fill:"#FFFFFF"})}),B.jsxs("g",{mask:`url(#${u})`,children:[B.jsx("rect",{width:Oe,height:Oe,fill:l.backgroundColor}),B.jsx("rect",{x:"0",y:"0",width:Oe,height:Oe,transform:"translate("+l.wrapperTranslateX+" "+l.wrapperTranslateY+") rotate("+l.wrapperRotate+" "+Oe/2+" "+Oe/2+") scale("+l.wrapperScale+")",fill:l.wrapperColor,rx:l.isCircle?Oe:Oe/6}),B.jsxs("g",{transform:"translate("+l.faceTranslateX+" "+l.faceTranslateY+") rotate("+l.faceRotate+" "+Oe/2+" "+Oe/2+")",children:[l.isMouthOpen?B.jsx("path",{d:"M15 "+(19+l.mouthSpread)+"c2 1 4 1 6 0",stroke:l.faceColor,fill:"none",strokeLinecap:"round"}):B.jsx("path",{d:"M13,"+(19+l.mouthSpread)+" a1,0.75 0 0,0 10,0",fill:l.faceColor}),B.jsx("rect",{x:14-l.eyeSpread,y:14,width:1.5,height:2,rx:1,stroke:"none",fill:l.faceColor}),B.jsx("rect",{x:20+l.eyeSpread,y:14,width:1.5,height:2,rx:1,stroke:"none",fill:l.faceColor})]})]})]})},CZ=4,qn=80;function RZ(e,t){const n=Mc(e),i=t&&t.length;return Array.from({length:CZ},(r,a)=>jo(n+a,t,i))}const OZ=({name:e,colors:t,title:n,square:i,size:r,...a})=>{const l=RZ(e,t),u=e.replace(/\s/g,""),h=O.useId();return B.jsxs("svg",{viewBox:"0 0 "+qn+" "+qn,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:r,height:r,...a,children:[n&&B.jsx("title",{children:e}),B.jsx("mask",{id:h,maskUnits:"userSpaceOnUse",x:0,y:0,width:qn,height:qn,children:B.jsx("rect",{width:qn,height:qn,rx:i?void 0:qn*2,fill:"#FFFFFF"})}),B.jsxs("g",{mask:`url(#${h})`,children:[B.jsx("path",{fill:"url(#gradient_paint0_linear_"+u+")",d:"M0 0h80v40H0z"}),B.jsx("path",{fill:"url(#gradient_paint1_linear_"+u+")",d:"M0 40h80v40H0z"})]}),B.jsxs("defs",{children:[B.jsxs("linearGradient",{id:"gradient_paint0_linear_"+u,x1:qn/2,y1:0,x2:qn/2,y2:qn/2,gradientUnits:"userSpaceOnUse",children:[B.jsx("stop",{stopColor:l[0]}),B.jsx("stop",{offset:1,stopColor:l[1]})]}),B.jsxs("linearGradient",{id:"gradient_paint1_linear_"+u,x1:qn/2,y1:qn/2,x2:qn/2,y2:qn,gradientUnits:"userSpaceOnUse",children:[B.jsx("stop",{stopColor:l[2]}),B.jsx("stop",{offset:1,stopColor:l[3]})]})]})]})},zZ=3,xn=80;function DZ(e,t){const n=Mc(e),i=t&&t.length;return Array.from({length:zZ},(r,a)=>({color:jo(n+a,t,i),translateX:bn(n*(a+1),xn/10,1),translateY:bn(n*(a+1),xn/10,2),scale:1.2+bn(n*(a+1),xn/20)/10,rotate:bn(n*(a+1),360,1)}))}const fz=({name:e,colors:t,title:n,square:i,size:r,...a})=>{const l=DZ(e,t),u=O.useId();return B.jsxs("svg",{viewBox:"0 0 "+xn+" "+xn,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:r,height:r,...a,children:[n&&B.jsx("title",{children:e}),B.jsx("mask",{id:u,maskUnits:"userSpaceOnUse",x:0,y:0,width:xn,height:xn,children:B.jsx("rect",{width:xn,height:xn,rx:i?void 0:xn*2,fill:"#FFFFFF"})}),B.jsxs("g",{mask:`url(#${u})`,children:[B.jsx("rect",{width:xn,height:xn,fill:l[0].color}),B.jsx("path",{filter:`url(#filter_${u})`,d:"M32.414 59.35L50.376 70.5H72.5v-71H33.728L26.5 13.381l19.057 27.08L32.414 59.35z",fill:l[1].color,transform:"translate("+l[1].translateX+" "+l[1].translateY+") rotate("+l[1].rotate+" "+xn/2+" "+xn/2+") scale("+l[2].scale+")"}),B.jsx("path",{filter:`url(#filter_${u})`,style:{mixBlendMode:"overlay"},d:"M22.216 24L0 46.75l14.108 38.129L78 86l-3.081-59.276-22.378 4.005 12.972 20.186-23.35 27.395L22.215 24z",fill:l[2].color,transform:"translate("+l[2].translateX+" "+l[2].translateY+") rotate("+l[2].rotate+" "+xn/2+" "+xn/2+") scale("+l[2].scale+")"})]}),B.jsx("defs",{children:B.jsxs("filter",{id:`filter_${u}`,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[B.jsx("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),B.jsx("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),B.jsx("feGaussianBlur",{stdDeviation:7,result:"effect1_foregroundBlur"})]})})]})},LZ={pixel:SZ,bauhaus:pA,ring:EZ,beam:_A,sunset:OZ,marble:fz,geometric:_A,abstract:pA},UZ=({variant:e="marble",colors:t=["#92A1C6","#146A7C","#F0AB3D","#C271B4","#C20D90"],name:n="Clara Barton",title:i=!1,size:r,square:a=!1,...l})=>{const u=LZ[e]||fz;return B.jsx(u,{colors:t,name:n,title:i,size:r,square:a,...l})};function NZ(){const{instance:e}=O.useContext(ti),{clients:t}=W7(),[n,i]=O.useState(null);return O.useEffect(()=>{n&&!t.includes(n)&&i(null)},[t]),e?B.jsxs(B.Fragment,{children:[B.jsx(ZC,{children:t.map(r=>B.jsx(PZ,{client:r},r.id))}),B.jsx(kZ,{clients:t,watchedClient:n,setWatchedClient:i})]}):null}const kZ=({clients:e,watchedClient:t,setWatchedClient:n})=>B.jsx("div",{className:"absolute left-40 top-4",children:B.jsx("div",{className:"avatar-group flex gap-1 rtl:space-x-reverse",children:e.map(i=>B.jsx("button",{onClick:()=>n(i!==t?i:null),className:`
                            border-2 rounded-full
                            ${i===t?" border-accent":"border-transparent"}
                        `,children:B.jsx(dz,{client:i})},i.id))})}),dz=({client:e})=>B.jsx("div",{title:e.username,children:B.jsx(UZ,{name:e.id,size:40,variant:"beam",colors:["#92A1C6","#146A7C","#F0AB3D","#C271B4","#C20D90"]})}),PZ=({client:e})=>{const[t,n]=O.useState(null);return O.useEffect(()=>{e.getCameraEntities().then(i=>n(i[0]))},[e]),t?B.jsx(hs,{scaleFactor:.0025,entity:t,children:B.jsx(dz,{client:e})},e.id):null};function BZ({entitiesMap:e}){const{entity:t}=Un({euid:"91153236-a05e-4127-a1c0-49b5761c41e3"}),{entity:n}=Un({euid:"ec221ded-08df-4bae-8982-bb47c82a0917"}),{entity:i}=Un({euid:"32cda313-895a-42e1-a5f6-dd50e398c332"}),{entity:r}=Un({euid:"96b43de7-3c72-4ae5-8d1f-b2137c50bc61"}),{entity:a}=Un({euid:"ed84c3ff-3c7f-445a-a1ff-d531c8f47133"}),{entity:l}=Un({euid:"1274b32e-4d37-41cb-ad2b-0ed4886bf918"}),{entity:u}=Un({euid:"df0b0b6f-789d-46a4-be69-4def0f8e1494"}),{entity:h}=Un({euid:"2276b2a3-8a16-4d42-934d-fee7376fab25"});return B.jsxs(ZC,{children:[B.jsx(hs,{entity:t,anchor:"right-bottom",scaleFactor:.0014,children:B.jsxs("p",{className:"bg-underground p-4 rounded-lg text-white",children:["Base",B.jsx("br",{}),"Axe Z"]})}),B.jsx(hs,{entity:n,anchor:"left-bottom",scaleFactor:.0014,children:B.jsxs("p",{className:"bg-underground p-4 rounded-lg text-white",children:["Epaule",B.jsx("br",{}),"Axe X"]})}),B.jsx(hs,{entity:i,anchor:"right-bottom",scaleFactor:.0014,children:B.jsxs("p",{className:"bg-underground p-4 rounded-lg text-white",children:["Coude 1",B.jsx("br",{}),"Axe Z"]})}),B.jsx(hs,{entity:r,anchor:"left-bottom",scaleFactor:.0014,children:B.jsxs("p",{className:"bg-underground p-4 rounded-lg text-white",children:["Bras",B.jsx("br",{}),"Axe Z"]})}),B.jsx(hs,{entity:a,anchor:"right-bottom",scaleFactor:.0014,children:B.jsxs("p",{className:"bg-underground p-4 rounded-lg text-white",children:["Coude 2",B.jsx("br",{}),"Axe Z"]})}),B.jsx(hs,{entity:l,anchor:"right-top",scaleFactor:.0014,children:B.jsxs("p",{className:"bg-underground p-4 rounded-lg text-white",children:["Coude 3",B.jsx("br",{}),"Axe X"]})}),B.jsx(hs,{entity:u,anchor:"right-top",scaleFactor:.0014,children:B.jsxs("p",{className:"bg-underground p-4 rounded-lg text-white",children:["Vireur",B.jsx("br",{}),"Axe X"]})}),B.jsx(hs,{entity:h,anchor:"right-top",scaleFactor:.0014,children:B.jsxs("p",{className:"bg-underground p-4 rounded-lg text-white",children:["Plateau",B.jsx("br",{}),"Axe X"]})})]})}function FZ(){const{instance:e}=O.useContext(ti),[t,n]=O.useState(50),[i,r]=O.useState(0),{entity:a}=Un({euid:"3951d6d3-bd81-43ff-96b2-0356d0bc7912"}),l=["5a54e41e-164c-47f8-bf4b-c8d00c3b61aa","561b317b-017f-410b-a04e-f925519dea62","3a2488f6-aa20-4698-883a-6eb5693964f9","cdcbac06-a458-4f35-b868-34ac8d57ddaa","92548856-c45a-45b5-a9d5-45c77bc7660b","63b13bc0-5491-414e-8980-ba67e32ff91f","21514595-395d-45a7-9c20-2a12bc1b520c","529dd88c-c943-41f0-88a7-b96419e1e8b8","de9844ab-3c9e-4ce7-9e2b-dec91474d11d","58ab98c3-25d3-4187-a407-24158f213996"],u=f=>{const d=Math.min(l.length-1,Math.floor(f/10));return l[d]},h=async()=>{const f=a==null?void 0:a.global_transform.position;e==null||e.scene.newEntity({name:"My Entity",components:{local_transform:{position:f,scale:[.003,.003,.005]},mesh_ref:{value:"53daef4f-eef0-4b09-9815-50733891ed10"},material_ref:{value:u(t)}}})};return O.useEffect(()=>{const f=setInterval(()=>{r((e==null?void 0:e.latency)||0)},33);return()=>{clearInterval(f)}},[r]),B.jsxs("div",{className:"absolute text-white top-4 left-4 flex flex-col gap-2 bg-black/30 p-3 rounded-xl",children:[B.jsx("button",{className:"button button-overlay",onClick:h,disabled:!e,children:"Create Entity"}),B.jsxs("label",{className:"flex flex-col text-white text-sm",children:["Température: ",t,B.jsx("br",{}),"Latency: ",`${i.toFixed(0)}ms`,B.jsx("input",{type:"range",min:0,max:100,value:t,onChange:f=>n(Number(f.target.value)),className:"w-40"})]})]})}function jZ(){const[e,t]=O.useState(null),[n,i]=O.useState(null);return B.jsx(B.Fragment,{children:e?B.jsx(Z7,{isTransient:!1,sceneId:e.sceneId,token:"public_ml59vXKlgs9fTJlx",LoadingPanel:Sk,children:B.jsx(L5,{children:B.jsx(mj,{children:B.jsx(OI,{children:B.jsxs(PI,{children:[B.jsx(LI,{}),n?B.jsxs(zF,{mode:n,onSessionEnd:()=>i(null),children:[B.jsx(yA,{}),B.jsxs("div",{className:"fixed top-4 left-4 flex items-center justify-center gap-4 z-[99999]",children:[B.jsx("button",{className:"button button-primary",onClick:()=>i(null),children:"Exit XR"}),n!=="immersive-ar"&&B.jsx(Qm,{mode:"immersive-ar",text:"Switch to",setXRMode:i}),n!=="immersive-vr"&&B.jsx(Qm,{mode:"immersive-vr",text:"Switch to",setXRMode:i})]})]}):B.jsxs(B.Fragment,{children:[B.jsx(yA,{}),B.jsxs("div",{className:"absolute bottom-[5vh] left-1/2 -translate-x-1/2 flex items-center justify-center gap-2 z-[99999]",children:[B.jsx(Qm,{mode:"immersive-ar",setXRMode:i}),B.jsx(Qm,{mode:"immersive-vr",setXRMode:i})]})]})]})})})})}):B.jsx(VZ,{onSubmit:t})})}function VZ({onSubmit:e}){const[t,n]=O.useState(""),i=r=>{r.preventDefault(),e({sceneId:t})};return B.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:B.jsxs("div",{className:"bg-white/80 backdrop-blur-md text-gray-800 rounded-2xl shadow-2xl p-10 max-w-md w-full border border-gray-200",children:[B.jsx(yZ,{}),B.jsxs("form",{onSubmit:i,className:"mt-6 space-y-4 w-full max-w-2xl",children:[B.jsx("label",{className:"block flex flex-col",children:B.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:t,onChange:r=>n(r.target.value),required:!0})}),B.jsx("div",{className:"space-y-2",children:[["NJ130 2.05","759ed8c4-fb60-432c-a41e-cf0f39f92d6f"],["NJ40","a1d7bb38-1a12-46fb-8485-36b29460cd2c"],["Test_Kuka [deprecated]","516d270a-5a6b-44e6-99c6-44df631bf475"],["Test_primitive [deprecated]","ec33e19d-da9f-4593-8412-a9c0c32cc5ba"]].map(([r,a])=>B.jsx("div",{className:"flex justify-center",children:B.jsxs("button",{type:"button",onClick:()=>n(a),className:"w-full bg-gray-100 hover:bg-gray-200 border border-gray-300 text-gray-800 px-5 py-2 rounded-md transition",children:["Load ",r]})},a))}),B.jsx("div",{className:"flex justify-center pt-4",children:B.jsx("button",{type:"submit",className:"bg-yellow-600 hover:bg-yellow-600 text-white px-6 py-2 rounded-md font-semibold transition",children:"Submit"})})]})]})})}function yA(){const{cameraEntity:e}=Qg(),{cameraEntity:t}=Qg(),{isConnecting:n}=O.useContext(ti),i=O.useRef(null),[r,a]=O.useState(!0),[l,u]=O.useState(!0);return O.useEffect(()=>{if(!(e!=null&&e.camera))return;const{dataJSON:h}=e.camera;e.camera.dataJSON={...h,ambientBRDF:!0,ambientSpecular:!0,drawGrid:!1,edgeOnSelf:!0,edgeOutlines:!0,filterSpecular:!0,grid:!1,sharpen:!0}},[e]),O.useEffect(()=>{if(!(t!=null&&t.camera))return;const{dataJSON:h}=t.camera;t.camera.dataJSON={...h,ambientBRDF:!0,ambientSpecular:!0,drawGrid:!1,edgeOnSelf:!0,edgeOutlines:!0,filterSpecular:!0,grid:!1,sharpen:!0}},[t]),B.jsxs(NI.Provider,{value:e,children:[B.jsx(L5,{children:B.jsx(zI,{})}),B.jsx(UI,{}),B.jsx("div",{className:"absolute bottom-[5%] right-[1.15%] z-50",children:B.jsx("button",{className:"p-3 rounded-xl backdrop-blur bg-white/10 border border-white/20 shadow-xl text-white w-[120px] text-sm",onClick:()=>a(h=>!h),children:r?"Minimize":"Alt. Camera"})}),B.jsx("div",{className:"absolute bottom-[3%] left-[3%] z-50",children:B.jsx("button",{className:"p-3 rounded-xl backdrop-blur bg-white/10 border border-white/20 shadow-xl text-white w-[120px] text-sm",onClick:()=>u(h=>!h),children:l?"Hide infos":"Show infos"})}),B.jsxs(J7,{className:"w-full h-screen",children:[B.jsxs(TT,{cameraEntity:e,className:"w-full h-full",children:[!n&&B.jsx("a",{href:"https://docs.3dverse.com/livelink.react/",target:"_blank",rel:"noopener noreferrer",className:"hidden"}),B.jsx(MT,{ref:i}),B.jsx(NZ,{}),l&&B.jsx(BZ,{}),r&&B.jsx("div",{className:"absolute bottom-10 right-4 w-1/4 aspect-video border border-tertiary rounded-xl shadow-xl",children:B.jsx(TT,{cameraEntity:t,className:"w-full h-full",children:B.jsx(MT,{})})})]}),B.jsx(FZ,{})]})]})}function Qm({mode:e,setXRMode:t,text:n="Enter"}){const[i,r]=O.useState(!1),[a,l]=O.useState(""),u=e.endsWith("ar")?"AR":"VR";return O.useEffect(()=>{if(!window.isSecureContext){l("WebXR requires a secure context (https).");return}fO.isSessionSupported(e).then(h=>{h?r(!0):l(`WebXR '${e}' is not supported on this device.`)})},[e]),B.jsxs("button",{className:"button button-primary"+(i?"":" opacity-50"),onClick:()=>t(e),disabled:!i,style:i?{}:{cursor:"not-allowed"},title:a,children:[n," ",u]})}window.Buffer||(window.Buffer=P6.Buffer);L6.createRoot(document.getElementById("root")).render(B.jsx(O.StrictMode,{children:B.jsx(jZ,{})}));
